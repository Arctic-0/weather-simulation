<!DOCTYPE html>
<html>
<head>

  <base href="/">

  <title>Hypatia</title>

  <meta charset="utf-8" />
  <meta name="description" content="Hypatia visualizes a set of cryospheric parameters provided by NOAA's Global Forecasing System (GFS), " />

  <meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0" />

  <meta name="mobile-web-app-capable"       content="yes" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="msapplication-tap-highlight"  content="no" />

  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
  <meta name="apple-mobile-web-app-title" content="Simulator">
  <link rel="apple-touch-icon" href="" />

  <meta name="mobile-web-app-capable" content="yes">

  <!-- update fb image https://developers.facebook.com/tools/debug/ -->

  <meta property="og:title" content="Weather-Simulation" />
  <meta property="og:type" content="website" />
  <meta property="og:description" content="Visualizes a set of cryospheric parameters provided by NOAA's Global Forecasing System (GFS)" />
  <meta property="og:image" content="https://arcticio.github.io/weather-simulation/images/preview.lg.png" />
  <meta property="og:url" content="https://arcticio.github.io/weather-simulation/">
  <meta name="twitter:card" content="summary_large_image">

  <!-- more: https://gist.github.com/kevinSuttle/1997924 -->

  <script src="js/aws.version.js"></script>
  <script type="text/javascript">

    var DEVELOP = 'False' === 'True'   ? true : false;
    var DEBUG   = 'False'   === 'True' ? true : false;
    // var ADMIN   = 'False'   === 'True' ? true : false;

    var TIM = (function(){
      
      var fill = new Array(18).join(' '), 
          pad  = function(s){return (s+fill).substr(0, fill.length);},
          now  = function( ){return (window.performance.now() / 1000).toFixed(2);}

      return {
        now: now,
        step: function( /* */ ){
          var args = [].slice.call(arguments);
          console.log (pad(args[0]), '-', now() + 's', ...args.slice(1));
        }
      };
      
    })();

    TIM.step('Hypatia', VERSION);

  </script>

  <link rel="stylesheet" href="css/style.css">
  <link rel="icon" href="images/favicon.ico" type="image/x-icon" />

  <script src='js/aws.support.js'></script>

  <style>
      

  </style>

</head>

<body>

  <div class="fullscreen">

    <div class="container" style="max-width: 600px; margin: auto; position: relative; height:100%">
      <table class="loader" style="max-width: 600px; margin: 0 auto; height:100%">
        <tr>
          <td class="title">
            <h1>Hypatia - Weather Simulation</h1>
            <h3><a id="homelink" rel="noreferrer noopener" href="https://github.com/arcticio/weather-simulation">Help &amp; Info</a></h3>
            <h3><a id="arcticio" rel="noreferrer noopener" target="_blank" href="http://www.arctic.io">arctic.io</a></h3>
            <div class="version">...</div>
          </td>
        </tr>
        <tr>
          <td class="progress">
            <div class="header">10, 9, 8, 7, ...</div>
            <div class="info"></div>
            <div>
              <div class="bar"></div>
              <div class="meter"></div>
              <img class="btnFullscreen" onclick="goFullscreen();this.src='images/transparent.png';" width="64"></img>
            </div>
          </td>
        </tr>
        <tr>
          <td class="error">
            <div class="header"></div>
            <div class="message"></div>
          </td>
        </tr>
      </table>
    </div>

    <div class="interface">

      <div class="panel chart container" height="128" width="128"></div>

      <!-- <img    class="loader" src="images/earth.ani.comp.gif"> -->
<!--       <img    class="panel image" src="" height="180" width="360"></img>
      <dir    class="panel latlon"></dir>
      <div    class="panel info" ondblclick="this.innerHTML = '' "></div>
      <canvas class="panel test" height="48" width="96" ondblclick=""></canvas>
      <canvas class="panel expi" height="48" width="96" ondblclick=""></canvas> -->

<!--       <div class="labels">
        <div class="label sun">Sun</div>
      </div> -->

    </div>

    <canvas class="simulator noselect"></canvas>

  </div>

  <div style="display:none">

    <script src='timeranges.js'></script>
    
<!--     <script src='dist/libs.pack.min.js'></script>

    <script src='dist/js.pack.min.js'></script> -->


    <script src="libs/orb2/orb2.js"></script>
    <script src="libs/orb2/core_v2r1.js"></script>
    <script src="libs/orb2/solarsystem_v2r1.js"></script>
    <script src="libs/orb2/vsop87a_ear.json"></script>

    <script src='libs/polyfills.js'></script>
    <script src='libs/async.js'></script>
    <script src='libs/jquery.js'></script>
    <script src='libs/moment.js'></script>
    <script src="libs/screenfull.js"></script>
    <script src='libs/tween.min.js'></script>
    <script src='libs/native.history.js'></script>
    <script src='libs/store.modern.min.js'></script>

    <script src='libs/three.86.js'></script>
    <script src='libs/threeGeoJSON.js'></script>

    <script src='libs/dat.gui.js'></script>
    
    <script src='libs/canvasjs.min.js'></script>


    <script src="data/population/places.big.js"></script>

    <script src="js/aws.helper.js"></script>
    <script src="js/aws.tools.js"></script>
    <script src="js/aws.time.js"></script>
    <script src="js/aws.res.js"></script>
    <script src="js/aws.ani.js"></script>

    <script src="js/cfg.js"></script>
    <script src="js/cfg.manager.js"></script>
    <script src="js/cfg.assets.js"></script>
    <script src="js/cfg.sprites.js"></script>
    <script src="js/cfg.preset.js"></script>

    <script src="js/sim.js"></script>
    <script src="js/sim.vars.js"></script>
    <script src="js/sim.tools.js"></script>
    <!-- <script src="js/sim.marray.js"></script> -->
    <script src="js/sim.charts.js"></script>
    <script src="js/sim.datagram.js"></script>
    <script src="js/sim.models.tmp2m.js"></script>
    <script src="js/sim.models.clouds.js"></script>
    <script src="js/sim.models.clouds.worker.js"></script>
    <script src="js/sim.models.jetstream.js"></script>
    <script src="js/sim.models.variables.js"></script>
    <script src="js/sim.models.wind.js"></script>
    <script src="js/sim.models.pratesfc.js"></script>

    <script src="js/scn.js"></script>
    <script src="js/scn.tools.js"></script>
    <script src="js/scn.meshes.js"></script>
    <script src="js/scn.meshes.multiline.js"></script>
    <script src="js/scn.meshes.atmosphere.js"></script>
    <script src="js/scn.meshes.background.js"></script>
    <script src="js/scn.meshes.basemaps.js"></script>
    <script src="js/scn.meshes.mask.js"></script>
    <!-- <script src="js/scn.meshes.basecopy.js"></script> -->
    <script src="js/scn.meshes.pixels.js"></script>
    <script src="js/scn.meshes.population.js"></script>
    
    <script src="js/ifc.js"></script>
    <script src="js/ifc.debug.js"></script>
    <script src="js/ifc.tools.js"></script>
    <script src="js/ifc.hud.js"></script>
    <script src="js/ifc.hud.widgets.js"></script>
    <script src="js/ifc.hud.performance.js"></script>
    <script src="js/ifc.controller.js"></script>
    <script src="js/aws.loader.js"></script>


    <script src="//freegeoip.net/json/?callback=CFG.location"></script>

    <script type="text/javascript">

      Orb.Time = Orb.Core.Time;
      Orb.Tool = Orb.Core.Tool;

      document.querySelectorAll('.progress .header')[0].innerHTML = 'main engine started';
      document.querySelectorAll('table .version')[0].innerHTML = VERSION;

      function goFullscreen() {
        // debugger;
        screenfull.toggle(document.querySelectorAll('.fullscreen')[0]);
      }

      window.onload = function () {

        TIM.step('WIN.load.in', 'threads:', navigator.hardwareConcurrency || 'unknown');

        CFG.Manager.init();

        LDR.parse(LDR.sequence());

        LDR.execute(function () {
          ANI.insert(0, ANI.library.intro(800, function () {
            CFG.isLoaded = true;
            IFC.Tools.updateUrl();
            // console.log('CFG.Device', JSON.stringify(CFG.Device, null, 2));
          }));
        });

      };

    </script>

  </div>

</body>
</html>

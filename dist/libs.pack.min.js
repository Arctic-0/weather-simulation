/*
 2010-2011 Benjamin Arthur Lupton <contact@balupton.com>
 @license New BSD License <http://creativecommons.org/licenses/BSD/>
 Public Domain
 @author Benjamin Arthur Lupton <contact@balupton.com>
 @author James Padolsey <https://gist.github.com/527683>
 Public Domain
 @author Benjamin Arthur Lupton <contact@balupton.com>
 jQuery v1.11.1 | (c) 2005, 2014 jQuery Foundation, Inc. | jquery.org/license  screenfull
 v3.2.0 - 2017-04-16
 (c) Sindre Sorhus; MIT License
*/
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,m,f){a!=Array.prototype&&a!=Object.prototype&&(a[m]=f.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(a,m,f,k){if(m){f=$jscomp.global;a=a.split(".");for(k=0;k<a.length-1;k++){var n=a[k];n in f||(f[n]={});f=f[n]}a=a[a.length-1];k=f[a];m=m(k);m!=k&&null!=m&&$jscomp.defineProperty(f,a,{configurable:!0,writable:!0,value:m})}};$jscomp.polyfill("Math.sinh",function(a){if(a)return a;var m=Math.exp;return function(a){a=Number(a);return 0===a?a:(m(a)-m(-a))/2}},"es6","es3");
$jscomp.polyfill("Math.cosh",function(a){if(a)return a;var m=Math.exp;return function(a){a=Number(a);return(m(a)+m(-a))/2}},"es6","es3");$jscomp.SYMBOL_PREFIX="jscomp_symbol_";$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.symbolCounter_=0;$jscomp.Symbol=function(a){return $jscomp.SYMBOL_PREFIX+(a||"")+$jscomp.symbolCounter_++};
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var a=$jscomp.global.Symbol.iterator;a||(a=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[a]&&$jscomp.defineProperty(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(a){var m=0;return $jscomp.iteratorPrototype(function(){return m<a.length?{done:!1,value:a[m++]}:{done:!0}})};
$jscomp.iteratorPrototype=function(a){$jscomp.initSymbolIterator();a={next:a};a[$jscomp.global.Symbol.iterator]=function(){return this};return a};$jscomp.iteratorFromArray=function(a,m){$jscomp.initSymbolIterator();a instanceof String&&(a+="");var f=0,k={next:function(){if(f<a.length){var n=f++;return{value:m(n,a[n]),done:!1}}k.next=function(){return{done:!0,value:void 0}};return k.next()}};k[Symbol.iterator]=function(){return k};return k};
$jscomp.polyfill("Array.prototype.keys",function(a){return a?a:function(){return $jscomp.iteratorFromArray(this,function(a){return a})}},"es6","es3");$jscomp.findInternal=function(a,m,f){a instanceof String&&(a=String(a));for(var k=a.length,n=0;n<k;n++){var p=a[n];if(m.call(f,p,n,a))return{i:n,v:p}}return{i:-1,v:void 0}};$jscomp.polyfill("Array.prototype.find",function(a){return a?a:function(a,f){return $jscomp.findInternal(this,a,f).v}},"es6","es3");
$jscomp.owns=function(a,m){return Object.prototype.hasOwnProperty.call(a,m)};$jscomp.polyfill("Object.assign",function(a){return a?a:function(a,f){for(var k=1;k<arguments.length;k++){var m=arguments[k];if(m)for(var p in m)$jscomp.owns(m,p)&&(a[p]=m[p])}return a}},"es6","es3");
$jscomp.checkStringArgs=function(a,m,f){if(null==a)throw new TypeError("The 'this' value for String.prototype."+f+" must not be null or undefined");if(m instanceof RegExp)throw new TypeError("First argument to String.prototype."+f+" must not be a regular expression");return a+""};
$jscomp.polyfill("String.prototype.repeat",function(a){return a?a:function(a){var f=$jscomp.checkStringArgs(this,null,"repeat");if(0>a||1342177279<a)throw new RangeError("Invalid count value");a|=0;for(var k="";a;)if(a&1&&(k+=f),a>>>=1)f+=f;return k}},"es6","es3");$jscomp.polyfill("Number.EPSILON",function(a){return Math.pow(2,-52)},"es6","es3");$jscomp.polyfill("Math.sign",function(a){return a?a:function(a){a=Number(a);return 0===a||isNaN(a)?a:0<a?1:-1}},"es6","es3");
$jscomp.polyfill("Array.prototype.values",function(a){return a?a:function(){return $jscomp.iteratorFromArray(this,function(a,f){return f})}},"es6","es3");$jscomp.polyfill("Number.isFinite",function(a){return a?a:function(a){return"number"!==typeof a?!1:!isNaN(a)&&Infinity!==a&&-Infinity!==a}},"es6","es3");$jscomp.polyfill("Number.isInteger",function(a){return a?a:function(a){return Number.isFinite(a)?a===Math.floor(a):!1}},"es6","es3");
var Orb={},XOrb2=function(a){var m=a.directory?a.directory:"./";var f={VERSION:"2.0.0",AUTHOR:"KASHIWAI,Isana",LICENSE:"GPL/MIT",Storage:{}};f.Storage.vsop_directory=m+"vsop/";for(var k=function(a){if(window.XMLHttpRequest)var f=new XMLHttpRequest;else if(window.ActiveXObject)try{f=new ActiveXObject("Msxml2.XMLHTTP")}catch(b){f=new ActiveXObject("Microsoft.XMLHTTP")}f.open("GET",a,!1);f.send("");return eval(f.responseText)},n=0,p=a.require.length;n<p;n++)switch(a.require[n]){case "core":f.Core=k(m+
a.require[n]+"_v2r1.js");f.Time=f.Core.Time;f.Tool=f.Core.Tool;f.Observer=f.Core.Observer;f.Observation=f.Core.Observation;break;case "solarsystem":f.SolarSystem=k(m+a.require[n]+"_v2r1.js");break;case "satellite":f.Satellite=k(m+a.require[n]+"_v2r1.js")}return f},JSON;JSON||(JSON={});
(function(){function a(a){return 10>a?"0"+a:a}function m(a){n.lastIndex=0;return n.test(a)?'"'+a.replace(n,function(a){var b=w[a];return"string"===typeof b?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function f(a,k){var t=p,c=k[a];c&&"object"===typeof c&&"function"===typeof c.toJSON&&(c=c.toJSON(a));"function"===typeof b&&(c=b.call(k,a,c));switch(typeof c){case "string":return m(c);case "number":return isFinite(c)?String(c):"null";case "boolean":case "null":return String(c);
case "object":if(!c)return"null";p+=z;var n=[];if("[object Array]"===Object.prototype.toString.apply(c)){var w=c.length;for(a=0;a<w;a+=1)n[a]=f(a,c)||"null";k=0===n.length?"[]":p?"[\n"+p+n.join(",\n"+p)+"\n"+t+"]":"["+n.join(",")+"]";p=t;return k}if(b&&"object"===typeof b)for(w=b.length,a=0;a<w;a+=1){if("string"===typeof b[a]){var q=b[a];(k=f(q,c))&&n.push(m(q)+(p?": ":":")+k)}}else for(q in c)Object.prototype.hasOwnProperty.call(c,q)&&(k=f(q,c))&&n.push(m(q)+(p?": ":":")+k);k=0===n.length?"{}":p?
"{\n"+p+n.join(",\n"+p)+"\n"+t+"}":"{"+n.join(",")+"}";p=t;return k}}"function"!==typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(b){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+a(this.getUTCMonth()+1)+"-"+a(this.getUTCDate())+"T"+a(this.getUTCHours())+":"+a(this.getUTCMinutes())+":"+a(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(a){return this.valueOf()});var k=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
n=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,p,z,w={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},b;"function"!==typeof JSON.stringify&&(JSON.stringify=function(a,k,n){var c;z=p="";if("number"===typeof n)for(c=0;c<n;c+=1)z+=" ";else"string"===typeof n&&(z=n);if((b=k)&&"function"!==typeof k&&("object"!==typeof k||"number"!==typeof k.length))throw Error("JSON.stringify");return f("",{"":a})});
"function"!==typeof JSON.parse&&(JSON.parse=function(a,b){function f(a,t){var c,q=a[t];if(q&&"object"===typeof q)for(c in q)if(Object.prototype.hasOwnProperty.call(q,c)){var k=f(q,c);void 0!==k?q[c]=k:delete q[c]}return b.call(a,t,q)}a=String(a);k.lastIndex=0;k.test(a)&&(a=a.replace(k,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(a.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,
"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return a=eval("("+a+")"),"function"===typeof b?f({"":a},""):a;throw new SyntaxError("JSON.parse");})})();"use strict";
Orb.Core={Tool:{DataLoader:function(a){var m;return function(a){m=!1;if(window.XMLHttpRequest)m=new XMLHttpRequest;else if(window.ActiveXObject)try{m=new ActiveXObject("Msxml2.XMLHTTP")}catch(n){console&&console.log(n),m=new ActiveXObject("Microsoft.XMLHTTP")}if(m)if(m.open("GET",a.path,a.ajax),m.send(null),0==a.ajax)try{var f="json"===a.format?JSON.parse(m.responseText):m.responseText;if(void 0!==a.callback)a.callback(f);else return f}catch(n){console&&console.log(n)}else try{m.onreadystatechange=
function(){if(4==m.readyState&&200==m.status){var a=JSON.parse(m.responseText);if(callback)callback(a);else return a}}}catch(n){console&&console.log(n)}}(a)}},Time:function(a){function m(a){return 10>a?"0"+a:a}var f=a?a:new Date;var k=function(a){return{year:a.getUTCFullYear(),month:a.getUTCMonth()+1,day:a.getUTCDate(),hours:a.getUTCHours(),minutes:a.getUTCMinutes(),seconds:a.getUTCSeconds()}}(f),n=function(){return k.hours/24+k.minutes/1440+k.seconds/86400},p=function(){var a=k.year;var b=k.month;
var f=k.day;2>=b&&(--a,b+=12);b=Math.floor(365.25*(a+4716))+Math.floor(30.6001*(b+1))+f-1524.5;2299160.5>b?a=0:(a=Math.floor(a/100),a=2-a+Math.floor(a/4));return b+a},z=function(){var a=k.year,b=a+(k.month-.5)/12;if(-500>=a){var f=(b-1820)/100;f=-20+32*f*f}else-500<a&&500>=a?(f=b/100,f=10583.6-1014.41*f+33.78311*f*f-5.952053*f*f*f-.1798452*f*f*f*f+.022174192*f*f*f*f*f+.0090316521*f*f*f*f*f):500<a&&1600>=a?(f=(b-1E3)/100,f=1574.2-556.01*f+71.23472*f*f+.319781*f*f*f-.8503463*f*f*f*f-.005050998*f*f*
f*f*f+.0083572073*f*f*f*f*f*f):1600<a&&1700>=a?(f=b-1600,f=120-.9808*f-.01532*f*f+f*f*f/7129):1700<a&&1800>=a?(f=b-1700,f=8.83+.1603*f-.0059285*f*f+1.3336E-4*f*f*f-f*f*f*f/1174E3):1800<a&&1860>=a?(f=b-1800,f=13.72-.332447*f+.0068612*f*f+.0041116*f*f*f-3.7436E-4*f*f*f*f+1.21272E-5*f*f*f*f*f-1.699E-7*f*f*f*f*f*f+8.75E-10*f*f*f*f*f*f*f):1860<a&&1900>=a?(f=b-1860,f=7.62+.5737*f-.251754*f*f+.01680668*f*f*f-4.473624E-4*f*f*f*f+f*f*f*f*f/233174):1900<a&&1920>=a?(f=b-1900,f=-2.79+1.494119*f-.0598939*f*f+
.0061966*f*f*f-1.97E-4*f*f*f*f):1920<a&&1941>=a?(f=b-1920,f=21.2+.84493*f-.0761*f*f+.0020936*f*f*f):1941<a&&1961>=a?(f=b-1950,f=29.07+.407*f-f*f/233+f*f*f/2547):1961<a&&1986>=a?(f=b-1975,f=45.45+1.067*f-f*f/260-f*f*f/718):1986<a&&2005>=a?(f=b-2E3,f=63.86+.3345*f-.060374*f*f+.0017275*f*f*f+6.51814E-4*f*f*f*f+2.373599E-5*f*f*f*f*f):2005<a&&2050>=a?(f=b-2E3,f=62.92+.32217*f+.005589*f*f):2050<a&&2150>=a?f=-20+(b-1820)/100*32*((b-1820)/100)-.5628*(2150-b):2150<a&&(f=(b-1820)/100,f=-20+32*f*f);return f};
return{date:f,year:Number(k.year),month:Number(k.month),day:Number(k.day),hours:Number(k.hours),minutes:Number(k.minutes),seconds:Number(k.seconds),time_in_day:n,timezone:f.getTimezoneOffset()/60,utc_string:k.year+"-"+m(k.month)+"-"+m(k.day)+" "+m(k.hours)+":"+m(k.minutes)+":"+m(k.seconds),local_string:function(a){a=f;var b=a.getFullYear(),k=a.getUTCMonth()+1;12<k&&(b+=1,k=12-k);var n=a.getDate(),p=a.getHours(),c=a.getMinutes();a=a.getSeconds();return b+"-"+m(k)+"-"+m(n)+" "+m(p)+":"+m(c)+":"+m(a)}(),
jd:function(){return p()+n()},gmst:function(){var a=Math.PI/180,b=3600*k.hours+60*k.minutes+k.seconds,f=(p()-2451545)/36525,n=(24110.5484+8640184.812866*f+.093104*f*f+6.2E-6*f*f*f)/3600;24<n&&(n%=24);var m=125.04452-1934.136261*f+.0020708*f*f+f*f*f/45E4;a=n+1.00273790925*b/3600+(-17.2*Math.sin(m*a)- -1.32*Math.sin(2*(280.4665+36000.7698*f)*a)-.23*Math.sin(2*(218.3165+481267.8813*f)*a)+.21*Math.sin(2*m*a))/15*Math.cos((23+26/60+21.448/3600-46.815/3600*f-5.9E-4/3600*f*f+.001813/3600*f*f*f)*a)/3600;
0>a&&(a=a%24+24);24<a&&(a%=24);return a},mjd:function(){return p()-2400000.5},tjd:function(){return p()-2440000.5},delta_t:z,et:function(){var a=new Date;a.setTime(f.getTime()+z());return new Orb.Time(a)}}},Observer:function(a){var m=Math.PI/180;return{position:{geographic:function(){return a},rectangular:function(f){var k=a.latitude,n=a.longitude;f=15*f.gmst()+n;n=Math.sin(k*m);n=1/Math.sqrt(1+-.0066943177699596585*n*n);return{x:6378.135*n*Math.cos(k*m)*Math.cos(f*m),y:6378.135*n*Math.cos(k*m)*Math.sin(f*
m),z:6335.437737530298*n*Math.sin(k*m)}}}}},Observation:function(a){var m=a.target,f=a.observer,k=Math.PI/180,n=function(a,f,n){var b=Number(f.ra);f=Number(f.dec);var m=Number(n.latitude);n=Number(n.longitude);f*=k;a=(15*a.gmst()+n-15*b)*k;m*=k;b=Math.atan2(-Math.cos(f)*Math.sin(a),Math.sin(f)*Math.cos(m)-Math.cos(f)*Math.sin(m)*Math.cos(a))/k;f=Math.asin(Math.sin(f)*Math.sin(m)+Math.cos(m)*Math.cos(f)*Math.cos(a))/k;0>b&&(b=b%360+360);return{azimuth:b,elevation:f}};return{horizontal:function(a){if(m.ra&&
m.dec)var p=n(a,m,f);else if(m.position.equatorial)p=m.position.equatorial(a),p=n(a,p,f);else if(m.position.rectangular){var w=m.position.rectangular(a);p=f.latitude;var b=f.longitude,t=(new Orb.Observer(f)).position.rectangular(a),x=w.x-t.x,H=w.y-t.y;w=w.z-t.z;t=15*a.gmst()+b;a=Math.sin(p*k)*Math.cos(t*k)*x+Math.sin(p*k)*Math.sin(t*k)*H-Math.cos(p*k)*w;b=-Math.sin(t*k)*x+Math.cos(t*k)*H;p=Math.cos(p*k)*Math.cos(t*k)*x+Math.cos(p*k)*Math.sin(t*k)*H+Math.sin(p*k)*w;p=Math.asin(p/Math.sqrt(a*a+b*b+
p*p));x=Math.atan2(-b,a);x=x/k+180;360<x&&(x%=360);p={azimuth:x,elevation:p}}return p}}}};
Orb.SolarSystem=function(){var a=Math.PI/180,m=function(b){b=(b.jd()-2451545)/36525;var c=(125.04452-1934.136261*b+.0020708*b*b+(b*b+b)/45E4)*a,f=(280.4665+36000.7698*b)*a,k=(218.3165+481267.8813*b)*a;return{nutation:-17.2/3600*Math.sin(c)- -1.32/3600*Math.sin(2*f)-.23/3600*Math.sin(2*k)+.21/3600*Math.sin(2*c)/a,obliquity:23+26/60+21.448/3600-46.815/3600*b-5.9E-4/3600*b*b+.001813/3600*b*b*b+(9.2/3600*Math.cos(c)+.57/3600*Math.cos(2*f)+.1/3600*Math.cos(2*k)-.09/3600*Math.cos(2*c))}},f=function(a,c){c=
c.data;var b=a.jd();a=c.length;b=(b-2451545)/365250;for(var f=[0,0,0],q=0;q<a;q++){var k=c[q].v,n=k[0];f[n]+=Math.pow(b,Number(k[1]))*Number(k[2])*Math.cos(Number(k[3])+Number(k[4])*b)}return{x:f[0],y:f[1],z:f[2]}},k=function(a,c){var b=Math.PI/180,f=a.y-c.y,k=a.z-c.z;a=a.x-c.x;c=f*Math.cos(23.439281*b)-k*Math.sin(23.439281*b);f=f*Math.sin(23.439281*b)+k*Math.cos(23.439281*b);k=Math.atan2(c,a)/b;0>k&&(k=k%360+360);360<k&&(k%=360);return{ra:k/15,dec:Math.atan2(f,Math.sqrt(a*a+c*c))/b,distance:Math.sqrt(a*
a+c*c+f*f),x:a,y:c,z:f}},n=function(a){Orb.Storage.vsop_loaded=Orb.Storage.vsop_loaded||[];Orb.Storage.vsop=Orb.Storage.vsop||{};if(0>Orb.Storage.vsop_loaded.indexOf(a)){var c=Orb.Tool.DataLoader({format:"json",path:Orb.Storage.vsop_directory+a,ajax:!1});Orb.Storage.vsop_loaded.push(a);Orb.Storage.vsop[a]=c}else c=Orb.Storage.vsop[a];return c},p=Orb.Earth,z=function(a){a=new f(a,p);return{x:a.x,y:a.y,z:a.z}},w=function(a,c){var b=Number(a.eccentricity),f=2.9591220828559095*Math.pow(10,-4);var k=a.time_of_periapsis?
a.time_of_periapsis:a.epoch;var n=function(a,c){var q;a.semi_major_axis?q=a.semi_major_axis:a.perihelion_distance&&(q=a.perihelion_distance/(1-b));var n=180/Math.PI*Math.sqrt(f/(q*q*q));c=Number(c.jd())-Number(k);if(a.mean_anomaly&&a.epoch){var m=Number(a.mean_anomaly);m=n*c+m}else a.time_of_periapsis&&(m=n*c);360<m&&(m%=360);a=m*=Math.PI/180;c=0;do{n=a;a+=(m-a+b*Math.sin(a))/(1-b*Math.cos(a));if(1E5<c)break;c++}while(1E-8<Math.abs(n-a));0>180/Math.PI*a&&(a=Math.PI/180*(180/Math.PI*a+360));return{x:q*
(Math.cos(a)-b),y:q*Math.sqrt(1-Math.pow(b,2))*Math.sin(a),r:q*(1-b*Math.cos(a))}},m=function(a,c){var q;void 0==Math.cosh&&(Math.cosh=function(a){a=Math.exp(a);return(a+1/a)/2});void 0==Math.sinh&&(Math.sinh=function(a){a=Math.exp(a);return(a-1/a)/2});a.semi_major_axis&&0<a.semi_major_axis?q=a.semi_major_axis:a.perihelion_distance&&(q=a.perihelion_distance/(b-1));var n=180/Math.PI*Math.sqrt(f/(q*q*q));c=Number(c.jd())-Number(k);a.mean_anomaly&&a.epoch?(a=Number(a.mean_anomaly),a=n*c+a):a=n*c;360<
a&&(a%=360);c=a*=Math.PI/180;var m=0;do if(n=c,c+=(a-b*Math.sinh(c)+c)/(b*Math.cosh(c)-1),1E5<m++)break;while(1E-5<Math.abs(n-c));return{x:q*(b-Math.cosh(c)),y:q*Math.sqrt(Math.pow(b,2)-1)*Math.sinh(c),r:q*(1-b*Math.cosh(c))}};if(1>b)var p=n(a,c);else 1<b?p=m(a,c):1==b&&(b=1.0000001,p=m(a,c));a=function(a,c,b){b=Math.PI/180*Number(a.longitude_of_ascending_node);var f=Math.PI/180*Number(a.argument_of_periapsis);a=Math.PI/180*Number(a.inclination);return{x:c.x*(Math.cos(b)*Math.cos(f)-Math.sin(b)*Math.cos(a)*
Math.sin(f))-c.y*(Math.cos(b)*Math.sin(f)+Math.sin(b)*Math.cos(a)*Math.cos(f)),y:c.x*(Math.sin(b)*Math.cos(f)+Math.cos(b)*Math.cos(a)*Math.sin(f))-c.y*(Math.sin(b)*Math.sin(f)-Math.cos(b)*Math.cos(a)*Math.cos(f)),z:c.x*Math.sin(a)*Math.sin(f)+c.y*Math.sin(a)*Math.cos(f),orbital_plane:c}}(a,p,c);return{x:a.x,y:a.y,z:a.z,orbital_plane:a.orbital_plane}},b=function(a){360<a?a%=360:0>a&&(a=a%360+360);return a},t=function(a){var c=n("vsop87e_sun.json");a=new f(a,c);return{x:0-a.x,y:0-a.y,z:0-a.z}},x=function(a){var c=
Math.PI/180,f=(a.jd()-2451545)/36525,k=f*f,q=f*f*f,n=f*f*f*f,p=1-.002516*f-7.4E-6*k,t=218.3164477+481267.88123421*f-.0015786*k+q/538841-n/65194E3;t=b(t)*c;var w=297.8501921+445267.1114034*f-.0018819*k+q/545868-n/113065E3;w=b(w)*c;var x=357.5291092+35999.0502909*f-1.536E-4*k+q/2449E4;x=b(x)*c;var H=134.9633964+477198.8675055*f+.0087414*k+q/69699-n/14712E3;H=b(H)*c;var z=93.272095+483202.0175233*f-.0036539*k-q/3526E3+n/86331E4;z=b(z)*c;var Ma=119.75+131.849*f;Ma=b(Ma)*c;var Na=53.09+479264.29*f;Na=
b(Na)*c;var oa=313.45+481266.484*f;oa=b(oa)*c;var J=[[0,0,1,0,6288774,-20905335],[2,0,-1,0,1274027,-3699111],[2,0,0,0,658314,-2955968],[0,0,2,0,213618,-569925],[0,1,0,0,-185116,48888],[0,0,0,2,-114332,-3149],[2,0,-2,0,58793,246158],[2,-1,-1,0,57066,-152138],[2,0,1,0,53322,-170733],[2,-1,0,0,45758,-204586],[0,1,-1,0,-40923,-129620],[1,0,0,0,-34720,108743],[0,1,1,0,-30383,104755],[2,0,0,-2,15327,10321],[0,0,1,2,-12528,0],[0,0,1,-2,10980,79661],[4,0,-1,0,10675,-34782],[0,0,3,0,10034,-23210],[4,0,-2,
0,8548,-21636],[2,1,-1,0,-7888,24208],[2,1,0,0,-6766,30824],[1,0,-1,0,-5163,-8379],[1,1,0,0,4987,-16675],[2,-1,1,0,4036,-12831],[2,0,2,0,3994,-10445],[4,0,0,0,3861,-11650],[2,0,-3,0,3665,14403],[0,1,-2,0,-2689,-7003],[2,0,-1,2,-2602,0],[2,-1,-2,0,2390,10056],[1,0,1,0,-2348,6322],[2,-2,0,0,2236,-9884],[0,1,2,0,-2120,5751],[0,2,0,0,-2069,0],[2,-2,-1,0,2048,-4950],[2,0,1,-2,-1773,4130],[2,0,0,2,-1595,0],[4,-1,-1,0,1215,-3958],[0,0,2,2,-1110,0],[3,0,-1,0,-892,3258],[2,1,1,0,-810,2616],[4,-1,-2,0,759,
-1897],[0,2,-1,0,-713,-2117],[2,2,-1,0,-700,2354],[2,1,-2,0,691,0],[2,-1,0,-2,596,0],[4,0,1,0,549,-1423],[0,0,4,0,537,-1117],[4,-1,0,0,520,-1571],[1,0,-2,0,-487,-1739],[2,1,0,-2,-399,0],[0,0,2,-2,-381,-4421],[1,1,1,0,351,0],[3,0,-2,0,-340,0],[4,0,-3,0,330,0],[2,-1,2,0,327,0],[0,2,1,0,-323,1165],[1,1,-1,0,299,0],[2,0,3,0,294,0],[2,0,-1,-2,0,8752]],Oa=[[0,0,0,1,5128122],[0,0,1,1,280602],[0,0,1,-1,277693],[2,0,0,-1,173237],[2,0,-1,1,55413],[2,0,-1,-1,46271],[2,0,0,1,32573],[0,0,2,1,17198],[2,0,1,-1,
9266],[0,0,2,-1,8822],[2,-1,0,-1,8216],[2,0,-2,-1,4324],[2,0,1,1,4200],[2,1,0,-1,-3359],[2,-1,-1,1,2463],[2,-1,0,1,2211],[2,-1,-1,-1,2065],[0,1,-1,-1,-1870],[4,0,-1,-1,1828],[0,1,0,1,-1794],[0,0,0,3,-1749],[0,1,-1,1,-1565],[1,0,0,1,-1491],[0,1,1,1,-1475],[0,1,1,-1,-1410],[0,1,0,-1,-1344],[1,0,0,-1,-1335],[0,0,3,1,1107],[4,0,0,-1,1021],[4,0,-1,1,833],[0,0,1,-3,777],[4,0,-2,1,671],[2,0,0,-3,607],[2,0,2,-1,596],[2,-1,1,-1,491],[2,0,-2,1,-451],[0,0,3,-1,439],[2,0,2,1,422],[2,0,-3,-1,421],[2,1,-1,1,-366],
[2,1,0,1,-351],[4,0,0,1,331],[2,-1,1,1,315],[2,-2,0,-1,302],[0,0,1,3,-283],[2,1,1,-1,-229],[1,1,0,-1,223],[1,1,0,1,223],[0,1,-2,-1,-220],[2,1,-1,-1,-220],[1,0,1,1,-185],[2,-1,-2,-1,181],[0,1,2,1,-177],[4,0,-2,-1,176],[4,-1,-1,-1,166],[1,0,1,-1,-164],[4,0,1,-1,132],[1,0,-1,-1,-119],[4,-1,0,-1,115],[2,-2,0,1,107]];k=function(){for(var a,c=0,b=J.length,f=0;f<b;f++){var k=J[f][4],q=[J[f][0],J[f][1],J[f][2],J[f][3]];a=1==Math.abs(q[1])?p:2==Math.abs(q[1])?p*p:1;c+=k*Math.sin(q[0]*w+q[1]*x+q[2]*H+q[3]*
z)*a}c+=3958*Math.sin(Ma);c+=1962*Math.sin(t-z);return c+=318*Math.sin(Na)}();q=function(){for(var a,c=0,b=J.length,f=0;f<b;f++){var k=J[f][5],q=[J[f][0],J[f][1],J[f][2],J[f][3]];a=1==Math.abs(q[1])?p:2==Math.abs(q[1])?p*p:1;c+=k*Math.cos(q[0]*w+q[1]*x+q[2]*H+q[3]*z)*a}return c}();f=function(){for(var a,c=0,f=Oa.length,b=0;b<f;b++){var k=Oa[b][4],q=[Oa[b][0],Oa[b][1],Oa[b][2],Oa[b][3]];a=1==Math.abs(q[1])?p:2==Math.abs(q[1])?p*p:1;c+=k*Math.sin(q[0]*w+q[1]*x+q[2]*H+q[3]*z)*a}c+=-2235*Math.sin(t);
c+=382*Math.sin(oa);c+=175*Math.sin(Ma-z);c+=175*Math.sin(Ma+z);c+=127*Math.sin(t-H);return c+=-115*Math.sin(t+H)}();k=t/c%360+k/1E6;f/=1E6;q=385000.56+q/1E3;var G=new m(a);n=G.obliquity;k+=G.nutation;G=Math.atan2(Math.sin(k*c)*Math.cos(n*c)-Math.tan(f*c)*Math.sin(n*c),Math.cos(k*c))/c;G=b(G)/15;return{time:a,position:{equatorial:{ra:G,dec:Math.asin(Math.sin(f*c)*Math.cos(n*c)+Math.cos(f*c)*Math.sin(n*c)*Math.sin(k*c))/c,distance:q,parallax:Math.asin(6378.14/q)/c},ecliptic:{center:"Earth",x:q*Math.cos(f*
c)*Math.cos(k*c),y:q*Math.cos(f*c)*Math.sin(k*c),z:q*Math.sin(f*c)}},phase:function(){var f=a.date,k=a.jd(),q=new Date(a.year,0,1,0,0,0);f=Math.floor(12.3685*(a.year+(f-q)/(new Date(a.year,11,31,11,59,59,999)-q)-2E3));var n=f/1236.85,m=n*n,p=n*n*n,t=n*n*n*n;q=2451550.09766+29.530588861*f+1.5437E-4*m-1.5E-7*p+7.3E-10*t;n=b(1-.002516*n-7.4E-6*m);var w=b(2.5534+29.1053567*f-1.4E-6*m-1.1E-7*p);var A=b(201.5643+385.81693528*f+.0107582*m+1.238E-5*p-1.1E-8*t);t=b(160.7108+390.67050284*f-.0016118*m-2.27E-6*
p+1.1E-8*t);var F=b(124.7746-1.56375588*f+.0020672*m+2.15E-6*p);p=0-.4072*Math.sin(A*c);p+=.17241*n*Math.sin(w*c);p+=.01608*Math.sin(2*A*c);p+=.01039*Math.sin(2*t*c);p+=.00739*n*Math.sin((A-w)*c);p-=.00514*n*Math.sin((A+w)*c);p+=.00208*n*n*Math.sin(2*w*c);p-=.00111*Math.sin((A-2*t)*c);p-=5.7E-4*Math.sin((A+2*t)*c);p+=5.6E-4*n*Math.sin((2*A+w)*c);p-=4.2E-4*Math.sin(3*A*c);p+=4.2E-4*n*Math.sin((w+2*t)*c);p+=3.8E-4*n*Math.sin((w-2*t)*c);p-=2.4E-4*n*Math.sin((2*A-w)*c);p-=1.7E-4*Math.sin(F*c);p-=7E-5*
Math.sin((A+2*w)*c);p+=4E-5*Math.sin((2*A-2*t)*c);p+=4E-5*Math.sin(3*w*c);p+=3E-5*Math.sin((A+w-2*t)*c);p+=3E-5*Math.sin((2*A+2*t)*c);p-=3E-5*Math.sin((A+w+2*t)*c);p+=3E-5*Math.sin((A-w+2*t)*c);p-=2E-5*Math.sin((A-w-2*t)*c);p-=2E-5*Math.sin((3*A+w)*c);p+=2E-5*Math.sin(4*A*c);m=0+3.25E-4*Math.sin((299.77+.107408*f-.009173*m)*c);m+=1.65E-4*Math.sin((251.88+.016321*f)*c);m+=1.64E-4*Math.sin((251.83+26.651886*f)*c);m+=1.26E-4*Math.sin((349.42+36.412478*f)*c);m+=1.1E-4*Math.sin((84.66+18.206239*f)*c);
m+=6.2E-5*Math.sin((141.74+53.303771*f)*c);m+=6E-5*Math.sin((207.14+2.453732*f)*c);m+=5.6E-5*Math.sin((154.84+7.30686*f)*c);m+=4.7E-5*Math.sin((34.52+27.261239*f)*c);m+=4.2E-5*Math.sin((207.19+.121824*f)*c);m+=4E-5*Math.sin((291.34+1.844379*f)*c);m+=3.7E-5*Math.sin((161.72+24.198154*f)*c);m+=3.5E-5*Math.sin((239.56+25.513099*f)*c);m+=2.3E-5*Math.sin((331.55+3.592518*f)*c);return k-(q+p+m)}}};return{Sun:function(){return{position:{equatorial:function(f){var c=(f.jd()-2451545)/36525;var k=357.52911+
35999.05029*c-1.537E-4*c*c,n=.016708634-4.2037E-5*c-1.267E-7*c*c,q=(1.914602-.004817*c-1.4E-5*c*c)*Math.sin(k*a);q+=(.019993-1.01E-4*c)*Math.sin(2*k*a);q+=2.89E-4*Math.sin(3*k*a);c=280.46646+36000.76983*c+3.032E-4*c*c+q;k=1.000001018*(1-n*n)/(1+n*Math.cos((k+q)*a));n=new m(f);f=n.obliquity;n=c+n.nutation;q=Math.atan2(Math.cos(f*a)*Math.sin(n*a),Math.cos(n*a));q=b(q/a);var p=Math.asin(Math.sin(f*a)*Math.sin(n*a));p/=a;c=n*a;return{ra:q/15,dec:p,distance:k,longitude:c,x:k*Math.cos(n*a),y:k*Math.sin(n*
a)*Math.cos(f*a),z:k*Math.sin(n*a)*Math.sin(f*a)}}},radius:"6.955E+5",mass:"1.9891E+30"}},Sun2:function(){var a=Orb.Earth;return{position:{equatorial:function(c){c=new f(c,a);c=k({x:0,y:0,z:0},c);return{x:0-c.x,y:0-c.y,z:0-c.z,ra:c.ra,dec:c.dec,distance:c.distance}}},radius:"6.955E+5",mass:"1.9891E+30"}},Barycenter:function(){return{position:{ecliptic:function(a){a=new t(a);return{x:0-a.x,y:0-a.y,z:0-a.z}}}}},Mercury:function(){var a=n("vsop87a_mer.json");return{position:{ecliptic:function(c){return new f(c,
a)},equatorial:function(c){var b=new f(c,a);c=new z(c);b=k(b,c);return{x:b.x,y:b.y,z:b.z,ra:b.ra,dec:b.dec,distance:b.distance}}},orbital_period:"87.969",radius:"2439.7",mass:"3.3022E+23"}},Venus:function(){var a=n("vsop87a_ven.json");return{position:{ecliptic:function(c){return new f(c,a)},equatorial:function(c){var b=new f(c,a);c=new z(c);b=k(b,c);return{x:b.x,y:b.y,z:b.z,ra:b.ra,dec:b.dec,distance:b.distance}}},orbital_period:"224.70069",radius:"6051.8",mass:"4.8685E+24"}},Earth:function(){var a=
Orb.Earth;return{position:{ecliptic:function(c){return new f(c,a)},equatorial:function(c){var b=new f(c,a);c=new z(c);b=k(b,c);return{x:b.x,y:b.y,z:b.z,ra:b.ra,dec:b.dec,distance:b.distance}}},orbital_period:"365.256363004",radius:"6,371.0",mass:"5.9736E+24"}},Mars:function(){var a=n("vsop87a_mar.json");return{position:{ecliptic:function(c){return new f(c,a)},equatorial:function(c){var b=new f(c,a);c=new z(c);b=k(b,c);return{x:b.x,y:b.y,z:b.z,ra:b.ra,dec:b.dec,distance:b.distance}}},orbital_period:"686.971",
radius:"3,396.2",mass:"6.4185E+23"}},Jupiter:function(){var a=n("vsop87a_jup.json");return{position:{ecliptic:function(c){return new f(c,a)},equatorial:function(c){var b=new f(c,a);c=new z(c);b=k(b,c);return{x:b.x,y:b.y,z:b.z,ra:b.ra,dec:b.dec,distance:b.distance}}},orbital_period:"4331.572",radius:"71492",mass:"1.8986E+27"}},Saturn:function(){var a=n("vsop87a_sat.json");return{position:{ecliptic:function(c){return new f(c,a)},equatorial:function(c){var b=new f(c,a);c=new z(c);b=k(b,c);return{x:b.x,
y:b.y,z:b.z,ra:b.ra,dec:b.dec,distance:b.distance}}},orbital_period:"10759.22",radius:"60268",mass:"5.6846E+26"}},Uranus:function(){var a=n("vsop87a_ura.json");return{position:{ecliptic:function(c){return new f(c,a)},equatorial:function(c){var b=new f(c,a);c=new z(c);b=k(b,c);return{x:b.x,y:b.y,z:b.z,ra:b.ra,dec:b.dec,distance:b.distance}}},orbital_period:"30799.095",radius:"25559",mass:"8.6810E+25"}},Neptune:function(){var a=n("vsop87a_nep.json");return{position:{ecliptic:function(b){return new f(b,
a)},equatorial:function(b){var c=new f(b,a);b=new z(b);c=k(c,b);return{x:c.x,y:c.y,z:c.z,ra:c.ra,dec:c.dec,distance:c.distance}}},orbital_period:"60190",radius:"24764",mass:"1.0243E+26"}},FromKeplerian:function(a){return{position:{ecliptic:function(b){b=w(a,b);return{x:b.x,y:b.y,z:b.z}},orbital_plane:function(b){b=w(a,b);return{x:b.orbital_plane_x,y:b.orbital_plane_y,r:b.orbital_plane_r}},equatorial:function(b){var c=w(a,b);b=new z(b);c=k(c,b);return{ra:c.ra,dec:c.dec,distance:c.distance}}}}},Moon:function(){return{position:{ecliptic:function(a){a=
new x(a);return{x:a.position.ecliptic.x,y:a.position.ecliptic.y,z:a.position.ecliptic.z}},equatorial:function(a){a=new x(a);return{ra:a.position.equatorial.ra,dec:a.position.equatorial.dec,distance:a.position.equatorial.distance}}},phase:function(a){return(new x(a)).phase()}}}}};
Orb.Earth={name:"Planet",data:[{v:[0,0,.99982928844,1.75348568475,6283.0758499914]},{v:[0,0,.008352573,1.7103453945,12566.1516999828]},{v:[0,0,.00561144206,0,0]},{v:[0,0,1.0466628E-4,1.66722645223,18849.2275499742]},{v:[0,0,3.110838E-5,.66875185215,83996.84731811189]},{v:[0,0,2.552498E-5,.58310207301,529.6909650946]},{v:[0,0,2.137256E-5,1.09235189672,1577.3435424478]},{v:[0,0,1.709103E-5,.49540223397,6279.5527316424]},{v:[0,0,1.707882E-5,6.15315547484,6286.5989683404]},{v:[0,0,1.445242E-5,3.4727278376,
2352.8661537718]},{v:[0,0,1.091006E-5,3.68984782465,5223.6939198022]},{v:[0,0,9.34429E-6,6.07389922585,12036.4607348882]},{v:[0,0,8.99144E-6,3.17571950523,10213.285546211]},{v:[0,0,5.66514E-6,2.15262034016,1059.3819301892]},{v:[0,0,6.84416E-6,1.30699021227,5753.3848848968]},{v:[0,0,7.34455E-6,4.3550019653,398.1490034082]},{v:[0,0,6.81437E-6,2.21821534685,4705.7323075436]},{v:[0,0,6.11238E-6,5.38479234323,6812.766815086]},{v:[0,0,4.51836E-6,6.08768280868,5884.9268465832]},{v:[0,0,4.51953E-6,1.27933728354,
6256.7775301916]},{v:[0,0,4.49517E-6,5.36923831714,6309.3741697912]},{v:[0,0,4.06248E-6,.54361367084,6681.2248533996]},{v:[0,0,5.40957E-6,.78677364655,775.522611324]},{v:[0,0,5.47004E-6,1.46146650376,14143.4952424306]},{v:[0,0,5.20484E-6,4.43295799975,7860.4193924392]},{v:[0,0,2.1496E-6,4.50213844573,11506.7697697936]},{v:[0,0,2.27892E-6,1.23941482802,7058.5984613154]},{v:[0,0,2.25878E-6,3.27244306207,4694.0029547076]},{v:[0,0,2.5582E-6,2.26556277246,12168.0026965746]},{v:[0,0,2.56182E-6,1.4547411619,
709.9330485583]},{v:[0,0,1.7812E-6,2.96205424204,796.2980068164]},{v:[0,0,1.61205E-6,1.47337718956,5486.777843175]},{v:[0,0,1.78325E-6,6.24374704602,6283.14316029419]},{v:[0,0,1.78325E-6,.40466470869,6283.0085396886]},{v:[0,0,1.55487E-6,1.62409309523,25132.3033999656]},{v:[0,0,2.09024E-6,5.85207528073,11790.6290886588]},{v:[0,0,1.99971E-6,4.07209938245,17789.845619785]},{v:[0,0,1.28933E-6,5.2169331415,7079.3738568078]},{v:[0,0,1.28099E-6,4.80182882228,3738.761430108]},{v:[0,0,1.51691E-6,.86921639327,
213.299095438]},{v:[0,1,.00123403056,0,0]},{v:[0,1,5.1500156E-4,6.00266267204,12566.1516999828]},{v:[0,1,1.290726E-5,5.95943124583,18849.2275499742]},{v:[0,1,1.068627E-5,2.01554176551,6283.0758499914]},{v:[0,1,2.12689E-6,1.73380190491,6279.5527316424]},{v:[0,1,2.12515E-6,4.91489371033,6286.5989683404]},{v:[0,1,6.226E-7,.36239798178,4705.7323075436]},{v:[0,1,5.9822E-7,3.81195369871,6256.7775301916]},{v:[0,1,5.9514E-7,2.8363416015,6309.3741697912]},{v:[0,1,4.8841E-7,5.21419389335,775.522611324]},{v:[0,
1,4.2883E-7,.43789776559,1059.3819301892]},{v:[0,1,4.6286E-7,.01839494103,7860.4193924392]},{v:[0,1,3.5675E-7,1.45279327264,5884.9268465832]},{v:[0,1,3.6061E-7,2.16002201071,5753.3848848968]},{v:[0,1,3.5367E-7,4.47243820095,6812.766815086]},{v:[0,1,3.2137E-7,5.19589851893,6681.2248533996]},{v:[0,1,2.8763E-7,5.91618989512,25132.3033999656]},{v:[0,1,2.8447E-7,1.14976253807,6127.6554505572]},{v:[0,1,2.7573E-7,5.50119104683,6438.4962494256]},{v:[0,1,2.4815E-7,2.92204909812,5486.777843175]},{v:[0,1,2.0611E-7,
3.71790880968,7079.3738568078]},{v:[0,1,1.9565E-7,2.89351924469,5507.5532386674]},{v:[0,1,1.8308E-7,1.46954314992,11790.6290886588]},{v:[0,1,1.6471E-7,6.22682639292,11506.7697697936]},{v:[0,1,1.6757E-7,3.81935015812,7058.5984613154]},{v:[0,1,1.4555E-7,5.97554823531,6290.1893969922]},{v:[0,1,1.4388E-7,.68157599309,6275.9623029906]},{v:[0,1,1.3921E-7,1.44156172409,796.2980068164]},{v:[0,1,1.1845E-7,4.15246503623,4694.0029547076]},{v:[0,1,1.2573E-7,.30429978572,7.1135470008]},{v:[0,1,1.0073E-7,3.28940171828,
3738.761430108]},{v:[0,1,1.0425E-7,4.26610810148,6282.0955289232]},{v:[0,1,1.0425E-7,2.38242547117,6284.0561710596]},{v:[0,2,4.143217E-5,3.14159265359,0]},{v:[0,2,2.175695E-5,4.39999849572,12566.1516999828]},{v:[0,2,9.95233E-6,.20790847155,6283.0758499914]},{v:[0,2,9.2659E-7,4.1928547101,18849.2275499742]},{v:[0,2,1.3679E-7,3.37833642063,6286.5989683404]},{v:[0,2,1.3668E-7,3.27271492019,6279.5527316424]},{v:[0,3,1.75213E-6,3.14159265359,0]},{v:[0,3,7.2337E-7,2.89303952476,12566.1516999828]},{v:[0,
3,8.364E-8,3.85500954096,6283.0758499914]},{v:[0,3,5.04E-8,2.53152989786,18849.2275499742]},{v:[0,3,1.481E-8,2.23672235234,6438.4962494256]},{v:[0,3,1.481E-8,4.41181122031,6127.6554505572]},{v:[0,4,4.022E-8,0,0]},{v:[0,4,1.927E-8,1.18746233453,12566.1516999828]},{v:[1,0,.9998921103,.18265890456,6283.0758499914]},{v:[1,0,.02442699036,3.14159265359,0]},{v:[1,0,.00835292314,.13952878991,12566.1516999828]},{v:[1,0,1.0466965E-4,.09641690558,18849.2275499742]},{v:[1,0,3.110838E-5,5.38114091484,83996.84731811189]},
{v:[1,0,2.570338E-5,5.3010397336,529.6909650946]},{v:[1,0,2.147473E-5,2.66253538905,1577.3435424478]},{v:[1,0,1.709219E-5,5.20780401071,6279.5527316424]},{v:[1,0,1.707987E-5,4.58232858766,6286.5989683404]},{v:[1,0,1.440265E-5,1.90068164664,2352.8661537718]},{v:[1,0,1.135092E-5,5.2731341522,5223.6939198022]},{v:[1,0,9.34539E-6,4.50301201844,12036.4607348882]},{v:[1,0,9.00565E-6,1.6056328812,10213.285546211]},{v:[1,0,5.67126E-6,.58142248753,1059.3819301892]},{v:[1,0,7.44932E-6,2.80728871886,398.1490034082]},
{v:[1,0,6.39316E-6,6.02923915017,5753.3848848968]},{v:[1,0,6.81324E-6,.64729627497,4705.7323075436]},{v:[1,0,6.11347E-6,3.81381495286,6812.766815086]},{v:[1,0,4.50435E-6,4.52785572489,5884.9268465832]},{v:[1,0,4.52018E-6,5.99167242707,6256.7775301916]},{v:[1,0,4.49968E-6,3.79880375595,6309.3741697912]},{v:[1,0,5.5139E-6,3.96125249369,5507.5532386674]},{v:[1,0,4.06334E-6,5.25616268027,6681.2248533996]},{v:[1,0,5.41273E-6,5.49902805917,775.522611324]},{v:[1,0,5.4636E-6,6.17311131785,14143.4952424306]},
{v:[1,0,5.07084E-6,2.87025193381,7860.4193924392]},{v:[1,0,2.19504E-6,2.95216139568,11506.7697697936]},{v:[1,0,2.27937E-6,5.95179248814,7058.5984613154]},{v:[1,0,2.27792E-6,4.84547074733,4694.0029547076]},{v:[1,0,2.55845E-6,.69454231563,12168.0026965746]},{v:[1,0,2.56132E-6,6.16722512388,709.9330485583]},{v:[1,0,1.79242E-6,1.40003446021,796.2980068164]},{v:[1,0,1.7828E-6,5.11717552231,6283.0085396886]},{v:[1,0,1.7828E-6,4.67307255246,6283.14316029419]},{v:[1,0,1.55454E-6,.05340525434,25132.3033999656]},
{v:[1,0,2.06257E-6,4.28366728882,11790.6290886588]},{v:[1,0,1.49769E-6,6.07429023278,5486.777843175]},{v:[1,0,2.00005E-6,2.5014408812,17789.845619785]},{v:[1,0,1.29006E-6,3.64623708634,7079.3738568078]},{v:[1,0,1.28211E-6,3.23254821381,3738.761430108]},{v:[1,0,1.5279E-6,5.5812080045,213.299095438]},{v:[1,0,1.18725E-6,5.45361490488,9437.762934887]},{v:[1,1,9.3046324E-4,0,0]},{v:[1,1,5.1506609E-4,4.43180499286,12566.1516999828]},{v:[1,1,1.2908E-5,4.3886054854,18849.2275499742]},{v:[1,1,4.6455E-6,5.82729912952,
6283.0758499914]},{v:[1,1,2.12689E-6,.16300556918,6279.5527316424]},{v:[1,1,2.12533E-6,3.34400595407,6286.5989683404]},{v:[1,1,6.2345E-7,5.07377354827,4705.7323075436]},{v:[1,1,5.9794E-7,2.24100907272,6256.7775301916]},{v:[1,1,5.9441E-7,1.26619990626,6309.3741697912]},{v:[1,1,4.8987E-7,3.64166577835,775.522611324]},{v:[1,1,4.2746E-7,5.15177425824,1059.3819301892]},{v:[1,1,4.6642E-7,4.715752158,7860.4193924392]},{v:[1,1,3.7274E-7,.66041323804,5753.3848848968]},{v:[1,1,3.5625E-7,6.15462846966,5884.9268465832]},
{v:[1,1,3.5373E-7,2.90052012152,6812.766815086]},{v:[1,1,3.2157E-7,3.62669702015,6681.2248533996]},{v:[1,1,2.8763E-7,4.34539355621,25132.3033999656]},{v:[1,1,2.8447E-7,5.86215103214,6127.6554505572]},{v:[1,1,2.7502E-7,3.92641632542,6438.4962494256]},{v:[1,1,2.483E-7,1.35190115953,5486.777843175]},{v:[1,1,2.0618E-7,2.14772396647,7079.3738568078]},{v:[1,1,1.9531E-7,1.29958310594,5507.5532386674]},{v:[1,1,1.8447E-7,6.17330532651,11790.6290886588]},{v:[1,1,1.652E-7,4.63328039489,11506.7697697936]},{v:[1,
1,1.6754E-7,2.24862220282,7058.5984613154]},{v:[1,1,1.456E-7,4.40425761361,6290.1893969922]},{v:[1,1,1.4426E-7,5.39226330857,6275.9623029906]},{v:[1,1,1.4186E-7,6.18547219419,796.2980068164]},{v:[1,1,1.2666E-7,5.73231393752,4694.0029547076]},{v:[1,1,1.2966E-7,5.10338935824,7.1135470008]},{v:[1,1,1.01E-7,1.72464513593,3738.761430108]},{v:[1,1,1.0425E-7,2.69531177468,6282.0955289232]},{v:[1,1,1.0425E-7,.81162914438,6284.0561710596]},{v:[1,2,5.080208E-5,0,0]},{v:[1,2,2.178016E-5,2.82957544235,12566.1516999828]},
{v:[1,2,1.020487E-5,4.63746718598,6283.0758499914]},{v:[1,2,9.2688E-7,2.6221874842,18849.2275499742]},{v:[1,2,1.368E-7,1.80736896884,6286.5989683404]},{v:[1,2,1.3668E-7,1.70191859339,6279.5527316424]},{v:[1,3,1.28116E-6,3.14159265359,0]},{v:[1,3,7.2366E-7,1.32019314413,12566.1516999828]},{v:[1,3,1.3847E-7,5.37444701633,6283.0758499914]},{v:[1,3,5.044E-8,.96001931081,18849.2275499742]},{v:[1,3,1.481E-8,.66592602555,6438.4962494256]},{v:[1,3,1.481E-8,2.84101489351,6127.6554505572]},{v:[1,4,4.187E-8,
3.14159265359,0]},{v:[1,4,1.931E-8,5.89883838,12566.1516999828]},{v:[2,0,2.7962E-6,3.19870156017,84334.66158130829]},{v:[2,0,1.01625E-6,5.42248110597,5507.5532386674]},{v:[2,1,.00227822442,3.41372504278,6283.0758499914]},{v:[2,1,5.429282E-5,0,0]},{v:[2,1,1.903183E-5,3.37061270964,12566.1516999828]},{v:[2,1,2.3859E-7,3.32836261978,18849.2275499742]},{v:[2,2,9.721989E-5,5.15233725915,6283.0758499914]},{v:[2,2,3.49501E-6,3.14159265359,0]},{v:[2,2,6.7136E-7,.64403888586,12566.1516999828]},{v:[2,3,2.76077E-6,
.5941325873,6283.0758499914]},{v:[2,3,2.5551E-7,3.14159265359,0]},{v:[2,3,1.81E-8,.11612262117,12566.1516999828]},{v:[2,4,5.751E-8,2.27069090892,6283.0758499914]},{v:[2,4,1.305E-8,0,0]}]};
Array.prototype.findIndex||Object.defineProperty(Array.prototype,"findIndex",{value:function(a,m){if(null==this)throw new TypeError('"this" is null or not defined');var f=Object(this),k=f.length>>>0;if("function"!==typeof a)throw new TypeError("predicate must be a function");for(var n=0;n<k;){if(a.call(m,f[n],n,f))return n;n++}return-1}});
Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(a,m){if(null==this)throw new TypeError('"this" is null or not defined');var f=Object(this),k=f.length>>>0;if("function"!==typeof a)throw new TypeError("predicate must be a function");for(var n=0;n<k;){var p=f[n];if(a.call(m,p,n,f))return p;n++}}});
(function(a,m){"object"===typeof exports&&"undefined"!==typeof module?m(exports):"function"===typeof define&&define.amd?define(["exports"],m):m(a.async=a.async||{})})(this,function(a){function m(a,d){d|=0;for(var g=Math.max(a.length-d,0),b=Array(g),c=0;c<g;c++)b[c]=a[d+c];return b}function f(a){var d=typeof a;return null!=a&&("object"==d||"function"==d)}function k(a){setTimeout(a,0)}function n(a){return function(d){var g=m(arguments,1);a(function(){d.apply(null,g)})}}function p(a){return $b(function(d,
g){try{var b=a.apply(this,d)}catch(Wc){return g(Wc)}f(b)&&"function"===typeof b.then?b.then(function(a){try{g(null,a)}catch(gc){Eb(z,gc)}},function(a){a=a.message?a:Error(a);try{g(a,void 0)}catch(gc){Eb(z,gc)}}):g(null,b)})}function z(a){throw a;}function w(a){return zd&&"AsyncFunction"===a[Symbol.toStringTag]}function b(a){return w(a)?p(a):a}function t(a){return function(d){var g=m(arguments,1),c=$b(function(g,c){var f=this;return a(d,function(a,d){b(a).apply(f,g.concat(d))},c)});return g.length?
c.apply(this,g):c}}function x(a){if(null==a)return void 0===a?"[object Undefined]":"[object Null]";a=Object(a);if(nb&&nb in a){var d=Ic.call(a,hc),g=a[hc];try{a[hc]=void 0;var b=!0}catch(gc){}var c=Yc.call(a);b&&(d?a[hc]=g:delete a[hc]);b=c}else b=tc.call(a);return b}function H(a){return"number"==typeof a&&-1<a&&0==a%1&&9007199254740991>=a}function c(a){var d;if(d=null!=a&&H(a.length))f(a)?(a=x(a),a="[object Function]"==a||"[object GeneratorFunction]"==a||"[object AsyncFunction]"==a||"[object Proxy]"==
a):a=!1,d=!a;return d}function F(){}function V(a){return function(){if(null!==a){var d=a;a=null;d.apply(this,arguments)}}}function q(a){return null!=a&&"object"==typeof a}function U(a){return q(a)&&"[object Arguments]"==x(a)}function A(){return!1}function ta(a){return q(a)&&H(a.length)&&!!La[x(a)]}function bb(a){return function(d){return a(d)}}function fa(a){if(c(a)){var d=Bb(a),g=!d&&Zc(a),b=!d&&!g&&uc(a),f=!d&&!g&&!b&&ub(a);if(d=d||g||b||f){g=a.length;for(var u=String,h=-1,R=Array(g);++h<g;)R[h]=
u(h);g=R}else g=[];u=g.length;for(var Y in a)(h=!ua.call(a,Y))||!(h=d)||(h="length"==Y||b&&("offset"==Y||"parent"==Y)||f&&("buffer"==Y||"byteLength"==Y||"byteOffset"==Y))||(h=Y,R=u,R=null==R?9007199254740991:R,h=!!R&&("number"==typeof h||vc.test(h))&&-1<h&&0==h%1&&h<R),h||g.push(Y);a=g}else if(Y=a&&a.constructor,a===("function"==typeof Y&&Y.prototype||wc)){Y=[];for(b in Object(a))vb.call(a,b)&&"constructor"!=b&&Y.push(b);a=Y}else a=Pb(a);return a}function xa(a){var d=-1,g=a.length;return function(){return++d<
g?{value:a[d],key:d}:null}}function Ca(a){var d=-1;return function(){var g=a.next();if(g.done)return null;d++;return{value:g.value,key:d}}}function Ma(a){var d=fa(a),g=-1,b=d.length;return function(){var c=d[++g];return g<b?{value:a[c],key:c}:null}}function Na(a){if(c(a))return xa(a);var d=td&&a[td]&&a[td]();return d?Ca(d):Ma(a)}function oa(a){return function(){if(null===a)throw Error("Callback was already called.");var d=a;a=null;d.apply(this,arguments)}}function J(a){return function(d,g,b){function c(a,
d){--R;if(a)u=!0,b(a);else{if(d===ob||u&&0>=R)return u=!0,b(null);f()}}function f(){for(;R<a&&!u;){var d=h();if(null===d){u=!0;0>=R&&b(null);break}R+=1;g(d.value,d.key,oa(c))}}b=V(b||F);if(0>=a||!d)return b(null);var h=Na(d),u=!1,R=0;f()}}function Oa(a,d,g,c){J(d)(a,b(g),c)}function G(a,d){return function(g,b,c){return a(g,d,b,c)}}function la(a,d,g){function b(a,d){a?g(a):++f!==h&&d!==ob||g(null)}g=V(g||F);var c=0,f=0,h=a.length;for(0===h&&g(null);c<h;c++)d(a[c],c,oa(b))}function cb(a){return function(d,
g,c){return a(pb,d,b(g),c)}}function ha(a,d,g,c){c=c||F;d=d||[];var f=[],h=0,u=b(g);a(d,function(a,d,g){var b=h++;u(a,function(a,d){f[b]=d;g(a)})},function(a){c(a,f)})}function aa(a){return function(d,g,c,f){return a(J(g),d,b(c),f)}}function tb(a,d){for(var g=-1,b=null==a?0:a.length;++g<b&&!1!==d(a[g],g,a););return a}function Ob(a,d){return a&&xc(a,d,fa)}function Zb(a,d,g){if(d===d)a:{--g;for(var b=a.length;++g<b;)if(a[g]===d){a=g;break a}a=-1}else a:{d=a.length;for(g+=-1;++g<d;)if(b=a[g],b!==b){a=
g;break a}a=-1}return a}function T(a,d){for(var g=-1,b=null==a?0:a.length,c=Array(b);++g<b;)c[g]=d(a[g],g,a);return c}function E(a){if("string"==typeof a)return a;if(Bb(a))return T(a,E)+"";if("symbol"==typeof a||q(a)&&"[object Symbol]"==x(a))return ma?ma.call(a):"";var d=a+"";return"0"==d&&1/a==-wb?"-0":d}function ea(a,d,g){var b=-1,c=a.length;0>d&&(d=-d>c?0:c+d);g=g>c?c:g;0>g&&(g+=c);c=d>g?0:g-d>>>0;d>>>=0;for(g=Array(c);++b<c;)g[b]=a[b+d];return g}function K(a){return gb.test(a)?a.match(xb)||[]:
a.split("")}function ra(a){a=a.toString().replace(Jc,"");a=(a=a.match(Fb)[2].replace(" ",""))?a.split(Qb):[];return a=a.map(function(a){a=a.replace(Ia,"");var d=void 0;if((a=null==a?"":E(a))&&void 0===d)a=a.replace(Gb,"");else if(a&&(d=E(d))){a=K(a);d=K(d);var g=-1;for(var b=a.length;++g<b&&-1<Zb(d,a[g],0););for(b=a.length;b--&&-1<Zb(d,a[b],0););d=b+1;b=a.length;d=void 0===d?b:d;a=(!g&&d>=b?a:ea(a,g,d)).join("")}return a})}function pa(a,d){var g={};Ob(a,function(a,d){function c(d,g){var c=T(u,function(a){return d[a]});
c.push(g);b(a).apply(null,c)}var f=w(a),h=!f&&1===a.length||f&&0===a.length;if(Bb(a)){var u=a.slice(0,-1);a=a[a.length-1];g[d]=u.concat(0<u.length?c:a)}else if(h)g[d]=a;else{u=ra(a);if(0===a.length&&!f&&0===u.length)throw Error("autoInject task functions require explicit parameters.");f||u.pop();g[d]=u.concat(c)}});Ka(g,d)}function ka(){this.head=this.tail=null;this.length=0}function Q(a,d,g){function c(a,d,g){if(null!=g&&"function"!==typeof g)throw Error("task callback must be a function");k.started=
!0;Bb(a)||(a=[a]);if(0===a.length&&k.idle())return Eb(function(){k.drain()});for(var B=0,b=a.length;B<b;B++){var c={data:a[B],callback:g||F};d?k._tasks.unshift(c):k._tasks.push(c)}Eb(k.process)}function f(a){return function(d){--u;for(var g=0,B=a.length;g<B;g++){var b=a[g],c=Zb(R,b,0);0<=c&&R.splice(c);b.callback.apply(b,arguments);null!=d&&k.error(d,b.data)}u<=k.concurrency-k.buffer&&k.unsaturated();k.idle()&&k.drain();k.process()}}if(null==d)d=1;else if(0===d)throw Error("Concurrency must not be zero");
var h=b(a),u=0,R=[],Y=!1,k={_tasks:new ka,concurrency:d,payload:g,saturated:F,unsaturated:F,buffer:d/4,empty:F,drain:F,error:F,started:!1,paused:!1,push:function(a,d){c(a,!1,d)},kill:function(){k.drain=F;k._tasks.empty()},unshift:function(a,d){c(a,!0,d)},remove:function(a){k._tasks.remove(a)},process:function(){if(!Y){for(Y=!0;!k.paused&&u<k.concurrency&&k._tasks.length;){var a=[],d=[],g=k._tasks.length;k.payload&&(g=Math.min(g,k.payload));for(var B=0;B<g;B++){var b=k._tasks.shift();a.push(b);d.push(b.data)}u+=
1;R.push(a[0]);0===k._tasks.length&&k.empty();u===k.concurrency&&k.saturated();a=oa(f(a));h(d,a)}Y=!1}},length:function(){return k._tasks.length},running:function(){return u},workersList:function(){return R},idle:function(){return 0===k._tasks.length+u},pause:function(){k.paused=!0},resume:function(){!1!==k.paused&&(k.paused=!1,Eb(k.process))}};return k}function Va(a,d){return Q(a,1,d)}function Hb(a,d,g,c){c=V(c||F);var f=b(g);Ja(a,function(a,g,b){f(d,a,function(a,g){d=g;b(a)})},function(a){c(a,d)})}
function Kc(){var a=T(arguments,b);return function(){var d=m(arguments),g=this,b=d[d.length-1];"function"==typeof b?d.pop():b=F;Hb(a,d,function(a,d,b){d.apply(g,a.concat(function(a){var d=m(arguments,1);b(a,d)}))},function(a,d){b.apply(g,[a].concat(d))})}}function qa(a,d,g,b){var c=[];a(d,function(a,d,b){g(a,function(a,d){c=c.concat(d||[]);b(a)})},function(a){b(a,c)})}function Ra(a){return a}function lb(a,d){return function(g,b,c,f){f=f||F;var u=!1,h;g(b,function(g,b,f){c(g,function(b,c){b?f(b):a(c)&&
!h?(u=!0,h=d(!0,g),f(null,ob)):f()})},function(a){a?f(a):f(null,u?h:d(!1))})}}function db(a,d){return d}function N(a){return function(d){var g=m(arguments,1);g.push(function(d){var g=m(arguments,1);"object"===typeof console&&(d?console.error&&console.error(d):console[a]&&tb(g,function(d){console[a](d)}))});b(d).apply(null,g)}}function h(a,d,g){function c(a){if(a)return g(a);var d=m(arguments,1);d.push(f);h.apply(this,d)}function f(a,d){if(a)return g(a);if(!d)return g(null);u(c)}g=oa(g||F);var u=b(a),
h=b(d);f(null,!0)}function Xa(a,d,g){g=oa(g||F);var c=b(a),f=function(a){if(a)return g(a);var b=m(arguments,1);if(d.apply(this,b))return c(f);g.apply(null,[null].concat(b))};c(f)}function $c(a,d,g){Xa(a,function(){return!d.apply(this,arguments)},g)}function ad(a,d,g){function c(a){if(a)return g(a);h(f)}function f(a,d){if(a)return g(a);if(!d)return g(null);u(c)}g=oa(g||F);var u=b(d),h=b(a);h(f)}function kd(a){return function(d,g,b){return a(d,b)}}function hb(a,d,g){pb(a,kd(b(d)),g)}function ac(a,d,
g,c){J(d)(a,kd(b(g)),c)}function O(a){return w(a)?a:$b(function(d,g){var b=!0;d.push(function(){var a=arguments;b?Eb(function(){g.apply(null,a)}):g.apply(null,a)});a.apply(this,d);b=!1})}function yb(a){return!a}function S(a){return function(d){return null==d?void 0:d[a]}}function Qa(a,d,g,b){var c=Array(d.length);a(d,function(a,d,b){g(a,function(a,g){c[d]=!!g;b(a)})},function(a){if(a)return b(a);a=[];for(var g=0;g<d.length;g++)c[g]&&a.push(d[g]);b(null,a)})}function Za(a,d,g,b){var c=[];a(d,function(a,
d,b){g(a,function(g,f){g?b(g):(f&&c.push({index:d,value:a}),b())})},function(a){a?b(a):b(null,T(c.sort(function(a,d){return a.index-d.index}),S("value")))})}function ia(a,d,g,f){(c(d)?Qa:Za)(a,d,b(g),f||F)}function sa(a,d){function g(a){if(a)return c(a);f(g)}var c=oa(d||F),f=b(O(a));g()}function ib(a,d,g,c){c=V(c||F);var f={},u=b(g);Oa(a,d,function(a,d,g){u(a,d,function(a,b){if(a)return g(a);f[d]=b;g()})},function(a){c(a,f)})}function yc(a,d){var g=Object.create(null),c=Object.create(null);d=d||Ra;
var f=b(a),u=$b(function(a,b){var u=d.apply(null,a);u in g?Eb(function(){b.apply(null,g[u])}):u in c?c[u].push(b):(c[u]=[b],f.apply(null,a.concat(function(){var a=m(arguments);g[u]=a;var d=c[u];delete c[u];for(var b=0,f=d.length;b<f;b++)d[b].apply(null,a)})))});u.memo=g;u.unmemoized=a;return u}function qb(a,d,g){g=g||F;var f=c(d)?[]:{};a(d,function(a,d,g){b(a)(function(a,b){2<arguments.length&&(b=m(arguments,1));f[d]=b;g(a)})},function(a){g(a,f)})}function jc(a,d){qb(pb,a,d)}function Jb(a,d,g){qb(J(d),
a,g)}function Lc(a,d){d=V(d||F);if(!Bb(a))return d(new TypeError("First argument to race must be an array of functions"));if(!a.length)return d();for(var g=0,c=a.length;g<c;g++)b(a[g])(d)}function zb(a,d,g,b){a=m(a).reverse();Hb(a,d,g,b)}function W(a){var d=b(a);return $b(function(a,g){a.push(function(a,d){if(a)g(null,{error:a});else{var b=2>=arguments.length?d:m(arguments,1);g(null,{value:b})}});return d.apply(this,a)})}function Kb(a,d,g,b){ia(a,d,function(a,d){g(a,function(a,g){d(a,!g)})},b)}function za(a){if(Bb(a))var d=
T(a,W);else d={},Ob(a,function(a,g){d[g]=W.call(this,a)});return d}function zc(a){return function(){return a}}function ca(a,d,g){function c(a,d){if("object"===typeof d)a.times=+d.times||5,a.intervalFunc="function"===typeof d.interval?d.interval:zc(+d.interval||0),a.errorFilter=d.errorFilter;else if("number"===typeof d||"string"===typeof d)a.times=+d||5;else throw Error("Invalid arguments for async.retry");}function f(){h(function(a){a&&R++<u.times&&("function"!=typeof u.errorFilter||u.errorFilter(a))?
setTimeout(f,u.intervalFunc(R)):g.apply(null,arguments)})}var u={times:5,intervalFunc:zc(0)};3>arguments.length&&"function"===typeof a?(g=d||F,d=a):(c(u,a),g=g||F);if("function"!==typeof d)throw Error("Invalid arguments for async.retry");var h=b(d),R=1;f()}function Rb(a,d){qb(Ja,a,d)}function Sb(a,d,g){function c(a,d){a=a.criteria;d=d.criteria;return a<d?-1:a>d?1:0}var f=b(d);kc(a,function(a,d){f(a,function(g,b){if(g)return d(g);d(null,{value:a,criteria:b})})},function(a,d){if(a)return g(a);g(null,
T(d.sort(c),S("value")))})}function bc(a,d,g){var c=b(a);return $b(function(b,f){var u=!1;b.push(function(){u||(f.apply(null,arguments),clearTimeout(h))});var h=setTimeout(function(){var d=Error('Callback function "'+(a.name||"anonymous")+'" timed out.');d.code="ETIMEDOUT";g&&(d.info=g);u=!0;f(d)},d);c.apply(null,b)})}function Ib(a,d,g,c){g=b(g);var f=0,u=-1;a=ld(vd((a-f)/1),0);for(var h=Array(a);a--;)h[++u]=f,f+=1;Tb(h,d,g,c)}function mb(a,d,g,c){3>=arguments.length&&(c=g,g=d,d=Bb(a)?[]:{});c=V(c||
F);var f=b(g);pb(a,function(a,g,b){f(d,a,g,b)},function(a){c(a,d)})}function Ub(a,d){var g=null,c;d=d||F;Cb(a,function(a,d){b(a)(function(a,b){c=2<arguments.length?m(arguments,1):b;g=a;d(!a)})},function(){d(g,c)})}function cc(a){return function(){return(a.unmemoized||a).apply(null,arguments)}}function Sa(a,d,g){g=oa(g||F);var c=b(d);if(!a())return g(null);var f=function(d){if(d)return g(d);if(a())return c(f);var b=m(arguments,1);g.apply(null,[null].concat(b))};c(f)}function Ga(a,d,g){Sa(function(){return!a.apply(this,
arguments)},d,g)}var $b=function(a){return function(){var d=m(arguments),g=d.pop();a.call(this,d,g)}},md="function"===typeof setImmediate&&setImmediate,wd="object"===typeof process&&"function"===typeof process.nextTick,Eb=n(md?setImmediate:wd?process.nextTick:k),zd="function"===typeof Symbol,Mc="object"==typeof global&&global&&global.Object===Object&&global,Ad="object"==typeof self&&self&&self.Object===Object&&self,Bd=Mc||Ad||Function("return this")(),eb=Bd.Symbol,Ac=Object.prototype,Ic=Ac.hasOwnProperty,
Yc=Ac.toString,hc=eb?eb.toStringTag:void 0,tc=Object.prototype.toString,nb=eb?eb.toStringTag:void 0,ob={},td="function"===typeof Symbol&&Symbol.iterator,Bc=Object.prototype,bd=Bc.hasOwnProperty,nd=Bc.propertyIsEnumerable,Zc=U(function(){return arguments}())?U:function(a){return q(a)&&bd.call(a,"callee")&&!nd.call(a,"callee")},Bb=Array.isArray,Cd="object"==typeof a&&a&&!a.nodeType&&a,Cc=Cd&&"object"==typeof module&&module&&!module.nodeType&&module,$a=Cc&&Cc.exports===Cd?Bd.Buffer:void 0,uc=($a?$a.isBuffer:
void 0)||A,vc=/^(?:0|[1-9]\d*)$/,La={};La["[object Float32Array]"]=La["[object Float64Array]"]=La["[object Int8Array]"]=La["[object Int16Array]"]=La["[object Int32Array]"]=La["[object Uint8Array]"]=La["[object Uint8ClampedArray]"]=La["[object Uint16Array]"]=La["[object Uint32Array]"]=!0;La["[object Arguments]"]=La["[object Array]"]=La["[object ArrayBuffer]"]=La["[object Boolean]"]=La["[object DataView]"]=La["[object Date]"]=La["[object Error]"]=La["[object Function]"]=La["[object Map]"]=La["[object Number]"]=
La["[object Object]"]=La["[object RegExp]"]=La["[object Set]"]=La["[object String]"]=La["[object WeakMap]"]=!1;var Lb="object"==typeof a&&a&&!a.nodeType&&a,xd=Lb&&"object"==typeof module&&module&&!module.nodeType&&module,jb=xd&&xd.exports===Lb&&Mc.process;a:{try{var lc=jb&&jb.binding("util");break a}catch(jd){}lc=void 0}var Nc=lc&&lc.isTypedArray,ub=Nc?bb(Nc):ta,ua=Object.prototype.hasOwnProperty,wc=Object.prototype,Pb=function(a,d){return function(g){return a(d(g))}}(Object.keys,Object),vb=Object.prototype.hasOwnProperty,
Dc=G(Oa,Infinity),pb=function(a,d,g){(c(a)?la:Dc)(a,b(d),g)},kc=cb(ha),Vb=t(kc),Tb=aa(ha),Ea=G(Tb,1),kb=t(Ea),va=function(a){var d=m(arguments,1);return function(){var g=m(arguments);return a.apply(null,d.concat(g))}},xc=function(a){return function(d,g,b){var c=-1,f=Object(d);b=b(d);for(var u=b.length;u--;){var h=b[a?u:++c];if(!1===g(f[h],h,f))break}return d}}(),Ka=function(a,d,g){function c(a,d){Z.push(function(){R(a,d)})}function f(){if(0===Z.length&&0===n)return g(null,q);for(;Z.length&&n<d;)Z.shift()()}
function u(a,d){var g=B[a];g||(g=B[a]=[]);g.push(d)}function h(a){tb(B[a]||[],function(a){a()});f()}function R(a,d){if(!Ua){var c=oa(function(d,b){n--;2<arguments.length&&(b=m(arguments,1));if(d){var c={};Ob(q,function(a,d){c[d]=a});c[a]=b;Ua=!0;B=Object.create(null);g(d,c)}else q[a]=b,h(a)});n++;var f=b(d[d.length-1]);1<d.length?f(q,c):f(c)}}function Y(d){var g=[];Ob(a,function(a,B){Bb(a)&&0<=Zb(a,d,0)&&g.push(B)});return g}"function"===typeof d&&(g=d,d=null);g=V(g||F);var k=fa(a).length;if(!k)return g(null);
d||(d=k);var q={},n=0,Ua=!1,B=Object.create(null),Z=[],ya=[],p={};Ob(a,function(d,g){if(Bb(d)){var B=d.slice(0,d.length-1),b=B.length;0===b?(c(g,d),ya.push(g)):(p[g]=b,tb(B,function(f){if(!a[f])throw Error("async.auto task `"+g+"` has a non-existent dependency `"+f+"` in "+B.join(", "));u(f,function(){b--;0===b&&c(g,d)})}))}else c(g,[d]),ya.push(g)});(function(){for(var a,d=0;ya.length;)a=ya.pop(),d++,tb(Y(a),function(a){0===--p[a]&&ya.push(a)});if(d!==k)throw Error("async.auto cannot execute tasks due to a recursive dependency");
})();f()},wb=1/0,rb=eb?eb.prototype:void 0,ma=rb?rb.toString:void 0,gb=/[\u200d\ud800-\udfff\u0300-\u036f\ufe20-\ufe23\u20d0-\u20f0\ufe0e\ufe0f]/,xb=/\ud83c[\udffb-\udfff](?=\ud83c[\udffb-\udfff])|(?:[^\ud800-\udfff][\u0300-\u036f\ufe20-\ufe23\u20d0-\u20f0]?|[\u0300-\u036f\ufe20-\ufe23\u20d0-\u20f0]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe23\u20d0-\u20f0]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe23\u20d0-\u20f0]|\ud83c[\udffb-\udfff])?)*/g,
Gb=/^\s+|\s+$/g,Fb=/^(?:async\s+)?(function)?\s*[^\(]*\(\s*([^\)]*)\)/m,Qb=/,/,Ia=/(=.+)?(\s*)$/,Jc=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/mg;ka.prototype.removeLink=function(a){a.prev?a.prev.next=a.next:this.head=a.next;a.next?a.next.prev=a.prev:this.tail=a.prev;a.prev=a.next=null;--this.length;return a};ka.prototype.empty=function(){for(;this.head;)this.shift();return this};ka.prototype.insertAfter=function(a,d){d.prev=a;(d.next=a.next)?a.next.prev=d:this.tail=d;a.next=d;this.length+=1};ka.prototype.insertBefore=
function(a,d){d.prev=a.prev;d.next=a;a.prev?a.prev.next=d:this.head=d;a.prev=d;this.length+=1};ka.prototype.unshift=function(a){this.head?this.insertBefore(this.head,a):(this.length=1,this.head=this.tail=a)};ka.prototype.push=function(a){this.tail?this.insertAfter(this.tail,a):(this.length=1,this.head=this.tail=a)};ka.prototype.shift=function(){return this.head&&this.removeLink(this.head)};ka.prototype.pop=function(){return this.tail&&this.removeLink(this.tail)};ka.prototype.toArray=function(){for(var a=
Array(this.length),d=this.head,g=0;g<this.length;g++)a[g]=d.data,d=d.next;return a};ka.prototype.remove=function(a){for(var d=this.head;d;){var g=d.next;a(d)&&this.removeLink(d);d=g}return this};var Ja=G(Oa,1),Oc=function(){return Kc.apply(null,m(arguments).reverse())},mc=cb(qa),wa=function(a){return function(d,g,c){return a(Ja,d,b(g),c)}}(qa),sb=function(){var a=m(arguments),d=[null].concat(a);return function(){return arguments[arguments.length-1].apply(this,d)}},Db=cb(lb(Ra,db)),Wb=aa(lb(Ra,db)),
dc=G(Wb,1),nc=N("dir"),Cb=G(ac,1),Mb=cb(lb(yb,yb)),oc=aa(lb(yb,yb)),d=G(oc,1),g=cb(ia),u=aa(ia),R=G(u,1),Y=function(a,d,g,c){c=c||F;var f=b(g);Tb(a,d,function(a,d){f(a,function(g,b){return g?d(g):d(null,{key:b,val:a})})},function(a,d){for(var g={},b=Object.prototype.hasOwnProperty,f=0;f<d.length;f++)if(d[f]){var u=d[f].key,h=d[f].val;b.call(g,u)?g[u].push(h):g[u]=[h]}return c(a,g)})},Ua=G(Y,Infinity),Pc=G(Y,1),od=N("log"),Qc=G(ib,Infinity),Rc=G(ib,1),Sc=n(wd?process.nextTick:md?setImmediate:k),cd=
function(a,d){var g=b(a);return Q(function(a,d){g(a[0],d)},d,1)},Gc=function(a,d){var g=cd(a,d);g.push=function(a,d,b){null==b&&(b=F);if("function"!==typeof b)throw Error("task callback must be a function");g.started=!0;Bb(a)||(a=[a]);if(0===a.length)return Eb(function(){g.drain()});d=d||0;for(var c=g._tasks.head;c&&d>=c.priority;)c=c.next;for(var f=0,u=a.length;f<u;f++){var h={data:a[f],priority:d,callback:b};c?g._tasks.insertBefore(c,h):g._tasks.push(h)}Eb(g.process)};delete g.unshift;return g},
Ab=cb(Kb),Tc=aa(Kb),L=G(Tc,1),Ba=function(a,d){d||(d=a,a=null);var g=b(d);return $b(function(d,b){function c(a){g.apply(null,d.concat(a))}a?ca(a,c,b):ca(c,b)})},fb=cb(lb(Boolean,Ra)),Uc=aa(lb(Boolean,Ra)),dd=G(Uc,1),vd=Math.ceil,ld=Math.max,pc=G(Ib,Infinity),ed=G(Ib,1),ec=function(a,d){function g(d){var g=b(a[f++]);d.push(oa(c));g.apply(null,d)}function c(b){if(b||f===a.length)return d.apply(null,arguments);g(m(arguments,1))}d=V(d||F);if(!Bb(a))return d(Error("First argument to waterfall must be an array of functions"));
if(!a.length)return d();var f=0;g([])};a["default"]={applyEach:Vb,applyEachSeries:kb,apply:va,asyncify:p,auto:Ka,autoInject:pa,cargo:Va,compose:Oc,concat:mc,concatSeries:wa,constant:sb,detect:Db,detectLimit:Wb,detectSeries:dc,dir:nc,doDuring:h,doUntil:$c,doWhilst:Xa,during:ad,each:hb,eachLimit:ac,eachOf:pb,eachOfLimit:Oa,eachOfSeries:Ja,eachSeries:Cb,ensureAsync:O,every:Mb,everyLimit:oc,everySeries:d,filter:g,filterLimit:u,filterSeries:R,forever:sa,groupBy:Ua,groupByLimit:Y,groupBySeries:Pc,log:od,
map:kc,mapLimit:Tb,mapSeries:Ea,mapValues:Qc,mapValuesLimit:ib,mapValuesSeries:Rc,memoize:yc,nextTick:Sc,parallel:jc,parallelLimit:Jb,priorityQueue:Gc,queue:cd,race:Lc,reduce:Hb,reduceRight:zb,reflect:W,reflectAll:za,reject:Ab,rejectLimit:Tc,rejectSeries:L,retry:ca,retryable:Ba,seq:Kc,series:Rb,setImmediate:Eb,some:fb,someLimit:Uc,someSeries:dd,sortBy:Sb,timeout:bc,times:pc,timesLimit:Ib,timesSeries:ed,transform:mb,tryEach:Ub,unmemoize:cc,until:Ga,waterfall:ec,whilst:Sa,all:Mb,any:fb,forEach:hb,forEachSeries:Cb,
forEachLimit:ac,forEachOf:pb,forEachOfSeries:Ja,forEachOfLimit:Oa,inject:Hb,foldl:Hb,foldr:zb,select:g,selectLimit:u,selectSeries:R,wrapSync:p};a.applyEach=Vb;a.applyEachSeries=kb;a.apply=va;a.asyncify=p;a.auto=Ka;a.autoInject=pa;a.cargo=Va;a.compose=Oc;a.concat=mc;a.concatSeries=wa;a.constant=sb;a.detect=Db;a.detectLimit=Wb;a.detectSeries=dc;a.dir=nc;a.doDuring=h;a.doUntil=$c;a.doWhilst=Xa;a.during=ad;a.each=hb;a.eachLimit=ac;a.eachOf=pb;a.eachOfLimit=Oa;a.eachOfSeries=Ja;a.eachSeries=Cb;a.ensureAsync=
O;a.every=Mb;a.everyLimit=oc;a.everySeries=d;a.filter=g;a.filterLimit=u;a.filterSeries=R;a.forever=sa;a.groupBy=Ua;a.groupByLimit=Y;a.groupBySeries=Pc;a.log=od;a.map=kc;a.mapLimit=Tb;a.mapSeries=Ea;a.mapValues=Qc;a.mapValuesLimit=ib;a.mapValuesSeries=Rc;a.memoize=yc;a.nextTick=Sc;a.parallel=jc;a.parallelLimit=Jb;a.priorityQueue=Gc;a.queue=cd;a.race=Lc;a.reduce=Hb;a.reduceRight=zb;a.reflect=W;a.reflectAll=za;a.reject=Ab;a.rejectLimit=Tc;a.rejectSeries=L;a.retry=ca;a.retryable=Ba;a.seq=Kc;a.series=
Rb;a.setImmediate=Eb;a.some=fb;a.someLimit=Uc;a.someSeries=dd;a.sortBy=Sb;a.timeout=bc;a.times=pc;a.timesLimit=Ib;a.timesSeries=ed;a.transform=mb;a.tryEach=Ub;a.unmemoize=cc;a.until=Ga;a.waterfall=ec;a.whilst=Sa;a.all=Mb;a.allLimit=oc;a.allSeries=d;a.any=fb;a.anyLimit=Uc;a.anySeries=dd;a.find=Db;a.findLimit=Wb;a.findSeries=dc;a.forEach=hb;a.forEachSeries=Cb;a.forEachLimit=ac;a.forEachOf=pb;a.forEachOfSeries=Ja;a.forEachOfLimit=Oa;a.inject=Hb;a.foldl=Hb;a.foldr=zb;a.select=g;a.selectLimit=u;a.selectSeries=
R;a.wrapSync=p;Object.defineProperty(a,"__esModule",{value:!0})});
!function(a,m){"object"==typeof module&&"object"==typeof module.exports?module.exports=a.document?m(a,!0):function(a){if(!a.document)throw Error("jQuery requires a window with a document");return m(a)}:m(a)}("undefined"!=typeof window?window:this,function(a,m){function f(a){var d=a.length,b=h.type(a);return"function"===b||h.isWindow(a)?!1:1===a.nodeType&&d?!0:"array"===b||0===d||"number"==typeof d&&0<d&&d-1 in a}function k(a,g,b){if(h.isFunction(g))return h.grep(a,function(a,d){return!!g.call(a,d,
a)!==b});if(g.nodeType)return h.grep(a,function(a){return a===g!==b});if("string"==typeof g){if(yb.test(g))return h.filter(g,a,b);g=h.filter(g,a)}return h.grep(a,function(a){return 0<=h.inArray(a,g)!==b})}function n(a,g){do a=a[g];while(a&&1!==a.nodeType);return a}function p(a){var d=yc[a]={};return h.each(a.match(ib)||[],function(a,g){d[g]=!0}),d}function z(){S.addEventListener?(S.removeEventListener("DOMContentLoaded",w,!1),a.removeEventListener("load",w,!1)):(S.detachEvent("onreadystatechange",
w),a.detachEvent("onload",w))}function w(){(S.addEventListener||"load"===event.type||"complete"===S.readyState)&&(z(),h.ready())}function b(a,g,b){if(void 0===b&&1===a.nodeType){var d="data-"+g.replace(Lc,"-$1").toLowerCase();if(b=a.getAttribute(d),"string"==typeof b){try{b="true"===b?!0:"false"===b?!1:"null"===b?null:+b+""===b?+b:Jb.test(b)?h.parseJSON(b):b}catch(Y){}h.data(a,g,b)}else b=void 0}return b}function t(a){for(var d in a)if(("data"!==d||!h.isEmptyObject(a[d]))&&"toJSON"!==d)return!1;return!0}
function x(a,g,b,c){if(h.acceptData(a)){var d,f,u=h.expando,R=a.nodeType,k=R?h.cache:a,q=R?a[u]:a[u]&&u;if(q&&k[q]&&(c||k[q].data)||void 0!==b||"string"!=typeof g)return q||(q=R?a[u]=Q.pop()||h.guid++:u),k[q]||(k[q]=R?{}:{toJSON:h.noop}),("object"==typeof g||"function"==typeof g)&&(c?k[q]=h.extend(k[q],g):k[q].data=h.extend(k[q].data,g)),f=k[q],c||(f.data||(f.data={}),f=f.data),void 0!==b&&(f[h.camelCase(g)]=b),"string"==typeof g?(d=f[g],null==d&&(d=f[h.camelCase(g)])):d=f,d}}function H(a,g,b){if(h.acceptData(a)){var d,
c,f=a.nodeType,u=f?h.cache:a,k=f?a[h.expando]:h.expando;if(u[k]){if(g&&(d=b?u[k]:u[k].data)){h.isArray(g)?g=g.concat(h.map(g,h.camelCase)):g in d?g=[g]:(g=h.camelCase(g),g=g in d?[g]:g.split(" "));for(c=g.length;c--;)delete d[g[c]];if(b?!t(d):!h.isEmptyObject(d))return}(b||(delete u[k].data,t(u[k])))&&(f?h.cleanData([a],!0):N.deleteExpando||u!=u.window?delete u[k]:u[k]=null)}}}function c(){return!0}function F(){return!1}function V(){try{return S.activeElement}catch(d){}}function q(a){var d=mb.split("|");
a=a.createDocumentFragment();if(a.createElement)for(;d.length;)a.createElement(d.pop());return a}function U(a,g){var d,b,c=0,f="undefined"!==typeof a.getElementsByTagName?a.getElementsByTagName(g||"*"):"undefined"!==typeof a.querySelectorAll?a.querySelectorAll(g||"*"):void 0;if(!f)for(f=[],d=a.childNodes||a;null!=(b=d[c]);c++)!g||h.nodeName(b,g)?f.push(b):h.merge(f,U(b,g));return void 0===g||g&&h.nodeName(a,g)?h.merge([a],f):f}function A(a){zc.test(a.type)&&(a.defaultChecked=a.checked)}function ta(a,
g){return h.nodeName(a,"table")&&h.nodeName(11!==g.nodeType?g:g.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function bb(a){return a.type=(null!==h.find.attr(a,"type"))+"/"+a.type,a}function fa(a){var d=Ad.exec(a.type);return d?a.type=d[1]:a.removeAttribute("type"),a}function xa(a,g){for(var d,b=0;null!=(d=a[b]);b++)h._data(d,"globalEval",!g||h._data(g[b],"globalEval"))}function Ca(a,g){if(1===g.nodeType&&h.hasData(a)){var d,b;var c=
h._data(a);a=h._data(g,c);var f=c.events;if(f)for(d in delete a.handle,a.events={},f)for(c=0,b=f[d].length;b>c;c++)h.event.add(g,d,f[d][c]);a.data&&(a.data=h.extend({},a.data))}}function Ma(d,g){var b;d=h(g.createElement(d)).appendTo(g.body);g=a.getDefaultComputedStyle&&(b=a.getDefaultComputedStyle(d[0]))?b.display:h.css(d[0],"display");return d.detach(),g}function Na(a){var d=S,b=Yc[a];return b||(b=Ma(a,d),"none"!==b&&b||(Ic=(Ic||h("<iframe frameborder='0' width='0' height='0'/>")).appendTo(d.documentElement),
d=(Ic[0].contentWindow||Ic[0].contentDocument).document,d.write(),d.close(),b=Ma(a,d),Ic.detach()),Yc[a]=b),b}function oa(a,g){return{get:function(){var d=a();if(null!=d)return d?void delete this.get:(this.get=g).apply(this,arguments)}}}function J(a,g){if(g in a)return g;for(var d=g.charAt(0).toUpperCase()+g.slice(1),b=g,c=$a.length;c--;)if(g=$a[c]+d,g in a)return g;return b}function Oa(a,g){for(var d,b,c,f=[],k=0,q=a.length;q>k;k++)b=a[k],b.style&&(f[k]=h._data(b,"olddisplay"),d=b.style.display,
g?(f[k]||"none"!==d||(b.style.display=""),""===b.style.display&&Kb(b)&&(f[k]=h._data(b,"olddisplay",Na(b.nodeName)))):(c=Kb(b),(d&&"none"!==d||!c)&&h._data(b,"olddisplay",c?d:h.css(b,"display"))));for(k=0;q>k;k++)b=a[k],b.style&&(g&&"none"!==b.style.display&&""!==b.style.display||(b.style.display=g?f[k]||"":"none"));return a}function G(a,g,b){return(a=Zc.exec(g))?Math.max(0,a[1]-(b||0))+(a[2]||"px"):g}function la(a,g,b,c,f){g=b===(c?"border":"content")?4:"width"===g?1:0;for(var d=0;4>g;g+=2)"margin"===
b&&(d+=h.css(a,b+W[g],!0,f)),c?("content"===b&&(d-=h.css(a,"padding"+W[g],!0,f)),"margin"!==b&&(d-=h.css(a,"border"+W[g]+"Width",!0,f))):(d+=h.css(a,"padding"+W[g],!0,f),"padding"!==b&&(d+=h.css(a,"border"+W[g]+"Width",!0,f)));return d}function cb(a,g,b){var d=!0,c="width"===g?a.offsetWidth:a.offsetHeight,f=nb(a),u=N.boxSizing&&"border-box"===h.css(a,"boxSizing",!1,f);if(0>=c||null==c){if(c=ob(a,g,f),(0>c||null==c)&&(c=a.style[g]),tc.test(c))return c;d=u&&(N.boxSizingReliable()||c===a.style[g]);c=
parseFloat(c)||0}return c+la(a,g,b||(u?"border":"content"),d,f)+"px"}function ha(a,g,b,c,f){return new ha.prototype.init(a,g,b,c,f)}function aa(){return setTimeout(function(){uc=void 0}),uc=h.now()}function tb(a,g){var d={height:a},b=0;for(g=g?1:0;4>b;b+=2-g){var c=W[b];d["margin"+c]=d["padding"+c]=a}return g&&(d.opacity=d.width=a),d}function Ob(a,g,b){for(var d,c=(lc[g]||[]).concat(lc["*"]),f=0,h=c.length;h>f;f++)if(d=c[f].call(b,g,a))return d}function Zb(a,g){var d,b,c,f,k;for(d in a)if(b=h.camelCase(d),
c=g[b],f=a[d],h.isArray(f)&&(c=f[1],f=a[d]=f[0]),d!==b&&(a[b]=f,delete a[d]),k=h.cssHooks[b],k&&"expand"in k)for(d in f=k.expand(f),delete a[b],f)d in a||(a[d]=f[d],g[d]=c);else g[b]=c}function T(a,g,b){var d,c=0,f=jb.length,u=h.Deferred().always(function(){delete k.elem}),k=function(){if(d)return!1;var g=uc||aa();g=Math.max(0,q.startTime+q.duration-g);for(var b=1-(g/q.duration||0),c=0,f=q.tweens.length;f>c;c++)q.tweens[c].run(b);return u.notifyWith(a,[q,b,g]),1>b&&f?g:(u.resolveWith(a,[q]),!1)},
q=u.promise({elem:a,props:h.extend({},g),opts:h.extend(!0,{specialEasing:{}},b),originalProperties:g,originalOptions:b,startTime:uc||aa(),duration:b.duration,tweens:[],createTween:function(d,g){d=h.Tween(a,q.opts,d,g,q.opts.specialEasing[d]||q.opts.easing);return q.tweens.push(d),d},stop:function(g){var b=0,c=g?q.tweens.length:0;if(d)return this;for(d=!0;c>b;b++)q.tweens[b].run(1);return g?u.resolveWith(a,[q,g]):u.rejectWith(a,[q,g]),this}});b=q.props;for(Zb(b,q.opts.specialEasing);f>c;c++)if(g=jb[c].call(q,
a,b,q.opts))return g;return h.map(b,Ob,q),h.isFunction(q.opts.start)&&q.opts.start.call(a,q),h.fx.timer(h.extend(k,{elem:a,anim:q,queue:q.opts.queue})),q.progress(q.opts.progress).done(q.opts.done,q.opts.complete).fail(q.opts.fail).always(q.opts.always)}function E(a){return function(d,b){"string"!=typeof d&&(b=d,d="*");var g=0,c=d.toLowerCase().match(ib)||[];if(h.isFunction(b))for(;d=c[g++];)"+"===d.charAt(0)?(d=d.slice(1)||"*",(a[d]=a[d]||[]).unshift(b)):(a[d]=a[d]||[]).push(b)}}function ea(a,g,
b,c){function d(k){var R;return f[k]=!0,h.each(a[k]||[],function(a,h){a=h(g,b,c);return"string"!=typeof a||u||f[a]?u?!(R=a):void 0:(g.dataTypes.unshift(a),d(a),!1)}),R}var f={},u=a===xb;return d(g.dataTypes[0])||!f["*"]&&d("*")}function K(a,g){var d,b,c=h.ajaxSettings.flatOptions||{};for(b in g)void 0!==g[b]&&((c[b]?a:d||(d={}))[b]=g[b]);return d&&h.extend(!0,a,d),a}function ra(a,g,b,c){var d;if(h.isArray(g))h.each(g,function(d,g){b||Jc.test(a)?c(a,g):ra(a+"["+("object"==typeof g?d:"")+"]",g,b,c)});
else if(b||"object"!==h.type(g))c(a,g);else for(d in g)ra(a+"["+d+"]",g[d],b,c)}function pa(){try{return new a.XMLHttpRequest}catch(d){}}function ka(a){return h.isWindow(a)?a:9===a.nodeType?a.defaultView||a.parentWindow:!1}var Q=[],Va=Q.slice,Hb=Q.concat,Kc=Q.push,qa=Q.indexOf,Ra={},lb=Ra.toString,db=Ra.hasOwnProperty,N={},h=function(a,g){return new h.fn.init(a,g)},Xa=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,$c=/^-ms-/,ad=/-([\da-z])/gi,kd=function(a,g){return g.toUpperCase()};h.fn=h.prototype={jquery:"1.11.1",
constructor:h,selector:"",length:0,toArray:function(){return Va.call(this)},get:function(a){return null!=a?0>a?this[a+this.length]:this[a]:Va.call(this)},pushStack:function(a){a=h.merge(this.constructor(),a);return a.prevObject=this,a.context=this.context,a},each:function(a,g){return h.each(this,a,g)},map:function(a){return this.pushStack(h.map(this,function(d,b){return a.call(d,b,d)}))},slice:function(){return this.pushStack(Va.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},
eq:function(a){var d=this.length;a=+a+(0>a?d:0);return this.pushStack(0<=a&&d>a?[this[a]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:Kc,sort:Q.sort,splice:Q.splice};h.extend=h.fn.extend=function(){var a,g,b,c,f=arguments[0]||{},k=1,q=arguments.length,n=!1;"boolean"==typeof f&&(n=f,f=arguments[k]||{},k++);"object"==typeof f||h.isFunction(f)||(f={});for(k===q&&(f=this,k--);q>k;k++)if(null!=(b=arguments[k]))for(g in b){var m=f[g];var p=b[g];f!==p&&(n&&p&&(h.isPlainObject(p)||
(a=h.isArray(p)))?(a?(a=!1,c=m&&h.isArray(m)?m:[]):c=m&&h.isPlainObject(m)?m:{},f[g]=h.extend(n,c,p)):void 0!==p&&(f[g]=p))}return f};h.extend({expando:"jQuery"+("1.11.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw Error(a);},noop:function(){},isFunction:function(a){return"function"===h.type(a)},isArray:Array.isArray||function(a){return"array"===h.type(a)},isWindow:function(a){return null!=a&&a==a.window},isNumeric:function(a){return!h.isArray(a)&&0<=a-parseFloat(a)},isEmptyObject:function(a){for(var d in a)return!1;
return!0},isPlainObject:function(a){var d;if(!a||"object"!==h.type(a)||a.nodeType||h.isWindow(a))return!1;try{if(a.constructor&&!db.call(a,"constructor")&&!db.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(u){return!1}if(N.ownLast)for(d in a)return db.call(a,d);for(d in a);return void 0===d||db.call(a,d)},type:function(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?Ra[lb.call(a)]||"object":typeof a},globalEval:function(d){d&&h.trim(d)&&(a.execScript||function(d){a.eval.call(a,
d)})(d)},camelCase:function(a){return a.replace($c,"ms-").replace(ad,kd)},nodeName:function(a,g){return a.nodeName&&a.nodeName.toLowerCase()===g.toLowerCase()},each:function(a,g,b){var d,c=0,h=a.length,u=f(a);if(b)if(u)for(;h>c&&(d=g.apply(a[c],b),!1!==d);c++);else for(c in a){if(d=g.apply(a[c],b),!1===d)break}else if(u)for(;h>c&&(d=g.call(a[c],c,a[c]),!1!==d);c++);else for(c in a)if(d=g.call(a[c],c,a[c]),!1===d)break;return a},trim:function(a){return null==a?"":(a+"").replace(Xa,"")},makeArray:function(a,
g){g=g||[];return null!=a&&(f(Object(a))?h.merge(g,"string"==typeof a?[a]:a):Kc.call(g,a)),g},inArray:function(a,g,b){if(g){if(qa)return qa.call(g,a,b);var d=g.length;for(b=b?0>b?Math.max(0,d+b):b:0;d>b;b++)if(b in g&&g[b]===a)return b}return-1},merge:function(a,g){for(var d=+g.length,b=0,c=a.length;d>b;)a[c++]=g[b++];if(d!==d)for(;void 0!==g[b];)a[c++]=g[b++];return a.length=c,a},grep:function(a,g,b){for(var d=[],c=0,f=a.length,h=!b;f>c;c++)b=!g(a[c],c),b!==h&&d.push(a[c]);return d},map:function(a,
g,b){var d=0,c=a.length,h=[];if(f(a))for(;c>d;d++){var u=g(a[d],d,b);null!=u&&h.push(u)}else for(d in a)u=g(a[d],d,b),null!=u&&h.push(u);return Hb.apply([],h)},guid:1,proxy:function(a,g){var d,b,c;return"string"==typeof g&&(c=a[g],g=a,a=c),h.isFunction(a)?(d=Va.call(arguments,2),b=function(){return a.apply(g||this,d.concat(Va.call(arguments)))},b.guid=a.guid=a.guid||h.guid++,b):void 0},now:function(){return+new Date},support:N});h.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),
function(a,g){Ra["[object "+g+"]"]=g.toLowerCase()});var hb=function(a){function d(a,d,g,b){var B,c,f,h,Z;if((d?d.ownerDocument||d:S)!==fa&&Ia(d),d=d||fa,g=g||[],!a||"string"!=typeof a)return g;if(1!==(h=d.nodeType)&&9!==h)return[];if(ta&&!b){if(B=Ea.exec(a))if(f=B[1])if(9===h){if(c=d.getElementById(f),!c||!c.parentNode)return g;if(c.id===f)return g.push(c),g}else{if(d.ownerDocument&&(c=d.ownerDocument.getElementById(f))&&pa(d,c)&&c.id===f)return g.push(c),g}else{if(B[2])return Ec.apply(g,d.getElementsByTagName(a)),
g;if((f=B[3])&&ma.getElementsByClassName&&d.getElementsByClassName)return Ec.apply(g,d.getElementsByClassName(f)),g}if(ma.qsa&&(!Q||!Q.test(a))){if(c=B=O,f=d,Z=9===h&&a,1===h&&"object"!==d.nodeName.toLowerCase()){h=Ja(a);(B=d.getAttribute("id"))?c=B.replace(La,"\\$&"):d.setAttribute("id",c);c="[id='"+c+"'] ";for(f=h.length;f--;)h[f]=c+w(h[f]);f=Va.test(a)&&p(d.parentNode)||d;Z=h.join(",")}if(Z)try{return Ec.apply(g,f.querySelectorAll(Z)),g}catch(ve){}finally{B||d.removeAttribute("id")}}}return K(a.replace(ia,
"$1"),d,g,b)}function b(){function a(g,b){return d.push(g+" ")>ba.cacheLength&&delete a[d.shift()],a[g+" "]=b}var d=[];return a}function c(a){return a[O]=!0,a}function f(a){var d=fa.createElement("div");try{return!!a(d)}catch(pd){return!1}finally{d.parentNode&&d.parentNode.removeChild(d)}}function h(a,d){var g=a.split("|");for(a=a.length;a--;)ba.attrHandle[g[a]]=d}function k(a,d){var g=d&&a,b=g&&1===a.nodeType&&1===d.nodeType&&(~d.sourceIndex||-2147483648)-(~a.sourceIndex||-2147483648);if(b)return b;
if(g)for(;g=g.nextSibling;)if(g===d)return-1;return a?1:-1}function q(a){return function(d){return"input"===d.nodeName.toLowerCase()&&d.type===a}}function n(a){return function(d){var g=d.nodeName.toLowerCase();return("input"===g||"button"===g)&&d.type===a}}function m(a){return c(function(d){return d=+d,c(function(g,b){for(var B,c=a([],g.length,d),f=c.length;f--;)g[B=c[f]]&&(g[B]=!(b[B]=g[B]))})})}function p(a){return a&&"undefined"!==typeof a.getElementsByTagName&&a}function t(){}function w(a){for(var d=
0,g=a.length,b="";g>d;d++)b+=a[d].value;return b}function A(a,d,g){var b=d.dir,B=g&&"parentNode"===b,c=ca++;return d.first?function(d,g,c){for(;d=d[b];)if(1===d.nodeType||B)return a(d,g,c)}:function(d,g,f){var h,Z,u=[Ca,c];if(f)for(;d=d[b];){if((1===d.nodeType||B)&&a(d,g,f))return!0}else for(;d=d[b];)if(1===d.nodeType||B){if(Z=d[O]||(d[O]={}),(h=Z[b])&&h[0]===Ca&&h[1]===c)return u[2]=h[2];if(Z[b]=u,u[2]=a(d,g,f))return!0}}}function U(a){return 1<a.length?function(d,g,b){for(var B=a.length;B--;)if(!a[B](d,
g,b))return!1;return!0}:a[0]}function x(a,d,g,b,B){for(var c,f=[],h=0,Z=a.length,u=null!=d;Z>h;h++)(c=a[h])&&(!g||g(c,b,B))&&(f.push(c),u&&d.push(h));return f}function z(a,g,b,B,f,h){return B&&!B[O]&&(B=z(B)),f&&!f[O]&&(f=z(f,h)),c(function(c,h,Z,u){var k,q=[],R=[],ya=h.length,n;if(!(n=c)){n=g||"*";for(var m=Z.nodeType?[Z]:Z,Y=[],p=0,ab=m.length;ab>p;p++)d(n,m[p],Y);n=Y}n=!a||!c&&g?n:x(n,q,a,Z,u);m=b?f||(c?a:ya||B)?[]:h:n;if(b&&b(n,m,Z,u),B){var Ua=x(m,R);B(Ua,[],Z,u);for(Z=Ua.length;Z--;)(k=Ua[Z])&&
(m[R[Z]]=!(n[R[Z]]=k))}if(c){if(f||a){if(f){Ua=[];for(Z=m.length;Z--;)(k=m[Z])&&Ua.push(n[Z]=k);f(null,m=[],Ua,u)}for(Z=m.length;Z--;)(k=m[Z])&&-1<(Ua=f?J.call(c,k):q[Z])&&(c[Ua]=!(h[Ua]=k))}}else m=x(m===h?m.splice(ya,m.length):m),f?f(null,h,m,u):Ec.apply(h,m)})}function F(a){var d,g,b=a.length,B=ba.relative[a[0].type];var c=B||ba.relative[" "];for(var f=B?1:0,h=A(function(a){return a===d},c,!0),Z=A(function(a){return-1<J.call(d,a)},c,!0),u=[function(a,g,b){return!B&&(b||g!==G)||((d=g).nodeType?
h(a,g,b):Z(a,g,b))}];b>f;f++)if(c=ba.relative[a[f].type])u=[A(U(u),c)];else{if(c=ba.filter[a[f].type].apply(null,a[f].matches),c[O]){for(g=++f;b>g&&!ba.relative[a[g].type];g++);return z(1<f&&U(u),1<f&&w(a.slice(0,f-1).concat({value:" "===a[f-2].type?"*":""})).replace(ia,"$1"),c,g>f&&F(a.slice(f,g)),b>g&&F(a=a.slice(g)),b>g&&w(a))}u.push(c)}return U(u)}function H(a,g){var b=0<g.length,B=0<a.length,f=function(c,f,h,Z,u){var k,q,R,ya=0,n="0",m=c&&[],Y=[],p=G,ab=c||B&&ba.find.TAG("*",u),Ua=Ca+=null==
p?1:Math.random()||.1,t=ab.length;for(u&&(G=f!==fa&&f);n!==t&&null!=(k=ab[n]);n++){if(B&&k){for(q=0;R=a[q++];)if(R(k,f,h)){Z.push(k);break}u&&(Ca=Ua)}b&&((k=!R&&k)&&ya--,c&&m.push(k))}if(ya+=n,b&&n!==ya){for(q=0;R=g[q++];)R(m,Y,f,h);if(c){if(0<ya)for(;n--;)m[n]||Y[n]||(Y[n]=Dd.call(Z));Y=x(Y)}Ec.apply(Z,Y);u&&!c&&0<Y.length&&1<ya+g.length&&d.uniqueSort(Z)}return u&&(Ca=Ua,G=p),m};return b?c(f):f}var E,ea,K,G,V,ka,fa,N,ta,Q,xa,W,pa,O="sizzle"+-new Date,S=a.document,Ca=0,ca=0,ra=b(),bb=b(),B=b(),Z=
function(a,d){return a===d&&(ka=!0),0},ya={}.hasOwnProperty,ab=[],Dd=ab.pop,Pd=ab.push,Ec=ab.push,aa=ab.slice,J=ab.indexOf||function(a){for(var d=0,g=this.length;g>d;d++)if(this[d]===a)return d;return-1},la="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+".replace("w","w#"),Na="\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:[\\x20\\t\\r\\n\\f]*([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+la+"))|)[\\x20\\t\\r\\n\\f]*\\]",oa=":((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+
Na+")*)|.*)\\)|)",ia=/^[\x20\t\r\n\f]+|((?:^|[^\\])(?:\\.)*)[\x20\t\r\n\f]+$/g,Oa=/^[\x20\t\r\n\f]*,[\x20\t\r\n\f]*/,qa=/^[\x20\t\r\n\f]*([>+~]|[\x20\t\r\n\f])[\x20\t\r\n\f]*/,Hb=/=[\x20\t\r\n\f]*([^\]'"]*?)[\x20\t\r\n\f]*\]/g,sa=new RegExp(oa),Ma=new RegExp("^"+la+"$"),ua={ID:/^#((?:\\.|[\w-]|[^\x00-\xa0])+)/,CLASS:/^\.((?:\\.|[\w-]|[^\x00-\xa0])+)/,TAG:new RegExp("^("+"(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+".replace("w","w*")+")"),ATTR:new RegExp("^"+Na),PSEUDO:new RegExp("^"+oa),CHILD:/^:(only|first|last|nth|nth-last)-(child|of-type)(?:\([\x20\t\r\n\f]*(even|odd|(([+-]|)(\d*)n|)[\x20\t\r\n\f]*(?:([+-]|)[\x20\t\r\n\f]*(\d+)|))[\x20\t\r\n\f]*\)|)/i,
bool:/^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$/i,needsContext:/^[\x20\t\r\n\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\([\x20\t\r\n\f]*((?:-\d)?\d*)[\x20\t\r\n\f]*\)|)(?=[^-]|$)/i},T=/^(?:input|select|textarea|button)$/i,za=/^h\d$/i,ha=/^[^{]+\{\s*\[native \w/,Ea=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Va=/[+~]/,La=/'|\\/g,va=/\\([\da-f]{1,6}[\x20\t\r\n\f]?|([\x20\t\r\n\f])|.)/ig,wa=function(a,d,g){a="0x"+d-65536;
return a!==a||g?d:0>a?String.fromCharCode(a+65536):String.fromCharCode(a>>10|55296,1023&a|56320)};try{Ec.apply(ab=aa.call(S.childNodes),S.childNodes),ab[S.childNodes.length].nodeType}catch(fd){Ec={apply:ab.length?function(a,d){Pd.apply(a,aa.call(d))}:function(a,d){for(var g=a.length,b=0;a[g++]=d[b++];);a.length=g-1}}}var ma=d.support={};var Ga=d.isXML=function(a){return(a=a&&(a.ownerDocument||a).documentElement)?"HTML"!==a.nodeName:!1};var Ia=d.setDocument=function(a){var d,g=a?a.ownerDocument||a:
S;a=g.defaultView;return g!==fa&&9===g.nodeType&&g.documentElement?(fa=g,N=g.documentElement,ta=!Ga(g),a&&a!==a.top&&(a.addEventListener?a.addEventListener("unload",function(){Ia()},!1):a.attachEvent&&a.attachEvent("onunload",function(){Ia()})),ma.attributes=f(function(a){return a.className="i",!a.getAttribute("className")}),ma.getElementsByTagName=f(function(a){return a.appendChild(g.createComment("")),!a.getElementsByTagName("*").length}),ma.getElementsByClassName=ha.test(g.getElementsByClassName)&&
f(function(a){return a.innerHTML="<div class='a'></div><div class='a i'></div>",a.firstChild.className="i",2===a.getElementsByClassName("i").length}),ma.getById=f(function(a){return N.appendChild(a).id=O,!g.getElementsByName||!g.getElementsByName(O).length}),ma.getById?(ba.find.ID=function(a,d){if("undefined"!==typeof d.getElementById&&ta)return(a=d.getElementById(a))&&a.parentNode?[a]:[]},ba.filter.ID=function(a){var d=a.replace(va,wa);return function(a){return a.getAttribute("id")===d}}):(delete ba.find.ID,
ba.filter.ID=function(a){var d=a.replace(va,wa);return function(a){return(a="undefined"!==typeof a.getAttributeNode&&a.getAttributeNode("id"))&&a.value===d}}),ba.find.TAG=ma.getElementsByTagName?function(a,d){return"undefined"!==typeof d.getElementsByTagName?d.getElementsByTagName(a):void 0}:function(a,d){var g=[],b=0;d=d.getElementsByTagName(a);if("*"===a){for(;a=d[b++];)1===a.nodeType&&g.push(a);return g}return d},ba.find.CLASS=ma.getElementsByClassName&&function(a,d){return"undefined"!==typeof d.getElementsByClassName&&
ta?d.getElementsByClassName(a):void 0},xa=[],Q=[],(ma.qsa=ha.test(g.querySelectorAll))&&(f(function(a){a.innerHTML="<select msallowclip=''><option selected=''></option></select>";a.querySelectorAll("[msallowclip^='']").length&&Q.push("[*^$]=[\\x20\\t\\r\\n\\f]*(?:''|\"\")");a.querySelectorAll("[selected]").length||Q.push("\\[[\\x20\\t\\r\\n\\f]*(?:value|checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)");a.querySelectorAll(":checked").length||
Q.push(":checked")}),f(function(a){var d=g.createElement("input");d.setAttribute("type","hidden");a.appendChild(d).setAttribute("name","D");a.querySelectorAll("[name=d]").length&&Q.push("name[\\x20\\t\\r\\n\\f]*[*^$|!~]?=");a.querySelectorAll(":enabled").length||Q.push(":enabled",":disabled");a.querySelectorAll("*,:x");Q.push(",.*:")})),(ma.matchesSelector=ha.test(W=N.matches||N.webkitMatchesSelector||N.mozMatchesSelector||N.oMatchesSelector||N.msMatchesSelector))&&f(function(a){ma.disconnectedMatch=
W.call(a,"div");W.call(a,"[s!='']:x");xa.push("!=",oa)}),Q=Q.length&&new RegExp(Q.join("|")),xa=xa.length&&new RegExp(xa.join("|")),d=ha.test(N.compareDocumentPosition),pa=d||ha.test(N.contains)?function(a,d){var g=9===a.nodeType?a.documentElement:a;d=d&&d.parentNode;return a===d||!(!d||1!==d.nodeType||!(g.contains?g.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,d){if(d)for(;d=d.parentNode;)if(d===a)return!0;return!1},Z=d?function(a,d){if(a===d)return ka=!0,
0;var b=!a.compareDocumentPosition-!d.compareDocumentPosition;return b?b:(b=(a.ownerDocument||a)===(d.ownerDocument||d)?a.compareDocumentPosition(d):1,1&b||!ma.sortDetached&&d.compareDocumentPosition(a)===b?a===g||a.ownerDocument===S&&pa(S,a)?-1:d===g||d.ownerDocument===S&&pa(S,d)?1:V?J.call(V,a)-J.call(V,d):0:4&b?-1:1)}:function(a,d){if(a===d)return ka=!0,0;var b=0,B=a.parentNode,c=d.parentNode,f=[a],h=[d];if(!B||!c)return a===g?-1:d===g?1:B?-1:c?1:V?J.call(V,a)-J.call(V,d):0;if(B===c)return k(a,
d);for(;a=a.parentNode;)f.unshift(a);for(a=d;a=a.parentNode;)h.unshift(a);for(;f[b]===h[b];)b++;return b?k(f[b],h[b]):f[b]===S?-1:h[b]===S?1:0},g):fa};d.matches=function(a,g){return d(a,null,null,g)};d.matchesSelector=function(a,g){if((a.ownerDocument||a)!==fa&&Ia(a),g=g.replace(Hb,"='$1']"),!(!ma.matchesSelector||!ta||xa&&xa.test(g)||Q&&Q.test(g)))try{var b=W.call(a,g);if(b||ma.disconnectedMatch||a.document&&11!==a.document.nodeType)return b}catch(Ed){}return 0<d(g,fa,null,[a]).length};d.contains=
function(a,d){return(a.ownerDocument||a)!==fa&&Ia(a),pa(a,d)};d.attr=function(a,d){(a.ownerDocument||a)!==fa&&Ia(a);var g=ba.attrHandle[d.toLowerCase()];g=g&&ya.call(ba.attrHandle,d.toLowerCase())?g(a,d,!ta):void 0;return void 0!==g?g:ma.attributes||!ta?a.getAttribute(d):(g=a.getAttributeNode(d))&&g.specified?g.value:null};d.error=function(a){throw Error("Syntax error, unrecognized expression: "+a);};d.uniqueSort=function(a){var d,g=[],b=0,B=0;if(ka=!ma.detectDuplicates,V=!ma.sortStable&&a.slice(0),
a.sort(Z),ka){for(;d=a[B++];)d===a[B]&&(b=g.push(B));for(;b--;)a.splice(g[b],1)}return V=null,a};var Ka=d.getText=function(a){var d,g="",b=0;if(d=a.nodeType)if(1===d||9===d||11===d){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)g+=Ka(a)}else{if(3===d||4===d)return a.nodeValue}else for(;d=a[b++];)g+=Ka(d);return g};var ba=d.selectors={cacheLength:50,createPseudo:c,match:ua,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},
"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(va,wa),a[3]=(a[3]||a[4]||a[5]||"").replace(va,wa),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||d.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&d.error(a[0]),a},PSEUDO:function(a){var d,g=!a[6]&&a[2];return ua.CHILD.test(a[0])?null:(a[3]?
a[2]=a[4]||a[5]||"":g&&sa.test(g)&&(d=Ja(g,!0))&&(d=g.indexOf(")",g.length-d)-g.length)&&(a[0]=a[0].slice(0,d),a[2]=g.slice(0,d)),a.slice(0,3))}},filter:{TAG:function(a){var d=a.replace(va,wa).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===d}},CLASS:function(a){var d=ra[a+" "];return d||(d=new RegExp("(^|[\\x20\\t\\r\\n\\f])"+a+"([\\x20\\t\\r\\n\\f]|$)"),ra(a,function(a){return d.test("string"==typeof a.className&&a.className||"undefined"!==
typeof a.getAttribute&&a.getAttribute("class")||"")}))},ATTR:function(a,g,b){return function(B){B=d.attr(B,a);return null==B?"!="===g:g?(B+="","="===g?B===b:"!="===g?B!==b:"^="===g?b&&0===B.indexOf(b):"*="===g?b&&-1<B.indexOf(b):"$="===g?b&&B.slice(-b.length)===b:"~="===g?-1<(" "+B+" ").indexOf(b):"|="===g?B===b||B.slice(0,b.length+1)===b+"-":!1):!0}},CHILD:function(a,d,g,b,B){var c="nth"!==a.slice(0,3),f="last"!==a.slice(-4),h="of-type"===d;return 1===b&&0===B?function(a){return!!a.parentNode}:function(d,
g,Z){var u;g=c!==f?"nextSibling":"previousSibling";var k=d.parentNode,q=h&&d.nodeName.toLowerCase();Z=!Z&&!h;if(k){if(c){for(;g;){for(u=d;u=u[g];)if(h?u.nodeName.toLowerCase()===q:1===u.nodeType)return!1;var R=g="only"===a&&!R&&"nextSibling"}return!0}if(R=[f?k.firstChild:k.lastChild],f&&Z){Z=k[O]||(k[O]={});var ya=Z[a]||[];var n=ya[0]===Ca&&ya[1];var m=ya[0]===Ca&&ya[2];for(u=n&&k.childNodes[n];u=++n&&u&&u[g]||(m=n=0)||R.pop();)if(1===u.nodeType&&++m&&u===d){Z[a]=[Ca,n,m];break}}else if(Z&&(ya=(d[O]||
(d[O]={}))[a])&&ya[0]===Ca)m=ya[1];else for(;(u=++n&&u&&u[g]||(m=n=0)||R.pop())&&((h?u.nodeName.toLowerCase()!==q:1!==u.nodeType)||!++m||(Z&&((u[O]||(u[O]={}))[a]=[Ca,m]),u!==d)););return m-=B,m===b||0===m%b&&0<=m/b}}},PSEUDO:function(a,g){var b,B=ba.pseudos[a]||ba.setFilters[a.toLowerCase()]||d.error("unsupported pseudo: "+a);return B[O]?B(g):1<B.length?(b=[a,a,"",g],ba.setFilters.hasOwnProperty(a.toLowerCase())?c(function(a,d){for(var b,c=B(a,g),f=c.length;f--;)b=J.call(a,c[f]),a[b]=!(d[b]=c[f])}):
function(a){return B(a,0,b)}):B}},pseudos:{not:c(function(a){var d=[],g=[],b=ea(a.replace(ia,"$1"));return b[O]?c(function(a,d,g,B){var c;g=b(a,null,B,[]);for(B=a.length;B--;)(c=g[B])&&(a[B]=!(d[B]=c))}):function(a,B,c){return d[0]=a,b(d,null,c,g),!g.pop()}}),has:c(function(a){return function(g){return 0<d(a,g).length}}),contains:c(function(a){return function(d){return-1<(d.textContent||d.innerText||Ka(d)).indexOf(a)}}),lang:c(function(a){return Ma.test(a||"")||d.error("unsupported lang: "+a),a=a.replace(va,
wa).toLowerCase(),function(d){var g;do if(g=ta?d.lang:d.getAttribute("xml:lang")||d.getAttribute("lang"))return g=g.toLowerCase(),g===a||0===g.indexOf(a+"-");while((d=d.parentNode)&&1===d.nodeType);return!1}}),target:function(d){var g=a.location&&a.location.hash;return g&&g.slice(1)===d.id},root:function(a){return a===N},focus:function(a){return a===fa.activeElement&&(!fa.hasFocus||fa.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return!1===a.disabled},disabled:function(a){return!0===
a.disabled},checked:function(a){var d=a.nodeName.toLowerCase();return"input"===d&&!!a.checked||"option"===d&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,!0===a.selected},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(6>a.nodeType)return!1;return!0},parent:function(a){return!ba.pseudos.empty(a)},header:function(a){return za.test(a.nodeName)},input:function(a){return T.test(a.nodeName)},button:function(a){var d=a.nodeName.toLowerCase();return"input"===
d&&"button"===a.type||"button"===d},text:function(a){var d;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(d=a.getAttribute("type"))||"text"===d.toLowerCase())},first:m(function(){return[0]}),last:m(function(a,d){return[d-1]}),eq:m(function(a,d,g){return[0>g?g+d:g]}),even:m(function(a,d){for(var g=0;d>g;g+=2)a.push(g);return a}),odd:m(function(a,d){for(var g=1;d>g;g+=2)a.push(g);return a}),lt:m(function(a,d,g){for(d=0>g?g+d:g;0<=--d;)a.push(d);return a}),gt:m(function(a,d,g){for(g=
0>g?g+d:g;++g<d;)a.push(g);return a})}};ba.pseudos.nth=ba.pseudos.eq;for(E in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})ba.pseudos[E]=q(E);for(E in{submit:!0,reset:!0})ba.pseudos[E]=n(E);t.prototype=ba.filters=ba.pseudos;ba.setFilters=new t;var Ja=d.tokenize=function(a,g){var b,B,c,f,h;if(f=bb[a+" "])return g?0:f.slice(0);f=a;var Z=[];for(h=ba.preFilter;f;){u&&!(b=Oa.exec(f))||(b&&(f=f.slice(b[0].length)||f),Z.push(B=[]));var u=!1;(b=qa.exec(f))&&(u=b.shift(),B.push({value:u,type:b[0].replace(ia,
" ")}),f=f.slice(u.length));for(c in ba.filter)!(b=ua[c].exec(f))||h[c]&&!(b=h[c](b))||(u=b.shift(),B.push({value:u,type:c,matches:b}),f=f.slice(u.length));if(!u)break}return g?f.length:f?d.error(a):bb(a,Z).slice(0)};return ea=d.compile=function(a,d){var g,b=[],c=[],f=B[a+" "];if(!f){d||(d=Ja(a));for(g=d.length;g--;)f=F(d[g]),f[O]?b.push(f):c.push(f);f=B(a,H(c,b));f.selector=a}return f},K=d.select=function(a,d,g,b){var B,c,f,h,Z,u="function"==typeof a&&a,k=!b&&Ja(a=u.selector||a);if(g=g||[],1===k.length){if(c=
k[0]=k[0].slice(0),2<c.length&&"ID"===(f=c[0]).type&&ma.getById&&9===d.nodeType&&ta&&ba.relative[c[1].type]){if(d=(ba.find.ID(f.matches[0].replace(va,wa),d)||[])[0],!d)return g;u&&(d=d.parentNode);a=a.slice(c.shift().value.length)}for(B=ua.needsContext.test(a)?0:c.length;B--&&(f=c[B],!ba.relative[h=f.type]);)if((Z=ba.find[h])&&(b=Z(f.matches[0].replace(va,wa),Va.test(c[0].type)&&p(d.parentNode)||d))){if(c.splice(B,1),a=b.length&&w(c),!a)return Ec.apply(g,b),g;break}}return(u||ea(a,k))(b,d,!ta,g,Va.test(a)&&
p(d.parentNode)||d),g},ma.sortStable=O.split("").sort(Z).join("")===O,ma.detectDuplicates=!!ka,Ia(),ma.sortDetached=f(function(a){return 1&a.compareDocumentPosition(fa.createElement("div"))}),f(function(a){return a.innerHTML="<a href='#'></a>","#"===a.firstChild.getAttribute("href")})||h("type|href|height|width",function(a,d,g){return g?void 0:a.getAttribute(d,"type"===d.toLowerCase()?1:2)}),ma.attributes&&f(function(a){return a.innerHTML="<input/>",a.firstChild.setAttribute("value",""),""===a.firstChild.getAttribute("value")})||
h("value",function(a,d,g){return g||"input"!==a.nodeName.toLowerCase()?void 0:a.defaultValue}),f(function(a){return null==a.getAttribute("disabled")})||h("checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",function(a,d,g){var b;return g?void 0:!0===a[d]?d.toLowerCase():(b=a.getAttributeNode(d))&&b.specified?b.value:null}),d}(a);h.find=hb;h.expr=hb.selectors;h.expr[":"]=h.expr.pseudos;h.unique=hb.uniqueSort;h.text=hb.getText;
h.isXMLDoc=hb.isXML;h.contains=hb.contains;var ac=h.expr.match.needsContext,O=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,yb=/^.[^:#\[\.,]*$/;h.filter=function(a,g,b){var d=g[0];return b&&(a=":not("+a+")"),1===g.length&&1===d.nodeType?h.find.matchesSelector(d,a)?[d]:[]:h.find.matches(a,h.grep(g,function(a){return 1===a.nodeType}))};h.fn.extend({find:function(a){var d,b=[],c=this,f=c.length;if("string"!=typeof a)return this.pushStack(h(a).filter(function(){for(d=0;f>d;d++)if(h.contains(c[d],this))return!0}));for(d=
0;f>d;d++)h.find(a,c[d],b);return b=this.pushStack(1<f?h.unique(b):b),b.selector=this.selector?this.selector+" "+a:a,b},filter:function(a){return this.pushStack(k(this,a||[],!1))},not:function(a){return this.pushStack(k(this,a||[],!0))},is:function(a){return!!k(this,"string"==typeof a&&ac.test(a)?h(a):a||[],!1).length}});var S=a.document,Qa=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(h.fn.init=function(a,g){var d,b;if(!a)return this;if("string"==typeof a){if(d="<"===a.charAt(0)&&">"===a.charAt(a.length-
1)&&3<=a.length?[null,a,null]:Qa.exec(a),!d||!d[1]&&g)return!g||g.jquery?(g||Za).find(a):this.constructor(g).find(a);if(d[1]){if(g=g instanceof h?g[0]:g,h.merge(this,h.parseHTML(d[1],g&&g.nodeType?g.ownerDocument||g:S,!0)),O.test(d[1])&&h.isPlainObject(g))for(d in g)h.isFunction(this[d])?this[d](g[d]):this.attr(d,g[d]);return this}if(b=S.getElementById(d[2]),b&&b.parentNode){if(b.id!==d[2])return Za.find(a);this.length=1;this[0]=b}return this.context=S,this.selector=a,this}return a.nodeType?(this.context=
this[0]=a,this.length=1,this):h.isFunction(a)?"undefined"!=typeof Za.ready?Za.ready(a):a(h):(void 0!==a.selector&&(this.selector=a.selector,this.context=a.context),h.makeArray(a,this))}).prototype=h.fn;var Za=h(S);var ia=/^(?:parents|prev(?:Until|All))/,sa={children:!0,contents:!0,next:!0,prev:!0};h.extend({dir:function(a,g,b){var d=[];for(a=a[g];a&&9!==a.nodeType&&(void 0===b||1!==a.nodeType||!h(a).is(b));)1===a.nodeType&&d.push(a),a=a[g];return d},sibling:function(a,g){for(var d=[];a;a=a.nextSibling)1===
a.nodeType&&a!==g&&d.push(a);return d}});h.fn.extend({has:function(a){var d,b=h(a,this),c=b.length;return this.filter(function(){for(d=0;c>d;d++)if(h.contains(this,b[d]))return!0})},closest:function(a,g){for(var d,b=0,c=this.length,f=[],k=ac.test(a)||"string"!=typeof a?h(a,g||this.context):0;c>b;b++)for(d=this[b];d&&d!==g;d=d.parentNode)if(11>d.nodeType&&(k?-1<k.index(d):1===d.nodeType&&h.find.matchesSelector(d,a))){f.push(d);break}return this.pushStack(1<f.length?h.unique(f):f)},index:function(a){return a?
"string"==typeof a?h.inArray(this[0],h(a)):h.inArray(a.jquery?a[0]:a,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,g){return this.pushStack(h.unique(h.merge(this.get(),h(a,g))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}});h.each({parent:function(a){return(a=a.parentNode)&&11!==a.nodeType?a:null},parents:function(a){return h.dir(a,"parentNode")},parentsUntil:function(a,g,b){return h.dir(a,"parentNode",b)},next:function(a){return n(a,
"nextSibling")},prev:function(a){return n(a,"previousSibling")},nextAll:function(a){return h.dir(a,"nextSibling")},prevAll:function(a){return h.dir(a,"previousSibling")},nextUntil:function(a,g,b){return h.dir(a,"nextSibling",b)},prevUntil:function(a,g,b){return h.dir(a,"previousSibling",b)},siblings:function(a){return h.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return h.sibling(a.firstChild)},contents:function(a){return h.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:
h.merge([],a.childNodes)}},function(a,g){h.fn[a]=function(d,b){var c=h.map(this,g,d);return"Until"!==a.slice(-5)&&(b=d),b&&"string"==typeof b&&(c=h.filter(b,c)),1<this.length&&(sa[a]||(c=h.unique(c)),ia.test(a)&&(c=c.reverse())),this.pushStack(c)}});var ib=/\S+/g,yc={};h.Callbacks=function(a){a="string"==typeof a?yc[a]||p(a):h.extend({},a);var d,b,c,f,k,q,n=[],m=!a.once&&[],t=function(g){b=a.memory&&g;c=!0;k=q||0;q=0;f=n.length;for(d=!0;n&&f>k;k++)if(!1===n[k].apply(g[0],g[1])&&a.stopOnFalse){b=!1;
break}d=!1;n&&(m?m.length&&t(m.shift()):b?n=[]:w.disable())},w={add:function(){if(n){var g=n.length;!function Ab(d){h.each(d,function(d,g){d=h.type(g);"function"===d?a.unique&&w.has(g)||n.push(g):g&&g.length&&"string"!==d&&Ab(g)})}(arguments);d?f=n.length:b&&(q=g,t(b))}return this},remove:function(){return n&&h.each(arguments,function(a,g){for(var b;-1<(b=h.inArray(g,n,b));)n.splice(b,1),d&&(f>=b&&f--,k>=b&&k--)}),this},has:function(a){return a?-1<h.inArray(a,n):!(!n||!n.length)},empty:function(){return n=
[],f=0,this},disable:function(){return n=m=b=void 0,this},disabled:function(){return!n},lock:function(){return m=void 0,b||w.disable(),this},locked:function(){return!m},fireWith:function(a,g){return!n||c&&!m||(g=g||[],g=[a,g.slice?g.slice():g],d?m.push(g):t(g)),this},fire:function(){return w.fireWith(this,arguments),this},fired:function(){return!!c}};return w};h.extend({Deferred:function(a){var d=[["resolve","done",h.Callbacks("once memory"),"resolved"],["reject","fail",h.Callbacks("once memory"),
"rejected"],["notify","progress",h.Callbacks("memory")]],b="pending",c={state:function(){return b},always:function(){return f.done(arguments).fail(arguments),this},then:function(){var a=arguments;return h.Deferred(function(g){h.each(d,function(d,b){var u=h.isFunction(a[d])&&a[d];f[b[1]](function(){var a=u&&u.apply(this,arguments);a&&h.isFunction(a.promise)?a.promise().done(g.resolve).fail(g.reject).progress(g.notify):g[b[0]+"With"](this===c?g.promise():this,u?[a]:arguments)})});a=null}).promise()},
promise:function(a){return null!=a?h.extend(a,c):c}},f={};return c.pipe=c.then,h.each(d,function(a,g){var h=g[2],u=g[3];c[g[1]]=h.add;u&&h.add(function(){b=u},d[1^a][2].disable,d[2][2].lock);f[g[0]]=function(){return f[g[0]+"With"](this===f?c:this,arguments),this};f[g[0]+"With"]=h.fireWith}),c.promise(f),a&&a.call(f,f),f},when:function(a){var d=0,b=Va.call(arguments),c=b.length,f=1!==c||a&&h.isFunction(a.promise)?c:0,k=1===f?a:h.Deferred(),q=function(a,d,g){return function(b){d[a]=this;g[a]=1<arguments.length?
Va.call(arguments):b;g===m?k.notifyWith(d,g):--f||k.resolveWith(d,g)}},n;if(1<c){var m=Array(c);var p=Array(c);for(n=Array(c);c>d;d++)b[d]&&h.isFunction(b[d].promise)?b[d].promise().done(q(d,n,b)).fail(k.reject).progress(q(d,p,m)):--f}return f||k.resolveWith(n,b),k.promise()}});var qb;h.fn.ready=function(a){return h.ready.promise().done(a),this};h.extend({isReady:!1,readyWait:1,holdReady:function(a){a?h.readyWait++:h.ready(!0)},ready:function(a){if(!0===a?!--h.readyWait:!h.isReady){if(!S.body)return setTimeout(h.ready);
h.isReady=!0;!0!==a&&0<--h.readyWait||(qb.resolveWith(S,[h]),h.fn.triggerHandler&&(h(S).triggerHandler("ready"),h(S).off("ready")))}}});h.ready.promise=function(d){if(!qb)if(qb=h.Deferred(),"complete"===S.readyState)setTimeout(h.ready);else if(S.addEventListener)S.addEventListener("DOMContentLoaded",w,!1),a.addEventListener("load",w,!1);else{S.attachEvent("onreadystatechange",w);a.attachEvent("onload",w);var g=!1;try{g=null==a.frameElement&&S.documentElement}catch(u){}g&&g.doScroll&&!function R(){if(!h.isReady){try{g.doScroll("left")}catch(Y){return setTimeout(R,
50)}z();h.ready()}}()}return qb.promise(d)};for(var jc in h(N))break;N.ownLast="0"!==jc;N.inlineBlockNeedsLayout=!1;h(function(){var a,g,b,c;(b=S.getElementsByTagName("body")[0])&&b.style&&(g=S.createElement("div"),c=S.createElement("div"),c.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",b.appendChild(c).appendChild(g),"undefined"!==typeof g.style.zoom&&(g.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",N.inlineBlockNeedsLayout=a=3===g.offsetWidth,
a&&(b.style.zoom=1)),b.removeChild(c))});(function(){var a=S.createElement("div");if(null==N.deleteExpando){N.deleteExpando=!0;try{delete a.test}catch(g){N.deleteExpando=!1}}})();h.acceptData=function(a){var d=h.noData[(a.nodeName+" ").toLowerCase()],b=+a.nodeType||1;return 1!==b&&9!==b?!1:!d||!0!==d&&a.getAttribute("classid")===d};var Jb=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Lc=/([A-Z])/g;h.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(a){return a=
a.nodeType?h.cache[a[h.expando]]:a[h.expando],!!a&&!t(a)},data:function(a,g,b){return x(a,g,b)},removeData:function(a,g){return H(a,g)},_data:function(a,g,b){return x(a,g,b,!0)},_removeData:function(a,g){return H(a,g,!0)}});h.fn.extend({data:function(a,g){var d,c,f,k=this[0],q=k&&k.attributes;if(void 0===a){if(this.length&&(f=h.data(k),1===k.nodeType&&!h._data(k,"parsedAttrs"))){for(d=q.length;d--;)q[d]&&(c=q[d].name,0===c.indexOf("data-")&&(c=h.camelCase(c.slice(5)),b(k,c,f[c])));h._data(k,"parsedAttrs",
!0)}return f}return"object"==typeof a?this.each(function(){h.data(this,a)}):1<arguments.length?this.each(function(){h.data(this,a,g)}):k?b(k,a,h.data(k,a)):void 0},removeData:function(a){return this.each(function(){h.removeData(this,a)})}});h.extend({queue:function(a,g,b){var d;return a?(g=(g||"fx")+"queue",d=h._data(a,g),b&&(!d||h.isArray(b)?d=h._data(a,g,h.makeArray(b)):d.push(b)),d||[]):void 0},dequeue:function(a,g){g=g||"fx";var d=h.queue(a,g),b=d.length,c=d.shift(),f=h._queueHooks(a,g),k=function(){h.dequeue(a,
g)};"inprogress"===c&&(c=d.shift(),b--);c&&("fx"===g&&d.unshift("inprogress"),delete f.stop,c.call(a,k,f));!b&&f&&f.empty.fire()},_queueHooks:function(a,g){var d=g+"queueHooks";return h._data(a,d)||h._data(a,d,{empty:h.Callbacks("once memory").add(function(){h._removeData(a,g+"queue");h._removeData(a,d)})})}});h.fn.extend({queue:function(a,g){var d=2;return"string"!=typeof a&&(g=a,a="fx",d--),arguments.length<d?h.queue(this[0],a):void 0===g?this:this.each(function(){var d=h.queue(this,a,g);h._queueHooks(this,
a);"fx"===a&&"inprogress"!==d[0]&&h.dequeue(this,a)})},dequeue:function(a){return this.each(function(){h.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,g){var d,b=1,c=h.Deferred(),f=this,k=this.length,q=function(){--b||c.resolveWith(f,[f])};"string"!=typeof a&&(g=a,a=void 0);for(a=a||"fx";k--;)(d=h._data(f[k],a+"queueHooks"))&&d.empty&&(b++,d.empty.add(q));return q(),c.promise(g)}});var zb=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,W=["Top","Right","Bottom",
"Left"],Kb=function(a,g){return a=g||a,"none"===h.css(a,"display")||!h.contains(a.ownerDocument,a)},za=h.access=function(a,g,b,c,f,k,q){var d=0,u=a.length,n=null==b;if("object"===h.type(b))for(d in f=!0,b)h.access(a,g,d,b[d],!0,k,q);else if(void 0!==c&&(f=!0,h.isFunction(c)||(q=!0),n&&(q?(g.call(a,c),g=null):(n=g,g=function(a,d,g){return n.call(h(a),g)})),g))for(;u>d;d++)g(a[d],b,q?c:c.call(a[d],d,g(a[d],b)));return f?a:n?g.call(a):u?g(a[0],b):k},zc=/^(?:checkbox|radio)$/i;!function(){var a=S.createElement("input"),
g=S.createElement("div"),b=S.createDocumentFragment();if(g.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",N.leadingWhitespace=3===g.firstChild.nodeType,N.tbody=!g.getElementsByTagName("tbody").length,N.htmlSerialize=!!g.getElementsByTagName("link").length,N.html5Clone="<:nav></:nav>"!==S.createElement("nav").cloneNode(!0).outerHTML,a.type="checkbox",a.checked=!0,b.appendChild(a),N.appendChecked=a.checked,g.innerHTML="<textarea>x</textarea>",N.noCloneChecked=!!g.cloneNode(!0).lastChild.defaultValue,
b.appendChild(g),g.innerHTML="<input type='radio' checked='checked' name='t'/>",N.checkClone=g.cloneNode(!0).cloneNode(!0).lastChild.checked,N.noCloneEvent=!0,g.attachEvent&&(g.attachEvent("onclick",function(){N.noCloneEvent=!1}),g.cloneNode(!0).click()),null==N.deleteExpando){N.deleteExpando=!0;try{delete g.test}catch(R){N.deleteExpando=!1}}}();(function(){var d,g=S.createElement("div");for(d in{submit:!0,change:!0,focusin:!0}){var b="on"+d;(N[d+"Bubbles"]=b in a)||(g.setAttribute(b,"t"),N[d+"Bubbles"]=
!1===g.attributes[b].expando)}})();var ca=/^(?:input|select|textarea)$/i,Rb=/^key/,Sb=/^(?:mouse|pointer|contextmenu)|click/,bc=/^(?:focusinfocus|focusoutblur)$/,Ib=/^([^.]*)(?:\.(.+)|)$/;h.event={global:{},add:function(a,g,b,c,f){var d,k,u,q,n,m,R,p;if(k=h._data(a)){b.handler&&(u=b,b=u.handler,f=u.selector);b.guid||(b.guid=h.guid++);(d=k.events)||(d=k.events={});(n=k.handle)||(n=k.handle=function(a){return"undefined"===typeof h||a&&h.event.triggered===a.type?void 0:h.event.dispatch.apply(n.elem,
arguments)},n.elem=a);g=(g||"").match(ib)||[""];for(k=g.length;k--;){var Y=Ib.exec(g[k])||[];var t=p=Y[1];Y=(Y[2]||"").split(".").sort();t&&(q=h.event.special[t]||{},t=(f?q.delegateType:q.bindType)||t,q=h.event.special[t]||{},m=h.extend({type:t,origType:p,data:c,handler:b,guid:b.guid,selector:f,needsContext:f&&h.expr.match.needsContext.test(f),namespace:Y.join(".")},u),(R=d[t])||(R=d[t]=[],R.delegateCount=0,q.setup&&!1!==q.setup.call(a,c,Y,n)||(a.addEventListener?a.addEventListener(t,n,!1):a.attachEvent&&
a.attachEvent("on"+t,n))),q.add&&(q.add.call(a,m),m.handler.guid||(m.handler.guid=b.guid)),f?R.splice(R.delegateCount++,0,m):R.push(m),h.event.global[t]=!0)}a=null}},remove:function(a,b,c,f,k){var d,g,u,q,n,m,R,p,Y=h.hasData(a)&&h._data(a);if(Y&&(n=Y.events)){b=(b||"").match(ib)||[""];for(q=b.length;q--;)if(g=Ib.exec(b[q])||[],m=p=g[1],R=(g[2]||"").split(".").sort(),m){var t=h.event.special[m]||{};m=(f?t.delegateType:t.bindType)||m;var w=n[m]||[];g=g[2]&&new RegExp("(^|\\.)"+R.join("\\.(?:.*\\.|)")+
"(\\.|$)");for(u=d=w.length;d--;){var A=w[d];!k&&p!==A.origType||c&&c.guid!==A.guid||g&&!g.test(A.namespace)||f&&f!==A.selector&&("**"!==f||!A.selector)||(w.splice(d,1),A.selector&&w.delegateCount--,t.remove&&t.remove.call(a,A))}u&&!w.length&&(t.teardown&&!1!==t.teardown.call(a,R,Y.handle)||h.removeEvent(a,m,Y.handle),delete n[m])}else for(m in n)h.event.remove(a,m+b[q],c,f,!0);h.isEmptyObject(n)&&(delete Y.handle,h._removeData(a,"events"))}},trigger:function(d,b,c,f){var g,k,u,q,n=[c||S],m=db.call(d,
"type")?d.type:d;var R=db.call(d,"namespace")?d.namespace.split("."):[];if(u=g=c=c||S,3!==c.nodeType&&8!==c.nodeType&&!bc.test(m+h.event.triggered)&&(0<=m.indexOf(".")&&(R=m.split("."),m=R.shift(),R.sort()),k=0>m.indexOf(":")&&"on"+m,d=d[h.expando]?d:new h.Event(m,"object"==typeof d&&d),d.isTrigger=f?2:3,d.namespace=R.join("."),d.namespace_re=d.namespace?new RegExp("(^|\\.)"+R.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,d.result=void 0,d.target||(d.target=c),b=null==b?[d]:h.makeArray(b,[d]),q=h.event.special[m]||
{},f||!q.trigger||!1!==q.trigger.apply(c,b))){if(!f&&!q.noBubble&&!h.isWindow(c)){var p=q.delegateType||m;for(bc.test(p+m)||(u=u.parentNode);u;u=u.parentNode)n.push(u),g=u;g===(c.ownerDocument||S)&&n.push(g.defaultView||g.parentWindow||a)}for(R=0;(u=n[R++])&&!d.isPropagationStopped();)d.type=1<R?p:q.bindType||m,(g=(h._data(u,"events")||{})[d.type]&&h._data(u,"handle"))&&g.apply(u,b),(g=k&&u[k])&&g.apply&&h.acceptData(u)&&(d.result=g.apply(u,b),!1===d.result&&d.preventDefault());if(d.type=m,!(f||d.isDefaultPrevented()||
q._default&&!1!==q._default.apply(n.pop(),b))&&h.acceptData(c)&&k&&c[m]&&!h.isWindow(c)){(g=c[k])&&(c[k]=null);h.event.triggered=m;try{c[m]()}catch(Gc){}h.event.triggered=void 0;g&&(c[k]=g)}return d.result}},dispatch:function(a){a=h.event.fix(a);var d,b,c,f,k=Va.call(arguments);var q=(h._data(this,"events")||{})[a.type]||[];var n=h.event.special[a.type]||{};if(k[0]=a,a.delegateTarget=this,!n.preDispatch||!1!==n.preDispatch.call(this,a)){var m=h.event.handlers.call(this,a,q);for(q=0;(c=m[q++])&&!a.isPropagationStopped();)for(a.currentTarget=
c.elem,f=0;(b=c.handlers[f++])&&!a.isImmediatePropagationStopped();)a.namespace_re&&!a.namespace_re.test(b.namespace)||(a.handleObj=b,a.data=b.data,d=((h.event.special[b.origType]||{}).handle||b.handler).apply(c.elem,k),void 0===d||!1!==(a.result=d)||(a.preventDefault(),a.stopPropagation()));return n.postDispatch&&n.postDispatch.call(this,a),a.result}},handlers:function(a,b){var d,g=[],c=b.delegateCount,f=a.target;if(c&&f.nodeType&&(!a.button||"click"!==a.type))for(;f!=this;f=f.parentNode||this)if(1===
f.nodeType&&(!0!==f.disabled||"click"!==a.type)){var k=[];for(d=0;c>d;d++){var q=b[d];var n=q.selector+" ";void 0===k[n]&&(k[n]=q.needsContext?0<=h(n,this).index(f):h.find(n,this,null,[f]).length);k[n]&&k.push(q)}k.length&&g.push({elem:f,handlers:k})}return c<b.length&&g.push({elem:this,handlers:b.slice(c)}),g},fix:function(a){if(a[h.expando])return a;var d=a.type;var b=a,c=this.fixHooks[d];c||(this.fixHooks[d]=c=Sb.test(d)?this.mouseHooks:Rb.test(d)?this.keyHooks:{});var f=c.props?this.props.concat(c.props):
this.props;a=new h.Event(b);for(d=f.length;d--;){var k=f[d];a[k]=b[k]}return a.target||(a.target=b.srcElement||S),3===a.target.nodeType&&(a.target=a.target.parentNode),a.metaKey=!!a.metaKey,c.filter?c.filter(a,b):a},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:["char","charCode","key","keyCode"],filter:function(a,b){return null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode),
a}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,b){var d,g,c,f=b.button,h=b.fromElement;return null==a.pageX&&null!=b.clientX&&(g=a.target.ownerDocument||S,c=g.documentElement,d=g.body,a.pageX=b.clientX+(c&&c.scrollLeft||d&&d.scrollLeft||0)-(c&&c.clientLeft||d&&d.clientLeft||0),a.pageY=b.clientY+(c&&c.scrollTop||d&&d.scrollTop||0)-(c&&c.clientTop||d&&d.clientTop||0)),!a.relatedTarget&&h&&(a.relatedTarget=
h===a.target?b.toElement:h),a.which||void 0===f||(a.which=1&f?1:2&f?3:4&f?2:0),a}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==V()&&this.focus)try{return this.focus(),!1}catch(d){}},delegateType:"focusin"},blur:{trigger:function(){return this===V()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return h.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(a){return h.nodeName(a.target,"a")}},
beforeunload:{postDispatch:function(a){void 0!==a.result&&a.originalEvent&&(a.originalEvent.returnValue=a.result)}}},simulate:function(a,b,c,f){a=h.extend(new h.Event,c,{type:a,isSimulated:!0,originalEvent:{}});f?h.event.trigger(a,null,b):h.event.dispatch.call(b,a);a.isDefaultPrevented()&&c.preventDefault()}};h.removeEvent=S.removeEventListener?function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)}:function(a,b,c){b="on"+b;a.detachEvent&&("undefined"===typeof a[b]&&(a[b]=null),a.detachEvent(b,
c))};h.Event=function(a,b){return this instanceof h.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&!1===a.returnValue?c:F):this.type=a,b&&h.extend(this,b),this.timeStamp=a&&a.timeStamp||h.now(),void(this[h.expando]=!0)):new h.Event(a,b)};h.Event.prototype={isDefaultPrevented:F,isPropagationStopped:F,isImmediatePropagationStopped:F,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=c;a&&(a.preventDefault?
a.preventDefault():a.returnValue=!1)},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=c;a&&(a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0)},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=c;a&&a.stopImmediatePropagation&&a.stopImmediatePropagation();this.stopPropagation()}};h.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(a,b){h.event.special[a]=
{delegateType:b,bindType:b,handle:function(a){var d,g=a.relatedTarget,c=a.handleObj;return(!g||g!==this&&!h.contains(this,g))&&(a.type=c.origType,d=c.handler.apply(this,arguments),a.type=b),d}}});N.submitBubbles||(h.event.special.submit={setup:function(){return h.nodeName(this,"form")?!1:void h.event.add(this,"click._submit keypress._submit",function(a){a=a.target;(a=h.nodeName(a,"input")||h.nodeName(a,"button")?a.form:void 0)&&!h._data(a,"submitBubbles")&&(h.event.add(a,"submit._submit",function(a){a._submit_bubble=
!0}),h._data(a,"submitBubbles",!0))})},postDispatch:function(a){a._submit_bubble&&(delete a._submit_bubble,this.parentNode&&!a.isTrigger&&h.event.simulate("submit",this.parentNode,a,!0))},teardown:function(){return h.nodeName(this,"form")?!1:void h.event.remove(this,"._submit")}});N.changeBubbles||(h.event.special.change={setup:function(){return ca.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(h.event.add(this,"propertychange._change",function(a){"checked"===a.originalEvent.propertyName&&
(this._just_changed=!0)}),h.event.add(this,"click._change",function(a){this._just_changed&&!a.isTrigger&&(this._just_changed=!1);h.event.simulate("change",this,a,!0)})),!1):void h.event.add(this,"beforeactivate._change",function(a){a=a.target;ca.test(a.nodeName)&&!h._data(a,"changeBubbles")&&(h.event.add(a,"change._change",function(a){!this.parentNode||a.isSimulated||a.isTrigger||h.event.simulate("change",this.parentNode,a,!0)}),h._data(a,"changeBubbles",!0))})},handle:function(a){var d=a.target;
return this!==d||a.isSimulated||a.isTrigger||"radio"!==d.type&&"checkbox"!==d.type?a.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return h.event.remove(this,"._change"),!ca.test(this.nodeName)}});N.focusinBubbles||h.each({focus:"focusin",blur:"focusout"},function(a,b){var d=function(a){h.event.simulate(b,a.target,h.event.fix(a),!0)};h.event.special[b]={setup:function(){var g=this.ownerDocument||this,c=h._data(g,b);c||g.addEventListener(a,d,!0);h._data(g,b,(c||0)+1)},teardown:function(){var g=
this.ownerDocument||this,c=h._data(g,b)-1;c?h._data(g,b,c):(g.removeEventListener(a,d,!0),h._removeData(g,b))}}});h.fn.extend({on:function(a,b,c,f,k){var d,g;if("object"==typeof a){"string"!=typeof b&&(c=c||b,b=void 0);for(d in a)this.on(d,b,c,a[d],k);return this}if(null==c&&null==f?(f=b,c=b=void 0):null==f&&("string"==typeof b?(f=c,c=void 0):(f=c,c=b,b=void 0)),!1===f)f=F;else if(!f)return this;return 1===k&&(g=f,f=function(a){return h().off(a),g.apply(this,arguments)},f.guid=g.guid||(g.guid=h.guid++)),
this.each(function(){h.event.add(this,a,f,c,b)})},one:function(a,b,c,f){return this.on(a,b,c,f,1)},off:function(a,b,c){var d,g;if(a&&a.preventDefault&&a.handleObj)return d=a.handleObj,h(a.delegateTarget).off(d.namespace?d.origType+"."+d.namespace:d.origType,d.selector,d.handler),this;if("object"==typeof a){for(g in a)this.off(g,b,a[g]);return this}return(!1===b||"function"==typeof b)&&(c=b,b=void 0),!1===c&&(c=F),this.each(function(){h.event.remove(this,a,c,b)})},trigger:function(a,b){return this.each(function(){h.event.trigger(a,
b,this)})},triggerHandler:function(a,b){var d=this[0];return d?h.event.trigger(a,b,d,!0):void 0}});var mb="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Ub=/ jQuery\d+="(?:null|\d+)"/g,cc=new RegExp("<(?:"+mb+")[\\s/>]","i"),Sa=/^\s+/,Ga=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,$b=/<([\w:]+)/,md=/<tbody/i,wd=/<|&#?\w+;/,Eb=/<(?:script|style|link)/i,zd=/checked\s*(?:[^=]|=\s*.checked.)/i,
Mc=/^$|\/(?:java|ecma)script/i,Ad=/^true\/(.*)/,Bd=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,eb={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:N.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},Ac=
q(S).appendChild(S.createElement("div"));eb.optgroup=eb.option;eb.tbody=eb.tfoot=eb.colgroup=eb.caption=eb.thead;eb.th=eb.td;h.extend({clone:function(a,b,c){var d,g,f,k=h.contains(a.ownerDocument,a);if(N.html5Clone||h.isXMLDoc(a)||!cc.test("<"+a.nodeName+">")?g=a.cloneNode(!0):(Ac.innerHTML=a.outerHTML,Ac.removeChild(g=Ac.firstChild)),!(N.noCloneEvent&&N.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||h.isXMLDoc(a))){var q=U(g);var u=U(a);for(f=0;null!=(d=u[f]);++f)if(q[f]){var n=void 0,m,p=d,t=
q[f];if(1===t.nodeType){if(m=t.nodeName.toLowerCase(),!N.noCloneEvent&&t[h.expando]){d=h._data(t);for(n in d.events)h.removeEvent(t,n,d.handle);t.removeAttribute(h.expando)}"script"===m&&t.text!==p.text?(bb(t).text=p.text,fa(t)):"object"===m?(t.parentNode&&(t.outerHTML=p.outerHTML),N.html5Clone&&p.innerHTML&&!h.trim(t.innerHTML)&&(t.innerHTML=p.innerHTML)):"input"===m&&zc.test(p.type)?(t.defaultChecked=t.checked=p.checked,t.value!==p.value&&(t.value=p.value)):"option"===m?t.defaultSelected=t.selected=
p.defaultSelected:("input"===m||"textarea"===m)&&(t.defaultValue=p.defaultValue)}}}if(b)if(c)for(u=u||U(a),q=q||U(g),f=0;null!=(d=u[f]);f++)Ca(d,q[f]);else Ca(a,g);return q=U(g,"script"),0<q.length&&xa(q,!k&&U(a,"script")),g},buildFragment:function(a,b,c,f){for(var d,g,k,u,n,m,p,t=a.length,R=q(b),w=[],x=0;t>x;x++)if(g=a[x],g||0===g)if("object"===h.type(g))h.merge(w,g.nodeType?[g]:g);else if(wd.test(g)){u=u||R.appendChild(b.createElement("div"));n=($b.exec(g)||["",""])[1].toLowerCase();p=eb[n]||eb._default;
u.innerHTML=p[1]+g.replace(Ga,"<$1></$2>")+p[2];for(d=p[0];d--;)u=u.lastChild;if(!N.leadingWhitespace&&Sa.test(g)&&w.push(b.createTextNode(Sa.exec(g)[0])),!N.tbody)for(d=(g="table"!==n||md.test(g)?"<table>"!==p[1]||md.test(g)?0:u:u.firstChild)&&g.childNodes.length;d--;)h.nodeName(m=g.childNodes[d],"tbody")&&!m.childNodes.length&&g.removeChild(m);h.merge(w,u.childNodes);for(u.textContent="";u.firstChild;)u.removeChild(u.firstChild);u=R.lastChild}else w.push(b.createTextNode(g));u&&R.removeChild(u);
N.appendChecked||h.grep(U(w,"input"),A);for(x=0;g=w[x++];)if((!f||-1===h.inArray(g,f))&&(k=h.contains(g.ownerDocument,g),u=U(R.appendChild(g),"script"),k&&xa(u),c))for(d=0;g=u[d++];)Mc.test(g.type||"")&&c.push(g);return R},cleanData:function(a,b){for(var d,g,c,f,k=0,q=h.expando,n=h.cache,m=N.deleteExpando,p=h.event.special;null!=(d=a[k]);k++)if((b||h.acceptData(d))&&(c=d[q],f=c&&n[c])){if(f.events)for(g in f.events)p[g]?h.event.remove(d,g):h.removeEvent(d,g,f.handle);n[c]&&(delete n[c],m?delete d[q]:
"undefined"!==typeof d.removeAttribute?d.removeAttribute(q):d[q]=null,Q.push(c))}}});h.fn.extend({text:function(a){return za(this,function(a){return void 0===a?h.text(this):this.empty().append((this[0]&&this[0].ownerDocument||S).createTextNode(a))},null,a,arguments.length)},append:function(){return this.domManip(arguments,function(a){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||ta(this,a).appendChild(a)})},prepend:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||
11===this.nodeType||9===this.nodeType){var d=ta(this,a);d.insertBefore(a,d.firstChild)}})},before:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},remove:function(a,b){for(var d=a?h.filter(a,this):this,g=0;null!=(a=d[g]);g++)b||1!==a.nodeType||h.cleanData(U(a)),a.parentNode&&(b&&h.contains(a.ownerDocument,a)&&
xa(U(a,"script")),a.parentNode.removeChild(a));return this},empty:function(){for(var a,b=0;null!=(a=this[b]);b++){for(1===a.nodeType&&h.cleanData(U(a,!1));a.firstChild;)a.removeChild(a.firstChild);a.options&&h.nodeName(a,"select")&&(a.options.length=0)}return this},clone:function(a,b){return a=null==a?!1:a,b=null==b?a:b,this.map(function(){return h.clone(this,a,b)})},html:function(a){return za(this,function(a){var d=this[0]||{},b=0,g=this.length;if(void 0===a)return 1===d.nodeType?d.innerHTML.replace(Ub,
""):void 0;if(!("string"!=typeof a||Eb.test(a)||!N.htmlSerialize&&cc.test(a)||!N.leadingWhitespace&&Sa.test(a)||eb[($b.exec(a)||["",""])[1].toLowerCase()])){a=a.replace(Ga,"<$1></$2>");try{for(;g>b;b++)d=this[b]||{},1===d.nodeType&&(h.cleanData(U(d,!1)),d.innerHTML=a);d=0}catch(Ua){}}d&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=arguments[0];return this.domManip(arguments,function(d){a=this.parentNode;h.cleanData(U(this));a&&a.replaceChild(d,this)}),a&&(a.length||
a.nodeType)?this:this.remove()},detach:function(a){return this.remove(a,!0)},domManip:function(a,b){a=Hb.apply([],a);var d,g,c,f=0,k=this.length,q=this,n=k-1,m=a[0],p=h.isFunction(m);if(p||1<k&&"string"==typeof m&&!N.checkClone&&zd.test(m))return this.each(function(d){var g=q.eq(d);p&&(a[0]=m.call(this,d,g.html()));g.domManip(a,b)});if(k&&(c=h.buildFragment(a,this[0].ownerDocument,!1,this),d=c.firstChild,1===c.childNodes.length&&(c=d),d)){var t=h.map(U(c,"script"),bb);for(g=t.length;k>f;f++)d=c,f!==
n&&(d=h.clone(d,!0,!0),g&&h.merge(t,U(d,"script"))),b.call(this[f],d,f);if(g)for(c=t[t.length-1].ownerDocument,h.map(t,fa),f=0;g>f;f++)d=t[f],Mc.test(d.type||"")&&!h._data(d,"globalEval")&&h.contains(c,d)&&(d.src?h._evalUrl&&h._evalUrl(d.src):h.globalEval((d.text||d.textContent||d.innerHTML||"").replace(Bd,"")));c=d=null}return this}});h.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){h.fn[a]=function(a){for(var d=0,g=[],
c=h(a),f=c.length-1;f>=d;d++)a=d===f?this:this.clone(!0),h(c[d])[b](a),Kc.apply(g,a.get());return this.pushStack(g)}});var Ic,Yc={};!function(){var a;N.shrinkWrapBlocks=function(){if(null!=a)return a;a=!1;var d,b,c;return b=S.getElementsByTagName("body")[0],b&&b.style?(d=S.createElement("div"),c=S.createElement("div"),c.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",b.appendChild(c).appendChild(d),"undefined"!==typeof d.style.zoom&&(d.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",
d.appendChild(S.createElement("div")).style.width="5px",a=3!==d.offsetWidth),b.removeChild(c),a):void 0}}();var hc=/^margin/,tc=new RegExp("^("+zb+")(?!px)[a-z%]+$","i"),nb,ob,td=/^(top|right|bottom|left)$/;a.getComputedStyle?(nb=function(a){return a.ownerDocument.defaultView.getComputedStyle(a,null)},ob=function(a,b,c){var d,g,f,k,q=a.style;return c=c||nb(a),k=c?c.getPropertyValue(b)||c[b]:void 0,c&&(""!==k||h.contains(a.ownerDocument,a)||(k=h.style(a,b)),tc.test(k)&&hc.test(b)&&(d=q.width,g=q.minWidth,
f=q.maxWidth,q.minWidth=q.maxWidth=q.width=k,k=c.width,q.width=d,q.minWidth=g,q.maxWidth=f)),void 0===k?k:k+""}):S.documentElement.currentStyle&&(nb=function(a){return a.currentStyle},ob=function(a,b,c){var d,g,f,h,k=a.style;return c=c||nb(a),h=c?c[b]:void 0,null==h&&k&&k[b]&&(h=k[b]),tc.test(h)&&!td.test(b)&&(d=k.left,g=a.runtimeStyle,f=g&&g.left,f&&(g.left=a.currentStyle.left),k.left="fontSize"===b?"1em":h,h=k.pixelLeft+"px",k.left=d,f&&(g.left=f)),void 0===h?h:h+""||"auto"});!function(){var d,
b,c,f,k,q,n;if(d=S.createElement("div"),d.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",c=d.getElementsByTagName("a")[0],b=c&&c.style){var m=function(){var d,b,c,g;(b=S.getElementsByTagName("body")[0])&&b.style&&(d=S.createElement("div"),c=S.createElement("div"),c.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",b.appendChild(c).appendChild(d),d.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",
f=k=!1,n=!0,a.getComputedStyle&&(f="1%"!==(a.getComputedStyle(d,null)||{}).top,k="4px"===(a.getComputedStyle(d,null)||{width:"4px"}).width,g=d.appendChild(S.createElement("div")),g.style.cssText=d.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",g.style.marginRight=g.style.width="0",d.style.width="1px",n=!parseFloat((a.getComputedStyle(g,null)||{}).marginRight)),d.innerHTML="<table><tr><td></td><td>t</td></tr></table>",
g=d.getElementsByTagName("td"),g[0].style.cssText="margin:0;border:0;padding:0;display:none",q=0===g[0].offsetHeight,q&&(g[0].style.display="",g[1].style.display="none",q=0===g[0].offsetHeight),b.removeChild(c))};b.cssText="float:left;opacity:.5";N.opacity="0.5"===b.opacity;N.cssFloat=!!b.cssFloat;d.style.backgroundClip="content-box";d.cloneNode(!0).style.backgroundClip="";N.clearCloneStyle="content-box"===d.style.backgroundClip;N.boxSizing=""===b.boxSizing||""===b.MozBoxSizing||""===b.WebkitBoxSizing;
h.extend(N,{reliableHiddenOffsets:function(){return null==q&&m(),q},boxSizingReliable:function(){return null==k&&m(),k},pixelPosition:function(){return null==f&&m(),f},reliableMarginRight:function(){return null==n&&m(),n}})}}();h.swap=function(a,b,c,f){var d,g={};for(d in b)g[d]=a.style[d],a.style[d]=b[d];c=c.apply(a,f||[]);for(d in b)a.style[d]=g[d];return c};var Bc=/alpha\([^)]*\)/i,bd=/opacity\s*=\s*([^)]*)/,nd=/^(none|table(?!-c[ea]).+)/,Zc=new RegExp("^("+zb+")(.*)$","i"),Bb=new RegExp("^([+-])=("+
zb+")","i"),Cd={position:"absolute",visibility:"hidden",display:"block"},Cc={letterSpacing:"0",fontWeight:"400"},$a=["Webkit","O","Moz","ms"];h.extend({cssHooks:{opacity:{get:function(a,b){if(b)return a=ob(a,"opacity"),""===a?"1":a}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":N.cssFloat?"cssFloat":"styleFloat"},style:function(a,b,c,f){if(a&&3!==a.nodeType&&8!==a.nodeType&&
a.style){var d,g,k,q=h.camelCase(b),n=a.style;if(b=h.cssProps[q]||(h.cssProps[q]=J(n,q)),k=h.cssHooks[b]||h.cssHooks[q],void 0===c)return k&&"get"in k&&void 0!==(d=k.get(a,!1,f))?d:n[b];if(g=typeof c,"string"===g&&(d=Bb.exec(c))&&(c=(d[1]+1)*d[2]+parseFloat(h.css(a,b)),g="number"),null!=c&&c===c&&("number"!==g||h.cssNumber[q]||(c+="px"),N.clearCloneStyle||""!==c||0!==b.indexOf("background")||(n[b]="inherit"),!(k&&"set"in k&&void 0===(c=k.set(a,c,f)))))try{n[b]=c}catch(Rc){}}},css:function(a,b,c,f){var d,
g,k,q=h.camelCase(b);return b=h.cssProps[q]||(h.cssProps[q]=J(a.style,q)),k=h.cssHooks[b]||h.cssHooks[q],k&&"get"in k&&(g=k.get(a,!0,c)),void 0===g&&(g=ob(a,b,f)),"normal"===g&&b in Cc&&(g=Cc[b]),""===c||c?(d=parseFloat(g),!0===c||h.isNumeric(d)?d||0:g):g}});h.each(["height","width"],function(a,b){h.cssHooks[b]={get:function(a,d,c){return d?nd.test(h.css(a,"display"))&&0===a.offsetWidth?h.swap(a,Cd,function(){return cb(a,b,c)}):cb(a,b,c):void 0},set:function(a,d,c){var g=c&&nb(a);return G(a,d,c?la(a,
b,c,N.boxSizing&&"border-box"===h.css(a,"boxSizing",!1,g),g):0)}}});N.opacity||(h.cssHooks.opacity={get:function(a,b){return bd.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":b?"1":""},set:function(a,b){var d=a.style;a=a.currentStyle;var c=h.isNumeric(b)?"alpha(opacity="+100*b+")":"",g=a&&a.filter||d.filter||"";d.zoom=1;(1<=b||""===b)&&""===h.trim(g.replace(Bc,""))&&d.removeAttribute&&(d.removeAttribute("filter"),""===b||a&&!a.filter)||(d.filter=Bc.test(g)?
g.replace(Bc,c):g+" "+c)}});h.cssHooks.marginRight=oa(N.reliableMarginRight,function(a,b){return b?h.swap(a,{display:"inline-block"},ob,[a,"marginRight"]):void 0});h.each({margin:"",padding:"",border:"Width"},function(a,b){h.cssHooks[a+b]={expand:function(d){var c=0,g={};for(d="string"==typeof d?d.split(" "):[d];4>c;c++)g[a+W[c]+b]=d[c]||d[c-2]||d[0];return g}};hc.test(a)||(h.cssHooks[a+b].set=G)});h.fn.extend({css:function(a,b){return za(this,function(a,d,b){var c,g={},f=0;if(h.isArray(d)){b=nb(a);
for(c=d.length;c>f;f++)g[d[f]]=h.css(a,d[f],!1,b);return g}return void 0!==b?h.style(a,d,b):h.css(a,d)},a,b,1<arguments.length)},show:function(){return Oa(this,!0)},hide:function(){return Oa(this)},toggle:function(a){return"boolean"==typeof a?a?this.show():this.hide():this.each(function(){Kb(this)?h(this).show():h(this).hide()})}});h.Tween=ha;ha.prototype={constructor:ha,init:function(a,b,c,f,k,q){this.elem=a;this.prop=c;this.easing=k||"swing";this.options=b;this.start=this.now=this.cur();this.end=
f;this.unit=q||(h.cssNumber[c]?"":"px")},cur:function(){var a=ha.propHooks[this.prop];return a&&a.get?a.get(this):ha.propHooks._default.get(this)},run:function(a){var d,b=ha.propHooks[this.prop];return this.pos=d=this.options.duration?h.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):a,this.now=(this.end-this.start)*d+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),b&&b.set?b.set(this):ha.propHooks._default.set(this),this}};ha.prototype.init.prototype=
ha.prototype;ha.propHooks={_default:{get:function(a){var d;return null==a.elem[a.prop]||a.elem.style&&null!=a.elem.style[a.prop]?(d=h.css(a.elem,a.prop,""),d&&"auto"!==d?d:0):a.elem[a.prop]},set:function(a){h.fx.step[a.prop]?h.fx.step[a.prop](a):a.elem.style&&(null!=a.elem.style[h.cssProps[a.prop]]||h.cssHooks[a.prop])?h.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}};ha.propHooks.scrollTop=ha.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}};
h.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2}};h.fx=ha.prototype.init;h.fx.step={};var uc,vc,La=/^(?:toggle|show|hide)$/,Lb=new RegExp("^(?:([+-])=|)("+zb+")([a-z%]*)$","i"),xd=/queueHooks$/,jb=[function(a,b,c){var d,g,f,k,q,n,m,u=this,p={},t=a.style,w=a.nodeType&&Kb(a),A=h._data(a,"fxshow");c.queue||(k=h._queueHooks(a,"fx"),null==k.unqueued&&(k.unqueued=0,q=k.empty.fire,k.empty.fire=function(){k.unqueued||q()}),k.unqueued++,u.always(function(){u.always(function(){k.unqueued--;
h.queue(a,"fx").length||k.empty.fire()})}));1===a.nodeType&&("height"in b||"width"in b)&&(c.overflow=[t.overflow,t.overflowX,t.overflowY],n=h.css(a,"display"),m="none"===n?h._data(a,"olddisplay")||Na(a.nodeName):n,"inline"===m&&"none"===h.css(a,"float")&&(N.inlineBlockNeedsLayout&&"inline"!==Na(a.nodeName)?t.zoom=1:t.display="inline-block"));c.overflow&&(t.overflow="hidden",N.shrinkWrapBlocks()||u.always(function(){t.overflow=c.overflow[0];t.overflowX=c.overflow[1];t.overflowY=c.overflow[2]}));for(d in b)if(g=
b[d],La.exec(g)){if(delete b[d],f=f||"toggle"===g,g===(w?"hide":"show")){if("show"!==g||!A||void 0===A[d])continue;w=!0}p[d]=A&&A[d]||h.style(a,d)}else n=void 0;if(h.isEmptyObject(p))"inline"===("none"===n?Na(a.nodeName):n)&&(t.display=n);else for(d in A?"hidden"in A&&(w=A.hidden):A=h._data(a,"fxshow",{}),f&&(A.hidden=!w),w?h(a).show():u.done(function(){h(a).hide()}),u.done(function(){var d;h._removeData(a,"fxshow");for(d in p)h.style(a,d,p[d])}),p)b=Ob(w?A[d]:0,d,u),d in A||(A[d]=b.start,w&&(b.end=
b.start,b.start="width"===d||"height"===d?1:0))}],lc={"*":[function(a,b){var d=this.createTween(a,b),c=d.cur(),g=(b=Lb.exec(b))&&b[3]||(h.cssNumber[a]?"":"px"),f=(h.cssNumber[a]||"px"!==g&&+c)&&Lb.exec(h.css(d.elem,a)),k=1,q=20;if(f&&f[3]!==g){g=g||f[3];b=b||[];f=+c||1;do k=k||".5",f/=k,h.style(d.elem,a,f+g);while(k!==(k=d.cur()/c)&&1!==k&&--q)}return b&&(f=d.start=+f||+c||0,d.unit=g,d.end=b[1]?f+(b[1]+1)*b[2]:+b[2]),d}]};h.Animation=h.extend(T,{tweener:function(a,b){h.isFunction(a)?(b=a,a=["*"]):
a=a.split(" ");for(var d,c=0,g=a.length;g>c;c++)d=a[c],lc[d]=lc[d]||[],lc[d].unshift(b)},prefilter:function(a,b){b?jb.unshift(a):jb.push(a)}});h.speed=function(a,b,c){var d=a&&"object"==typeof a?h.extend({},a):{complete:c||!c&&b||h.isFunction(a)&&a,duration:a,easing:c&&b||b&&!h.isFunction(b)&&b};return d.duration=h.fx.off?0:"number"==typeof d.duration?d.duration:d.duration in h.fx.speeds?h.fx.speeds[d.duration]:h.fx.speeds._default,(null==d.queue||!0===d.queue)&&(d.queue="fx"),d.old=d.complete,d.complete=
function(){h.isFunction(d.old)&&d.old.call(this);d.queue&&h.dequeue(this,d.queue)},d};h.fn.extend({fadeTo:function(a,b,c,f){return this.filter(Kb).css("opacity",0).show().end().animate({opacity:b},a,c,f)},animate:function(a,b,c,f){var d=h.isEmptyObject(a),g=h.speed(b,c,f);b=function(){var b=T(this,h.extend({},a),g);(d||h._data(this,"finish"))&&b.stop(!0)};return b.finish=b,d||!1===g.queue?this.each(b):this.queue(g.queue,b)},stop:function(a,b,c){var d=function(a){var b=a.stop;delete a.stop;b(c)};return"string"!=
typeof a&&(c=b,b=a,a=void 0),b&&!1!==a&&this.queue(a||"fx",[]),this.each(function(){var b=!0,g=null!=a&&a+"queueHooks",f=h.timers,k=h._data(this);if(g)k[g]&&k[g].stop&&d(k[g]);else for(g in k)k[g]&&k[g].stop&&xd.test(g)&&d(k[g]);for(g=f.length;g--;)f[g].elem!==this||null!=a&&f[g].queue!==a||(f[g].anim.stop(c),b=!1,f.splice(g,1));!b&&c||h.dequeue(this,a)})},finish:function(a){return!1!==a&&(a=a||"fx"),this.each(function(){var b=h._data(this),d=b[a+"queue"];var c=b[a+"queueHooks"];var f=h.timers,k=
d?d.length:0;b.finish=!0;h.queue(this,a,[]);c&&c.stop&&c.stop.call(this,!0);for(c=f.length;c--;)f[c].elem===this&&f[c].queue===a&&(f[c].anim.stop(!0),f.splice(c,1));for(c=0;k>c;c++)d[c]&&d[c].finish&&d[c].finish.call(this);delete b.finish})}});h.each(["toggle","show","hide"],function(a,b){var d=h.fn[b];h.fn[b]=function(a,c,g){return null==a||"boolean"==typeof a?d.apply(this,arguments):this.animate(tb(b,!0),a,c,g)}});h.each({slideDown:tb("show"),slideUp:tb("hide"),slideToggle:tb("toggle"),fadeIn:{opacity:"show"},
fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){h.fn[a]=function(a,d,c){return this.animate(b,a,d,c)}});h.timers=[];h.fx.tick=function(){var a=h.timers,b=0;for(uc=h.now();b<a.length;b++){var c=a[b];c()||a[b]!==c||a.splice(b--,1)}a.length||h.fx.stop();uc=void 0};h.fx.timer=function(a){h.timers.push(a);a()?h.fx.start():h.timers.pop()};h.fx.interval=13;h.fx.start=function(){vc||(vc=setInterval(h.fx.tick,h.fx.interval))};h.fx.stop=function(){clearInterval(vc);vc=null};h.fx.speeds=
{slow:600,fast:200,_default:400};h.fn.delay=function(a,b){return a=h.fx?h.fx.speeds[a]||a:a,b=b||"fx",this.queue(b,function(b,d){var c=setTimeout(b,a);d.stop=function(){clearTimeout(c)}})};(function(){var a=S.createElement("div");a.setAttribute("className","t");a.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>";var b=a.getElementsByTagName("a")[0];var c=S.createElement("select");var f=c.appendChild(S.createElement("option"));var h=a.getElementsByTagName("input")[0];b.style.cssText=
"top:1px";N.getSetAttribute="t"!==a.className;N.style=/top/.test(b.getAttribute("style"));N.hrefNormalized="/a"===b.getAttribute("href");N.checkOn=!!h.value;N.optSelected=f.selected;N.enctype=!!S.createElement("form").enctype;c.disabled=!0;N.optDisabled=!f.disabled;h=S.createElement("input");h.setAttribute("value","");N.input=""===h.getAttribute("value");h.value="t";h.setAttribute("type","radio");N.radioValue="t"===h.value})();var Nc=/\r/g;h.fn.extend({val:function(a){var b,d,c,f=this[0];if(arguments.length)return c=
h.isFunction(a),this.each(function(d){var g;1===this.nodeType&&(g=c?a.call(this,d,h(this).val()):a,null==g?g="":"number"==typeof g?g+="":h.isArray(g)&&(g=h.map(g,function(a){return null==a?"":a+""})),b=h.valHooks[this.type]||h.valHooks[this.nodeName.toLowerCase()],b&&"set"in b&&void 0!==b.set(this,g,"value")||(this.value=g))});if(f)return b=h.valHooks[f.type]||h.valHooks[f.nodeName.toLowerCase()],b&&"get"in b&&void 0!==(d=b.get(f,"value"))?d:(d=f.value,"string"==typeof d?d.replace(Nc,""):null==d?
"":d)}});h.extend({valHooks:{option:{get:function(a){var b=h.find.attr(a,"value");return null!=b?b:h.trim(h.text(a))}},select:{get:function(a){for(var b,d=a.options,c=a.selectedIndex,f="select-one"===a.type||0>c,k=f?null:[],q=f?c+1:d.length,n=0>c?q:f?c:0;q>n;n++)if(b=d[n],!(!b.selected&&n!==c||(N.optDisabled?b.disabled:null!==b.getAttribute("disabled"))||b.parentNode.disabled&&h.nodeName(b.parentNode,"optgroup"))){if(a=h(b).val(),f)return a;k.push(a)}return k},set:function(a,b){var d,c,g=a.options;
b=h.makeArray(b);for(var f=g.length;f--;)if(c=g[f],0<=h.inArray(h.valHooks.option.get(c),b))try{c.selected=d=!0}catch(Pc){c.scrollHeight}else c.selected=!1;return d||(a.selectedIndex=-1),g}}}});h.each(["radio","checkbox"],function(){h.valHooks[this]={set:function(a,b){return h.isArray(b)?a.checked=0<=h.inArray(h(a).val(),b):void 0}};N.checkOn||(h.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})});var ub,ua=h.expr.attrHandle,wc=/^(?:checked|selected)$/i,Pb=N.getSetAttribute,
vb=N.input;h.fn.extend({attr:function(a,b){return za(this,h.attr,a,b,1<arguments.length)},removeAttr:function(a){return this.each(function(){h.removeAttr(this,a)})}});h.extend({attr:function(a,b,c){var d,f,g=a.nodeType;if(a&&3!==g&&8!==g&&2!==g)return"undefined"===typeof a.getAttribute?h.prop(a,b,c):(1===g&&h.isXMLDoc(a)||(b=b.toLowerCase(),d=h.attrHooks[b]||(h.expr.match.bool.test(b)?Dc:ub)),void 0===c?d&&"get"in d&&null!==(f=d.get(a,b))?f:(f=h.find.attr(a,b),null==f?void 0:f):null!==c?d&&"set"in
d&&void 0!==(f=d.set(a,c,b))?f:(a.setAttribute(b,c+""),c):void h.removeAttr(a,b))},removeAttr:function(a,b){var d=0,c=b&&b.match(ib);if(c&&1===a.nodeType)for(;b=c[d++];){var f=h.propFix[b]||b;h.expr.match.bool.test(b)?vb&&Pb||!wc.test(b)?a[f]=!1:a[h.camelCase("default-"+b)]=a[f]=!1:h.attr(a,b,"");a.removeAttribute(Pb?b:f)}},attrHooks:{type:{set:function(a,b){if(!N.radioValue&&"radio"===b&&h.nodeName(a,"input")){var d=a.value;return a.setAttribute("type",b),d&&(a.value=d),b}}}}});var Dc={set:function(a,
b,c){return!1===b?h.removeAttr(a,c):vb&&Pb||!wc.test(c)?a.setAttribute(!Pb&&h.propFix[c]||c,c):a[h.camelCase("default-"+c)]=a[c]=!0,c}};h.each(h.expr.match.bool.source.match(/\w+/g),function(a,b){var d=ua[b]||h.find.attr;ua[b]=vb&&Pb||!wc.test(b)?function(a,b,c){var f,g;return c||(g=ua[b],ua[b]=f,f=null!=d(a,b,c)?b.toLowerCase():null,ua[b]=g),f}:function(a,b,d){return d?void 0:a[h.camelCase("default-"+b)]?b.toLowerCase():null}});vb&&Pb||(h.attrHooks.value={set:function(a,b,c){return h.nodeName(a,
"input")?void(a.defaultValue=b):ub&&ub.set(a,b,c)}});Pb||(ub={set:function(a,b,c){var d=a.getAttributeNode(c);return d||a.setAttributeNode(d=a.ownerDocument.createAttribute(c)),d.value=b+="","value"===c||b===a.getAttribute(c)?b:void 0}},ua.id=ua.name=ua.coords=function(a,b,c){var d;return c?void 0:(d=a.getAttributeNode(b))&&""!==d.value?d.value:null},h.valHooks.button={get:function(a,b){return(a=a.getAttributeNode(b))&&a.specified?a.value:void 0},set:ub.set},h.attrHooks.contenteditable={set:function(a,
b,c){ub.set(a,""===b?!1:b,c)}},h.each(["width","height"],function(a,b){h.attrHooks[b]={set:function(a,d){return""===d?(a.setAttribute(b,"auto"),d):void 0}}}));N.style||(h.attrHooks.style={get:function(a){return a.style.cssText||void 0},set:function(a,b){return a.style.cssText=b+""}});var pb=/^(?:input|select|textarea|button|object)$/i,kc=/^(?:a|area)$/i;h.fn.extend({prop:function(a,b){return za(this,h.prop,a,b,1<arguments.length)},removeProp:function(a){return a=h.propFix[a]||a,this.each(function(){try{this[a]=
void 0,delete this[a]}catch(g){}})}});h.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(a,b,c){var d,f,g,k=a.nodeType;if(a&&3!==k&&8!==k&&2!==k)return g=1!==k||!h.isXMLDoc(a),g&&(b=h.propFix[b]||b,f=h.propHooks[b]),void 0!==c?f&&"set"in f&&void 0!==(d=f.set(a,c,b))?d:a[b]=c:f&&"get"in f&&null!==(d=f.get(a,b))?d:a[b]},propHooks:{tabIndex:{get:function(a){var b=h.find.attr(a,"tabindex");return b?parseInt(b,10):pb.test(a.nodeName)||kc.test(a.nodeName)&&a.href?0:-1}}}});N.hrefNormalized||
h.each(["href","src"],function(a,b){h.propHooks[b]={get:function(a){return a.getAttribute(b,4)}}});N.optSelected||(h.propHooks.selected={get:function(a){a=a.parentNode;return a&&(a.selectedIndex,a.parentNode&&a.parentNode.selectedIndex),null}});h.each("tabIndex readOnly maxLength cellSpacing cellPadding rowSpan colSpan useMap frameBorder contentEditable".split(" "),function(){h.propFix[this.toLowerCase()]=this});N.enctype||(h.propFix.enctype="encoding");var Vb=/[\t\r\n\f]/g;h.fn.extend({addClass:function(a){var b,
d,c,f,k=0,q=this.length;var n="string"==typeof a&&a;if(h.isFunction(a))return this.each(function(b){h(this).addClass(a.call(this,b,this.className))});if(n)for(n=(a||"").match(ib)||[];q>k;k++)if(b=this[k],d=1===b.nodeType&&(b.className?(" "+b.className+" ").replace(Vb," "):" ")){for(f=0;c=n[f++];)0>d.indexOf(" "+c+" ")&&(d+=c+" ");d=h.trim(d);b.className!==d&&(b.className=d)}return this},removeClass:function(a){var b,d,c,f,k=0,q=this.length;var n=0===arguments.length||"string"==typeof a&&a;if(h.isFunction(a))return this.each(function(b){h(this).removeClass(a.call(this,
b,this.className))});if(n)for(n=(a||"").match(ib)||[];q>k;k++)if(b=this[k],d=1===b.nodeType&&(b.className?(" "+b.className+" ").replace(Vb," "):"")){for(f=0;c=n[f++];)for(;0<=d.indexOf(" "+c+" ");)d=d.replace(" "+c+" "," ");d=a?h.trim(d):"";b.className!==d&&(b.className=d)}return this},toggleClass:function(a,b){var d=typeof a;return"boolean"==typeof b&&"string"===d?b?this.addClass(a):this.removeClass(a):this.each(h.isFunction(a)?function(d){h(this).toggleClass(a.call(this,d,this.className,b),b)}:
function(){if("string"===d)for(var b,c=0,f=h(this),g=a.match(ib)||[];b=g[c++];)f.hasClass(b)?f.removeClass(b):f.addClass(b);else("undefined"===d||"boolean"===d)&&(this.className&&h._data(this,"__className__",this.className),this.className=this.className||!1===a?"":h._data(this,"__className__")||"")})},hasClass:function(a){a=" "+a+" ";for(var b=0,d=this.length;d>b;b++)if(1===this[b].nodeType&&0<=(" "+this[b].className+" ").replace(Vb," ").indexOf(a))return!0;return!1}});h.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),
function(a,b){h.fn[b]=function(a,d){return 0<arguments.length?this.on(b,null,a,d):this.trigger(b)}});h.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,f){return this.on(b,a,c,f)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)}});var Tb=h.now(),Ea=/\?/,kb=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;
h.parseJSON=function(b){if(a.JSON&&a.JSON.parse)return a.JSON.parse(b+"");var d,c=null,f=h.trim(b+"");return f&&!h.trim(f.replace(kb,function(a,b,f,g){return d&&b&&(c=0),0===c?a:(d=f||b,c+=!g-!f,"")}))?Function("return "+f)():h.error("Invalid JSON: "+b)};h.parseXML=function(b){var d,c;if(!b||"string"!=typeof b)return null;try{a.DOMParser?(c=new DOMParser,d=c.parseFromString(b,"text/xml")):(d=new ActiveXObject("Microsoft.XMLDOM"),d.async="false",d.loadXML(b))}catch(R){d=void 0}return d&&d.documentElement&&
!d.getElementsByTagName("parsererror").length||h.error("Invalid XML: "+b),d};var va=/#.*$/,xc=/([?&])_=[^&]*/,Ka=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,wb=/^(?:GET|HEAD)$/,rb=/^\/\//,ma=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,gb={},xb={},Gb="*/".concat("*");try{var Fb=location.href}catch(d){Fb=S.createElement("a"),Fb.href="",Fb=Fb.href}var Qb=ma.exec(Fb.toLowerCase())||[];h.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Fb,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Qb[1]),
global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Gb,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":h.parseJSON,"text xml":h.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?K(K(a,
h.ajaxSettings),b):K(h.ajaxSettings,a)},ajaxPrefilter:E(gb),ajaxTransport:E(xb),ajax:function(a,b){function d(a,b,d,c){var f,m,u,z=b;if(2!==H){H=2;k&&clearTimeout(k);n=void 0;g=c||"";K.readyState=0<a?4:0;c=200<=a&&300>a||304===a;if(d){var F=p;for(var E=K,ea,R,ka,G,fa=F.contents,Y=F.dataTypes;"*"===Y[0];)Y.shift(),void 0===R&&(R=F.mimeType||E.getResponseHeader("Content-Type"));if(R)for(G in fa)if(fa[G]&&fa[G].test(R)){Y.unshift(G);break}if(Y[0]in d)ka=Y[0];else{for(G in d){if(!Y[0]||F.converters[G+
" "+Y[0]]){ka=G;break}ea||(ea=G)}ka=ka||ea}F=ka?(ka!==Y[0]&&Y.unshift(ka),d[ka]):void 0}a:{d=p;ea=F;R=K;ka=c;var B,Z,ya;F={};E=d.dataTypes.slice();if(E[1])for(B in d.converters)F[B.toLowerCase()]=d.converters[B];for(G=E.shift();G;)if(d.responseFields[G]&&(R[d.responseFields[G]]=ea),!ya&&ka&&d.dataFilter&&(ea=d.dataFilter(ea,d.dataType)),ya=G,G=E.shift())if("*"===G)G=ya;else if("*"!==ya&&ya!==G){if(B=F[ya+" "+G]||F["* "+G],!B)for(ab in F)if(Z=ab.split(" "),Z[1]===G&&(B=F[ya+" "+Z[0]]||F["* "+Z[0]])){!0===
B?B=F[ab]:!0!==F[ab]&&(G=Z[0],E.unshift(Z[1]));break}if(!0!==B)if(B&&d["throws"])ea=B(ea);else try{ea=B(ea)}catch(Dd){var ab={state:"parsererror",error:B?Dd:"No conversion from "+ya+" to "+G};break a}}ab={state:"success",data:ea}}F=ab;c?(p.ifModified&&(u=K.getResponseHeader("Last-Modified"),u&&(h.lastModified[V]=u),u=K.getResponseHeader("etag"),u&&(h.etag[V]=u)),204===a||"HEAD"===p.type?z="nocontent":304===a?z="notmodified":(z=F.state,f=F.data,m=F.error,c=!m)):(m=z,(a||!z)&&(z="error",0>a&&(a=0)));
K.status=a;K.statusText=(b||z)+"";c?A.resolveWith(t,[f,z,K]):A.rejectWith(t,[K,z,m]);K.statusCode(U);U=void 0;q&&w.trigger(c?"ajaxSuccess":"ajaxError",[K,p,c?f:m]);x.fireWith(t,[K,z]);q&&(w.trigger("ajaxComplete",[K,p]),--h.active||h.event.trigger("ajaxStop"))}}"object"==typeof a&&(b=a,a=void 0);b=b||{};var c,f,g,k,q,n,m,p=h.ajaxSetup({},b),t=p.context||p,w=p.context&&(t.nodeType||t.jquery)?h(t):h.event,A=h.Deferred(),x=h.Callbacks("once memory"),U=p.statusCode||{},z={},F={},H=0,E="canceled",K={readyState:0,
getResponseHeader:function(a){var b;if(2===H){if(!m)for(m={};b=Ka.exec(g);)m[b[1].toLowerCase()]=b[2];b=m[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===H?g:null},setRequestHeader:function(a,b){var d=a.toLowerCase();return H||(a=F[d]=F[d]||a,z[a]=b),this},overrideMimeType:function(a){return H||(p.mimeType=a),this},statusCode:function(a){var b;if(a)if(2>H)for(b in a)U[b]=[U[b],a[b]];else K.always(a[K.status]);return this},abort:function(a){a=a||E;return n&&n.abort(a),
d(0,a),this}};if(A.promise(K).complete=x.add,K.success=K.done,K.error=K.fail,p.url=((a||p.url||Fb)+"").replace(va,"").replace(rb,Qb[1]+"//"),p.type=b.method||b.type||p.method||p.type,p.dataTypes=h.trim(p.dataType||"*").toLowerCase().match(ib)||[""],null==p.crossDomain&&(c=ma.exec(p.url.toLowerCase()),p.crossDomain=!(!c||c[1]===Qb[1]&&c[2]===Qb[2]&&(c[3]||("http:"===c[1]?"80":"443"))===(Qb[3]||("http:"===Qb[1]?"80":"443")))),p.data&&p.processData&&"string"!=typeof p.data&&(p.data=h.param(p.data,p.traditional)),
ea(gb,p,b,K),2===H)return K;(q=p.global)&&0===h.active++&&h.event.trigger("ajaxStart");p.type=p.type.toUpperCase();p.hasContent=!wb.test(p.type);var V=p.url;p.hasContent||(p.data&&(V=p.url+=(Ea.test(V)?"&":"?")+p.data,delete p.data),!1===p.cache&&(p.url=xc.test(V)?V.replace(xc,"$1_="+Tb++):V+(Ea.test(V)?"&":"?")+"_="+Tb++));p.ifModified&&(h.lastModified[V]&&K.setRequestHeader("If-Modified-Since",h.lastModified[V]),h.etag[V]&&K.setRequestHeader("If-None-Match",h.etag[V]));(p.data&&p.hasContent&&!1!==
p.contentType||b.contentType)&&K.setRequestHeader("Content-Type",p.contentType);K.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+Gb+"; q=0.01":""):p.accepts["*"]);for(f in p.headers)K.setRequestHeader(f,p.headers[f]);if(p.beforeSend&&(!1===p.beforeSend.call(t,K,p)||2===H))return K.abort();E="abort";for(f in{success:1,error:1,complete:1})K[f](p[f]);if(n=ea(xb,p,b,K)){K.readyState=1;q&&w.trigger("ajaxSend",[K,p]);p.async&&0<p.timeout&&
(k=setTimeout(function(){K.abort("timeout")},p.timeout));try{H=1,n.send(z,d)}catch(pc){if(!(2>H))throw pc;d(-1,pc)}}else d(-1,"No Transport");return K},getJSON:function(a,b,c){return h.get(a,b,c,"json")},getScript:function(a,b){return h.get(a,void 0,b,"script")}});h.each(["get","post"],function(a,b){h[b]=function(a,d,c,f){return h.isFunction(d)&&(f=f||c,c=d,d=void 0),h.ajax({url:a,type:b,dataType:f,data:d,success:c})}});h.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),
function(a,b){h.fn[b]=function(a){return this.on(b,a)}});h._evalUrl=function(a){return h.ajax({url:a,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})};h.fn.extend({wrapAll:function(a){if(h.isFunction(a))return this.each(function(b){h(this).wrapAll(a.call(this,b))});if(this[0]){var b=h(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&b.insertBefore(this[0]);b.map(function(){for(var a=this;a.firstChild&&1===a.firstChild.nodeType;)a=a.firstChild;return a}).append(this)}return this},
wrapInner:function(a){return this.each(h.isFunction(a)?function(b){h(this).wrapInner(a.call(this,b))}:function(){var b=h(this),d=b.contents();d.length?d.wrapAll(a):b.append(a)})},wrap:function(a){var b=h.isFunction(a);return this.each(function(d){h(this).wrapAll(b?a.call(this,d):a)})},unwrap:function(){return this.parent().each(function(){h.nodeName(this,"body")||h(this).replaceWith(this.childNodes)}).end()}});h.expr.filters.hidden=function(a){return 0>=a.offsetWidth&&0>=a.offsetHeight||!N.reliableHiddenOffsets()&&
"none"===(a.style&&a.style.display||h.css(a,"display"))};h.expr.filters.visible=function(a){return!h.expr.filters.hidden(a)};var Ia=/%20/g,Jc=/\[\]$/,Ja=/\r?\n/g,Oc=/^(?:submit|button|image|reset|file)$/i,mc=/^(?:input|select|textarea|keygen)/i;h.param=function(a,b){var c,d=[],f=function(a,b){b=h.isFunction(b)?b():null==b?"":b;d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};if(void 0===b&&(b=h.ajaxSettings&&h.ajaxSettings.traditional),h.isArray(a)||a.jquery&&!h.isPlainObject(a))h.each(a,
function(){f(this.name,this.value)});else for(c in a)ra(c,a[c],b,f);return d.join("&").replace(Ia,"+")};h.fn.extend({serialize:function(){return h.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=h.prop(this,"elements");return a?h.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!h(this).is(":disabled")&&mc.test(this.nodeName)&&!Oc.test(a)&&(this.checked||!zc.test(a))}).map(function(a,b){a=h(this).val();return null==a?null:h.isArray(a)?
h.map(a,function(a){return{name:b.name,value:a.replace(Ja,"\r\n")}}):{name:b.name,value:a.replace(Ja,"\r\n")}}).get()}});h.ajaxSettings.xhr=void 0!==a.ActiveXObject?function(){var b;if(!(b=!this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&pa()))a:{try{b=new a.ActiveXObject("Microsoft.XMLHTTP");break a}catch(g){}b=void 0}return b}:pa;var wa=0,sb={},Db=h.ajaxSettings.xhr();a.ActiveXObject&&h(a).on("unload",function(){for(var a in sb)sb[a](void 0,!0)});N.cors=!!Db&&"withCredentials"in
Db;(Db=N.ajax=!!Db)&&h.ajaxTransport(function(a){if(!a.crossDomain||N.cors){var b;return{send:function(c,d){var f,g=a.xhr(),k=++wa;if(g.open(a.type,a.url,a.async,a.username,a.password),a.xhrFields)for(f in a.xhrFields)g[f]=a.xhrFields[f];a.mimeType&&g.overrideMimeType&&g.overrideMimeType(a.mimeType);a.crossDomain||c["X-Requested-With"]||(c["X-Requested-With"]="XMLHttpRequest");for(f in c)void 0!==c[f]&&g.setRequestHeader(f,c[f]+"");g.send(a.hasContent&&a.data||null);b=function(c,f){if(b&&(f||4===
g.readyState))if(delete sb[k],b=void 0,g.onreadystatechange=h.noop,f)4!==g.readyState&&g.abort();else{var q={};var n=g.status;"string"==typeof g.responseText&&(q.text=g.responseText);try{var m=g.statusText}catch(Gc){m=""}n||!a.isLocal||a.crossDomain?1223===n&&(n=204):n=q.text?200:404}q&&d(n,m,q,g.getAllResponseHeaders())};a.async?4===g.readyState?setTimeout(b):g.onreadystatechange=sb[k]=b:b()},abort:function(){b&&b(void 0,!0)}}}});h.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},
contents:{script:/(?:java|ecma)script/},converters:{"text script":function(a){return h.globalEval(a),a}}});h.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1);a.crossDomain&&(a.type="GET",a.global=!1)});h.ajaxTransport("script",function(a){if(a.crossDomain){var b,c=S.head||h("head")[0]||S.documentElement;return{send:function(d,f){b=S.createElement("script");b.async=!0;a.scriptCharset&&(b.charset=a.scriptCharset);b.src=a.url;b.onload=b.onreadystatechange=function(a,c){(c||!b.readyState||
/loaded|complete/.test(b.readyState))&&(b.onload=b.onreadystatechange=null,b.parentNode&&b.parentNode.removeChild(b),b=null,c||f(200,"success"))};c.insertBefore(b,c.firstChild)},abort:function(){b&&b.onload(void 0,!0)}}}});var Wb=[],dc=/(=)\?(?=&|$)|\?\?/;h.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=Wb.pop()||h.expando+"_"+Tb++;return this[a]=!0,a}});h.ajaxPrefilter("json jsonp",function(b,c,f){var d,g,k,q=!1!==b.jsonp&&(dc.test(b.url)?"url":"string"==typeof b.data&&!(b.contentType||
"").indexOf("application/x-www-form-urlencoded")&&dc.test(b.data)&&"data");return q||"jsonp"===b.dataTypes[0]?(d=b.jsonpCallback=h.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,q?b[q]=b[q].replace(dc,"$1"+d):!1!==b.jsonp&&(b.url+=(Ea.test(b.url)?"&":"?")+b.jsonp+"="+d),b.converters["script json"]=function(){return k||h.error(d+" was not called"),k[0]},b.dataTypes[0]="json",g=a[d],a[d]=function(){k=arguments},f.always(function(){a[d]=g;b[d]&&(b.jsonpCallback=c.jsonpCallback,Wb.push(d));
k&&h.isFunction(g)&&g(k[0]);k=g=void 0}),"script"):void 0});h.parseHTML=function(a,b,c){if(!a||"string"!=typeof a)return null;"boolean"==typeof b&&(c=b,b=!1);b=b||S;var d=O.exec(a);c=!c&&[];return d?[b.createElement(d[1])]:(d=h.buildFragment([a],b,c),c&&c.length&&h(c).remove(),h.merge([],d.childNodes))};var nc=h.fn.load;h.fn.load=function(a,b,c){if("string"!=typeof a&&nc)return nc.apply(this,arguments);var d,f,g,k=this,q=a.indexOf(" ");return 0<=q&&(d=h.trim(a.slice(q,a.length)),a=a.slice(0,q)),h.isFunction(b)?
(c=b,b=void 0):b&&"object"==typeof b&&(g="POST"),0<k.length&&h.ajax({url:a,type:g,dataType:"html",data:b}).done(function(a){f=arguments;k.html(d?h("<div>").append(h.parseHTML(a)).find(d):a)}).complete(c&&function(a,b){k.each(c,f||[a.responseText,b,a])}),this};h.expr.filters.animated=function(a){return h.grep(h.timers,function(b){return a===b.elem}).length};var Cb=a.document.documentElement;h.offset={setOffset:function(a,b,c){var d,f,g,k=h.css(a,"position"),q=h(a),n={};"static"===k&&(a.style.position=
"relative");var m=q.offset();var p=h.css(a,"top");var t=h.css(a,"left");("absolute"===k||"fixed"===k)&&-1<h.inArray("auto",[p,t])?(d=q.position(),g=d.top,f=d.left):(g=parseFloat(p)||0,f=parseFloat(t)||0);h.isFunction(b)&&(b=b.call(a,c,m));null!=b.top&&(n.top=b.top-m.top+g);null!=b.left&&(n.left=b.left-m.left+f);"using"in b?b.using.call(a,n):q.css(n)}};h.fn.extend({offset:function(a){if(arguments.length)return void 0===a?this:this.each(function(b){h.offset.setOffset(this,a,b)});var b,c,d={top:0,left:0},
f=this[0],k=f&&f.ownerDocument;if(k)return b=k.documentElement,h.contains(b,f)?("undefined"!==typeof f.getBoundingClientRect&&(d=f.getBoundingClientRect()),c=ka(k),{top:d.top+(c.pageYOffset||b.scrollTop)-(b.clientTop||0),left:d.left+(c.pageXOffset||b.scrollLeft)-(b.clientLeft||0)}):d},position:function(){if(this[0]){var a,b,c={top:0,left:0},f=this[0];return"fixed"===h.css(f,"position")?b=f.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),h.nodeName(a[0],"html")||(c=a.offset()),c.top+=
h.css(a[0],"borderTopWidth",!0),c.left+=h.css(a[0],"borderLeftWidth",!0)),{top:b.top-c.top-h.css(f,"marginTop",!0),left:b.left-c.left-h.css(f,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent||Cb;a&&!h.nodeName(a,"html")&&"static"===h.css(a,"position");)a=a.offsetParent;return a||Cb})}});h.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,b){var c=/Y/.test(b);h.fn[a]=function(d){return za(this,function(a,d,f){var g=ka(a);return void 0===
f?g?b in g?g[b]:g.document.documentElement[d]:a[d]:void(g?g.scrollTo(c?h(g).scrollLeft():f,c?f:h(g).scrollTop()):a[d]=f)},a,d,arguments.length,null)}});h.each(["top","left"],function(a,b){h.cssHooks[b]=oa(N.pixelPosition,function(a,c){return c?(c=ob(a,b),tc.test(c)?h(a).position()[b]+"px":c):void 0})});h.each({Height:"height",Width:"width"},function(a,b){h.each({padding:"inner"+a,content:b,"":"outer"+a},function(c,d){h.fn[d]=function(d,f){var g=arguments.length&&(c||"boolean"!=typeof d),k=c||(!0===
d||!0===f?"margin":"border");return za(this,function(b,c,d){var f;return h.isWindow(b)?b.document.documentElement["client"+a]:9===b.nodeType?(f=b.documentElement,Math.max(b.body["scroll"+a],f["scroll"+a],b.body["offset"+a],f["offset"+a],f["client"+a])):void 0===d?h.css(b,c,k):h.style(b,c,d,k)},b,g?d:void 0,g,null)}})});h.fn.size=function(){return this.length};h.fn.andSelf=h.fn.addBack;"function"==typeof define&&define.amd&&define("jquery",[],function(){return h});var Mb=a.jQuery,oc=a.$;return h.noConflict=
function(b){return a.$===h&&(a.$=oc),b&&a.jQuery===h&&(a.jQuery=Mb),h},"undefined"===typeof m&&(a.jQuery=a.$=h),h});
(function(a,m){"object"===typeof exports&&"undefined"!==typeof module?module.exports=m():"function"===typeof define&&define.amd?define(m):a.moment=m()})(this,function(){function a(){return Od.apply(null,arguments)}function m(a){return a instanceof Array||"[object Array]"===Object.prototype.toString.call(a)}function f(a){return null!=a&&"[object Object]"===Object.prototype.toString.call(a)}function k(a){return void 0===a}function n(a){return"number"===typeof a||"[object Number]"===Object.prototype.toString.call(a)}
function p(a){return a instanceof Date||"[object Date]"===Object.prototype.toString.call(a)}function z(a,b){var c=[],d;for(d=0;d<a.length;++d)c.push(b(a[d],d));return c}function w(a,b){return Object.prototype.hasOwnProperty.call(a,b)}function b(a,b){for(var c in b)w(b,c)&&(a[c]=b[c]);w(b,"toString")&&(a.toString=b.toString);w(b,"valueOf")&&(a.valueOf=b.valueOf);return a}function t(a,b,c,d){return Kb(a,b,c,d,!0).utc()}function x(a){null==a._pf&&(a._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,
charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1});return a._pf}function H(a){if(null==a._isValid){var b=x(a),c=bd.call(b.parsedDateParts,function(a){return null!=a});c=!isNaN(a._d.getTime())&&0>b.overflow&&!b.empty&&!b.invalidMonth&&!b.invalidWeekday&&!b.nullInput&&!b.invalidFormat&&!b.userInvalidated&&(!b.meridiem||b.meridiem&&c);a._strict&&(c=c&&0===b.charsLeftOver&&0===b.unusedTokens.length&&
void 0===b.bigHour);if(null!=Object.isFrozen&&Object.isFrozen(a))return c;a._isValid=c}return a._isValid}function c(a){var c=t(NaN);null!=a?b(x(c),a):x(c).userInvalidated=!0;return c}function F(a,b){var c;k(b._isAMomentObject)||(a._isAMomentObject=b._isAMomentObject);k(b._i)||(a._i=b._i);k(b._f)||(a._f=b._f);k(b._l)||(a._l=b._l);k(b._strict)||(a._strict=b._strict);k(b._tzm)||(a._tzm=b._tzm);k(b._isUTC)||(a._isUTC=b._isUTC);k(b._offset)||(a._offset=b._offset);k(b._pf)||(a._pf=x(b));k(b._locale)||(a._locale=
b._locale);if(0<nd.length)for(c=0;c<nd.length;c++){var d=nd[c];var f=b[d];k(f)||(a[d]=f)}return a}function V(b){F(this,b);this._d=new Date(null!=b._d?b._d.getTime():NaN);this.isValid()||(this._d=new Date(NaN));!1===Zc&&(Zc=!0,a.updateOffset(this),Zc=!1)}function q(a){return a instanceof V||null!=a&&null!=a._isAMomentObject}function U(a){return 0>a?Math.ceil(a)||0:Math.floor(a)}function A(a){a=+a;var b=0;0!==a&&isFinite(a)&&(b=U(a));return b}function ta(a,b,c){var d=Math.min(a.length,b.length),f=Math.abs(a.length-
b.length),B=0,g;for(g=0;g<d;g++)(c&&a[g]!==b[g]||!c&&A(a[g])!==A(b[g]))&&B++;return B+f}function bb(b){!1===a.suppressDeprecationWarnings&&"undefined"!==typeof console&&console.warn&&console.warn("Deprecation warning: "+b)}function fa(c,d){var f=!0;return b(function(){null!=a.deprecationHandler&&a.deprecationHandler(null,c);if(f){for(var b=[],g,B=0;B<arguments.length;B++){g="";if("object"===typeof arguments[B]){g+="\n["+B+"] ";for(var h in arguments[0])g+=h+": "+arguments[0][h]+", ";g=g.slice(0,-2)}else g=
arguments[B];b.push(g)}bb(c+"\nArguments: "+Array.prototype.slice.call(b).join("")+"\n"+Error().stack);f=!1}return d.apply(this,arguments)},d)}function xa(b,c){null!=a.deprecationHandler&&a.deprecationHandler(b,c);Bb[b]||(bb(c),Bb[b]=!0)}function Ca(a){return a instanceof Function||"[object Function]"===Object.prototype.toString.call(a)}function Ma(a,c){var d=b({},a),g;for(g in c)w(c,g)&&(f(a[g])&&f(c[g])?(d[g]={},b(d[g],a[g]),b(d[g],c[g])):null!=c[g]?d[g]=c[g]:delete d[g]);for(g in a)w(a,g)&&!w(c,
g)&&f(a[g])&&(d[g]=b({},d[g]));return d}function Na(a){null!=a&&this.set(a)}function oa(a,b){var c=a.toLowerCase();Cc[c]=Cc[c+"s"]=Cc[b]=a}function J(a){return"string"===typeof a?Cc[a]||Cc[a.toLowerCase()]:void 0}function Oa(a){var b={},c,d;for(d in a)w(a,d)&&(c=J(d))&&(b[c]=a[d]);return b}function G(a){var b=[],c;for(c in a)b.push({unit:c,priority:$a[c]});b.sort(function(a,b){return a.priority-b.priority});return b}function la(b,c){return function(d){if(null!=d){if(this.isValid())this._d["set"+(this._isUTC?
"UTC":"")+b](d);a.updateOffset(this,c);return this}return cb(this,b)}}function cb(a,b){return a.isValid()?a._d["get"+(a._isUTC?"UTC":"")+b]():NaN}function ha(a,b,c){var d=""+Math.abs(a);return(0<=a?c?"+":"":"-")+Math.pow(10,Math.max(0,b-d.length)).toString().substr(1)+d}function aa(a,b,c,d){var f=d;"string"===typeof d&&(f=function(){return this[d]()});a&&(Lb[a]=f);b&&(Lb[b[0]]=function(){return ha(f.apply(this,arguments),b[1],b[2])});c&&(Lb[c]=function(){return this.localeData().ordinal(f.apply(this,
arguments),a)})}function tb(a){return a.match(/\[[\s\S]/)?a.replace(/^\[|\]$/g,""):a.replace(/\\/g,"")}function Ob(a){var b=a.match(uc),c;var d=0;for(c=b.length;d<c;d++)b[d]=Lb[b[d]]?Lb[b[d]]:tb(b[d]);return function(d){var f="",g;for(g=0;g<c;g++)f+=Ca(b[g])?b[g].call(d,a):b[g];return f}}function Zb(a,b){if(!a.isValid())return a.localeData().invalidDate();b=T(b,a.localeData());La[b]=La[b]||Ob(b);return La[b](a)}function T(a,b){function c(a){return b.longDateFormat(a)||a}var d=5;for(vc.lastIndex=0;0<=
d&&vc.test(a);)a=a.replace(vc,c),vc.lastIndex=0,--d;return a}function E(a,b,c){va[a]=Ca(b)?b:function(a,d){return a&&c?c:b}}function ea(a,b){return w(va,a)?va[a](b._strict,b._locale):new RegExp(K(a))}function K(a){return ra(a.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(a,b,c,d,f){return b||c||d||f}))}function ra(a){return a.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function pa(a,b){var c,d=b;"string"===typeof a&&(a=[a]);n(b)&&(d=function(a,c){c[b]=A(a)});for(c=0;c<a.length;c++)xc[a[c]]=
d}function ka(a,b){pa(a,function(a,c,d,f){d._w=d._w||{};b(a,d._w,d,f)})}function Q(a,b){return(new Date(Date.UTC(a,b+1,0))).getUTCDate()}function Va(a,b){if(!a.isValid())return a;if("string"===typeof b)if(/^\d+$/.test(b))b=A(b);else if(b=a.localeData().monthsParse(b),!n(b))return a;var c=Math.min(a.date(),Q(a.year(),b));a._d["set"+(a._isUTC?"UTC":"")+"Month"](b,c);return a}function Hb(b){return null!=b?(Va(this,b),a.updateOffset(this,!0),this):cb(this,"Month")}function Kc(){function a(a,b){return b.length-
a.length}var b=[],c=[],d=[],f;for(f=0;12>f;f++){var g=t([2E3,f]);b.push(this.monthsShort(g,""));c.push(this.months(g,""));d.push(this.months(g,""));d.push(this.monthsShort(g,""))}b.sort(a);c.sort(a);d.sort(a);for(f=0;12>f;f++)b[f]=ra(b[f]),c[f]=ra(c[f]);for(f=0;24>f;f++)d[f]=ra(d[f]);this._monthsShortRegex=this._monthsRegex=new RegExp("^("+d.join("|")+")","i");this._monthsStrictRegex=new RegExp("^("+c.join("|")+")","i");this._monthsShortStrictRegex=new RegExp("^("+b.join("|")+")","i")}function qa(a){return 0===
a%4&&0!==a%100||0===a%400}function Ra(a,b,c,d,f,g,h){b=new Date(a,b,c,d,f,g,h);100>a&&0<=a&&isFinite(b.getFullYear())&&b.setFullYear(a);return b}function lb(a){var b=new Date(Date.UTC.apply(null,arguments));100>a&&0<=a&&isFinite(b.getUTCFullYear())&&b.setUTCFullYear(a);return b}function db(a,b,c){c=7+b-c;return-((7+lb(a,0,c).getUTCDay()-b)%7)+c-1}function N(a,b,c,d,f){c=(7+c-d)%7;d=db(a,d,f);d=1+7*(b-1)+c+d;0>=d?(b=a-1,a=(qa(b)?366:365)+d):d>(qa(a)?366:365)?(b=a+1,a=d-(qa(a)?366:365)):(b=a,a=d);return{year:b,
dayOfYear:a}}function h(a,b,c){var d=db(a.year(),b,c);d=Math.floor((a.dayOfYear()-d-1)/7)+1;1>d?(a=a.year()-1,b=d+Xa(a,b,c)):d>Xa(a.year(),b,c)?(b=d-Xa(a.year(),b,c),a=a.year()+1):(a=a.year(),b=d);return{week:b,year:a}}function Xa(a,b,c){var d=db(a,b,c);b=db(a+1,b,c);return((qa(a)?366:365)-d+b)/7}function $c(a,b,c){var d;a=a.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],d=0;7>d;++d){var f=t([2E3,1]).day(d);this._minWeekdaysParse[d]=
this.weekdaysMin(f,"").toLocaleLowerCase();this._shortWeekdaysParse[d]=this.weekdaysShort(f,"").toLocaleLowerCase();this._weekdaysParse[d]=this.weekdays(f,"").toLocaleLowerCase()}if(c)b="dddd"===b?Ia.call(this._weekdaysParse,a):"ddd"===b?Ia.call(this._shortWeekdaysParse,a):Ia.call(this._minWeekdaysParse,a);else if("dddd"===b){b=Ia.call(this._weekdaysParse,a);if(-1!==b)return b;b=Ia.call(this._shortWeekdaysParse,a);if(-1!==b)return b;b=Ia.call(this._minWeekdaysParse,a)}else if("ddd"===b){b=Ia.call(this._shortWeekdaysParse,
a);if(-1!==b)return b;b=Ia.call(this._weekdaysParse,a);if(-1!==b)return b;b=Ia.call(this._minWeekdaysParse,a)}else{b=Ia.call(this._minWeekdaysParse,a);if(-1!==b)return b;b=Ia.call(this._weekdaysParse,a);if(-1!==b)return b;b=Ia.call(this._shortWeekdaysParse,a)}return-1!==b?b:null}function ad(){function a(a,b){return b.length-a.length}var b=[],c=[],d=[],f=[],g;for(g=0;7>g;g++){var h=t([2E3,1]).day(g);var k=this.weekdaysMin(h,"");var q=this.weekdaysShort(h,"");h=this.weekdays(h,"");b.push(k);c.push(q);
d.push(h);f.push(k);f.push(q);f.push(h)}b.sort(a);c.sort(a);d.sort(a);f.sort(a);for(g=0;7>g;g++)c[g]=ra(c[g]),d[g]=ra(d[g]),f[g]=ra(f[g]);this._weekdaysMinRegex=this._weekdaysShortRegex=this._weekdaysRegex=new RegExp("^("+f.join("|")+")","i");this._weekdaysStrictRegex=new RegExp("^("+d.join("|")+")","i");this._weekdaysShortStrictRegex=new RegExp("^("+c.join("|")+")","i");this._weekdaysMinStrictRegex=new RegExp("^("+b.join("|")+")","i")}function kd(){return this.hours()%12||12}function hb(a,b){aa(a,
0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),b)})}function ac(a,b){return b._meridiemParse}function O(a){return a?a.toLowerCase().replace("_","-"):a}function yb(a){var b=null;if(!wa[a]&&"undefined"!==typeof module&&module&&module.exports)try{b=Db._abbr,require("./locale/"+a),S(b)}catch(ya){}return wa[a]}function S(a,b){a&&(a=k(b)?Za(a):Qa(a,b))&&(Db=a);return Db._abbr}function Qa(a,b){if(null!==b){var c=mc;b.abbr=a;if(null!=wa[a])xa("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),
c=wa[a]._config;else if(null!=b.parentLocale)if(null!=wa[b.parentLocale])c=wa[b.parentLocale]._config;else return sb[b.parentLocale]||(sb[b.parentLocale]=[]),sb[b.parentLocale].push({name:a,config:b}),null;wa[a]=new Na(Ma(c,b));sb[a]&&sb[a].forEach(function(a){Qa(a.name,a.config)});S(a);return wa[a]}delete wa[a];return null}function Za(a){var b;a&&a._locale&&a._locale._abbr&&(a=a._locale._abbr);if(!a)return Db;if(!m(a)){if(b=yb(a))return b;a=[a]}a:{b=0;for(var c,d,f,g;b<a.length;){g=O(a[b]).split("-");
c=g.length;for(d=(d=O(a[b+1]))?d.split("-"):null;0<c;){if(f=yb(g.slice(0,c).join("-"))){a=f;break a}if(d&&d.length>=c&&ta(g,d,!0)>=c-1)break;c--}b++}a=null}return a}function ia(a){var b;(b=a._a)&&-2===x(a).overflow&&(b=0>b[wb]||11<b[wb]?wb:1>b[rb]||b[rb]>Q(b[Ka],b[wb])?rb:0>b[ma]||24<b[ma]||24===b[ma]&&(0!==b[gb]||0!==b[xb]||0!==b[Gb])?ma:0>b[gb]||59<b[gb]?gb:0>b[xb]||59<b[xb]?xb:0>b[Gb]||999<b[Gb]?Gb:-1,x(a)._overflowDayOfYear&&(b<Ka||b>rb)&&(b=rb),x(a)._overflowWeeks&&-1===b&&(b=Fb),x(a)._overflowWeekday&&
-1===b&&(b=Qb),x(a).overflow=b);return a}function sa(a){var b;var c=a._i;var d=Wb.exec(c)||dc.exec(c);if(d){x(a).iso=!0;c=0;for(b=Cb.length;c<b;c++)if(Cb[c][1].exec(d[1])){var f=Cb[c][0];var g=!1!==Cb[c][2];break}if(null==f)a._isValid=!1;else{if(d[3]){c=0;for(b=Mb.length;c<b;c++)if(Mb[c][1].exec(d[3])){var B=(d[2]||" ")+Mb[c][0];break}if(null==B){a._isValid=!1;return}}if(g||null==B){if(d[4])if(nc.exec(d[4]))var h="Z";else{a._isValid=!1;return}a._f=f+(B||"")+(h||"");Jb(a)}else a._isValid=!1}}else a._isValid=
!1}function ib(a){var b={" GMT":" +0000"," EDT":" -0400"," EST":" -0500"," CDT":" -0500"," CST":" -0600"," MDT":" -0600"," MST":" -0700"," PDT":" -0700"," PST":" -0800"};var c=a._i.replace(/\([^\)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s|\s$/g,"");if(c=d.exec(c)){var f=c[1]?"ddd"+(5===c[1].length?", ":" "):"";var g="D MMM "+(10<c[2].length?"YYYY ":"YY ");var B="HH:mm"+(c[4]?":ss":"");if(c[1]){var h="Sun Mon Tue Wed Thu Fri Sat".split(" ")[(new Date(c[2])).getDay()];if(c[1].substr(0,
3)!==h){x(a).weekdayMismatch=!0;a._isValid=!1;return}}switch(c[5].length){case 2:if(0===k)b=" +0000";else{var k="YXWVUTSRQPONZABCDEFGHIKLM".indexOf(c[5][1].toUpperCase())-12;b=(0>k?" -":" +")+(""+k).replace(/^-?/,"0").match(/..$/)[0]+"00"}break;case 4:b=b[c[5]];break;default:b=b[" GMT"]}c[5]=b;a._i=c.splice(1).join("");a._f=f+g+B+" ZZ";Jb(a);x(a).rfc2822=!0}else a._isValid=!1}function yc(b){var c=oc.exec(b._i);null!==c?b._d=new Date(+c[1]):(sa(b),!1===b._isValid&&(delete b._isValid,ib(b),!1===b._isValid&&
(delete b._isValid,a.createFromInputFallback(b))))}function qb(a,b,c){return null!=a?a:null!=b?b:c}function jc(b){var c=[];if(!b._d){var d=new Date(a.now());d=b._useUTC?[d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate()]:[d.getFullYear(),d.getMonth(),d.getDate()];if(b._w&&null==b._a[rb]&&null==b._a[wb]){var f=b._w;if(null!=f.GG||null!=f.W||null!=f.E){var g=1;var B=4;var k=qb(f.GG,b._a[Ka],h(za(),1,4).year);var q=qb(f.W,1);var n=qb(f.E,1);if(1>n||7<n)var m=!0}else if(g=b._locale._week.dow,B=b._locale._week.doy,
q=h(za(),g,B),k=qb(f.gg,b._a[Ka],q.year),q=qb(f.w,q.week),null!=f.d){if(n=f.d,0>n||6<n)m=!0}else if(null!=f.e){if(n=f.e+g,0>f.e||6<f.e)m=!0}else n=g;1>q||q>Xa(k,g,B)?x(b)._overflowWeeks=!0:null!=m?x(b)._overflowWeekday=!0:(m=N(k,q,n,g,B),b._a[Ka]=m.year,b._dayOfYear=m.dayOfYear)}if(null!=b._dayOfYear){m=qb(b._a[Ka],d[Ka]);if(b._dayOfYear>(qa(m)?366:365)||0===b._dayOfYear)x(b)._overflowDayOfYear=!0;m=lb(m,0,b._dayOfYear);b._a[wb]=m.getUTCMonth();b._a[rb]=m.getUTCDate()}for(m=0;3>m&&null==b._a[m];++m)b._a[m]=
c[m]=d[m];for(;7>m;m++)b._a[m]=c[m]=null==b._a[m]?2===m?1:0:b._a[m];24===b._a[ma]&&0===b._a[gb]&&0===b._a[xb]&&0===b._a[Gb]&&(b._nextDay=!0,b._a[ma]=0);b._d=(b._useUTC?lb:Ra).apply(null,c);null!=b._tzm&&b._d.setUTCMinutes(b._d.getUTCMinutes()-b._tzm);b._nextDay&&(b._a[ma]=24)}}function Jb(b){if(b._f===a.ISO_8601)sa(b);else if(b._f===a.RFC_2822)ib(b);else{b._a=[];x(b).empty=!0;var c=""+b._i,d,f,g=c.length,h=0;var B=T(b._f,b._locale).match(uc)||[];for(d=0;d<B.length;d++){var k=B[d];if(f=(c.match(ea(k,
b))||[])[0]){var q=c.substr(0,c.indexOf(f));0<q.length&&x(b).unusedInput.push(q);c=c.slice(c.indexOf(f)+f.length);h+=f.length}if(Lb[k]){if(f?x(b).empty=!1:x(b).unusedTokens.push(k),q=b,null!=f&&w(xc,k))xc[k](f,q._a,q,k)}else b._strict&&!f&&x(b).unusedTokens.push(k)}x(b).charsLeftOver=g-h;0<c.length&&x(b).unusedInput.push(c);12>=b._a[ma]&&!0===x(b).bigHour&&0<b._a[ma]&&(x(b).bigHour=void 0);x(b).parsedDateParts=b._a.slice(0);x(b).meridiem=b._meridiem;c=b._a;d=ma;g=b._locale;B=b._a[ma];h=b._meridiem;
null!=h&&(null!=g.meridiemHour?B=g.meridiemHour(B,h):null!=g.isPM&&((g=g.isPM(h))&&12>B&&(B+=12),g||12!==B||(B=0)));c[d]=B;jc(b);ia(b)}}function Lc(a){if(!a._d){var b=Oa(a._i);a._a=z([b.year,b.month,b.day||b.date,b.hour,b.minute,b.second,b.millisecond],function(a){return a&&parseInt(a,10)});jc(a)}}function zb(a){var d=a._i,f=a._f;a._locale=a._locale||Za(a._l);if(null===d||void 0===f&&""===d)return c({nullInput:!0});"string"===typeof d&&(a._i=d=a._locale.preparse(d));if(q(d))return new V(ia(d));if(p(d))a._d=
d;else if(m(f))if(0===a._f.length)x(a).invalidFormat=!0,a._d=new Date(NaN);else{for(d=0;d<a._f.length;d++){f=0;var g=F({},a);null!=a._useUTC&&(g._useUTC=a._useUTC);g._f=a._f[d];Jb(g);if(H(g)&&(f+=x(g).charsLeftOver,f+=10*x(g).unusedTokens.length,x(g).score=f,null==h||f<h)){var h=f;var B=g}}b(a,B||g)}else f?Jb(a):W(a);H(a)||(a._d=null);return a}function W(b){var c=b._i;k(c)?b._d=new Date(a.now()):p(c)?b._d=new Date(c.valueOf()):"string"===typeof c?yc(b):m(c)?(b._a=z(c.slice(0),function(a){return parseInt(a,
10)}),jc(b)):f(c)?Lc(b):n(c)?b._d=new Date(c):a.createFromInputFallback(b)}function Kb(a,b,c,d,g){var h={};if(!0===c||!1===c)d=c,c=void 0;var B;if(B=f(a))a:{B=a;for(var k in B){B=!1;break a}B=!0}if(B||m(a)&&0===a.length)a=void 0;h._isAMomentObject=!0;h._useUTC=h._isUTC=g;h._l=c;h._i=a;h._f=b;h._strict=d;a=new V(ia(zb(h)));a._nextDay&&(a.add(1,"d"),a._nextDay=void 0);return a}function za(a,b,c,d){return Kb(a,b,c,d,!1)}function zc(a,b){var c;1===b.length&&m(b[0])&&(b=b[0]);if(!b.length)return za();
var d=b[0];for(c=1;c<b.length;++c)if(!b[c].isValid()||b[c][a](d))d=b[c];return d}function ca(a){for(var b in a)if(-1===R.indexOf(b)||null!=a[b]&&isNaN(a[b]))return!1;b=!1;for(var c=0;c<R.length;++c)if(a[R[c]]){if(b)return!1;parseFloat(a[R[c]])!==A(a[R[c]])&&(b=!0)}return!0}function Rb(a){a=Oa(a);var b=a.year||0,c=a.quarter||0,d=a.month||0,f=a.week||0,g=a.day||0,h=a.hour||0,B=a.minute||0,k=a.second||0,q=a.millisecond||0;this._isValid=ca(a);this._milliseconds=+q+1E3*k+6E4*B+36E5*h;this._days=+g+7*f;
this._months=+d+3*c+12*b;this._data={};this._locale=Za();this._bubble()}function Sb(a){return a instanceof Rb}function bc(a){return 0>a?-1*Math.round(-1*a):Math.round(a)}function Ib(a,b){aa(a,0,0,function(){var a=this.utcOffset(),c="+";0>a&&(a=-a,c="-");return c+ha(~~(a/60),2)+b+ha(~~a%60,2)})}function mb(a,b){a=(b||"").match(a);if(null===a)return null;a=((a[a.length-1]||[])+"").match(Y)||["-",0,0];b=+(60*a[1])+A(a[2]);return 0===b?0:"+"===a[0]?b:-b}function Ub(b,c){return c._isUTC?(c=c.clone(),b=
(q(b)||p(b)?b.valueOf():za(b).valueOf())-c.valueOf(),c._d.setTime(c._d.valueOf()+b),a.updateOffset(c,!1),c):za(b).local()}function cc(){return this.isValid()?this._isUTC&&0===this._offset:!1}function Sa(a,b){var c=a;Sb(a)?c={ms:a._milliseconds,d:a._days,M:a._months}:n(a)?(c={},b?c[b]=a:c.milliseconds=a):(b=Ua.exec(a))?(c="-"===b[1]?-1:1,c={y:0,d:A(b[rb])*c,h:A(b[ma])*c,m:A(b[gb])*c,s:A(b[xb])*c,ms:A(bc(1E3*b[Gb]))*c}):(b=Pc.exec(a))?(c="-"===b[1]?-1:1,c={y:Ga(b[2],c),M:Ga(b[3],c),w:Ga(b[4],c),d:Ga(b[5],
c),h:Ga(b[6],c),m:Ga(b[7],c),s:Ga(b[8],c)}):null==c?c={}:"object"===typeof c&&("from"in c||"to"in c)&&(b=za(c.from),c=za(c.to),b.isValid()&&c.isValid()?(c=Ub(c,b),b.isBefore(c)?c=$b(b,c):(c=$b(c,b),c.milliseconds=-c.milliseconds,c.months=-c.months),b=c):b={milliseconds:0,months:0},c={},c.ms=b.milliseconds,c.M=b.months);c=new Rb(c);Sb(a)&&w(a,"_locale")&&(c._locale=a._locale);return c}function Ga(a,b){a=a&&parseFloat(a.replace(",","."));return(isNaN(a)?0:a)*b}function $b(a,b){var c={milliseconds:0,
months:0};c.months=b.month()-a.month()+12*(b.year()-a.year());a.clone().add(c.months,"M").isAfter(b)&&--c.months;c.milliseconds=+b-+a.clone().add(c.months,"M");return c}function md(a,b){return function(c,d){if(null!==d&&!isNaN(+d)){xa(b,"moment()."+b+"(period, number) is deprecated. Please use moment()."+b+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info.");var f=c;c=d;d=f}c=Sa("string"===typeof c?+c:c,d);wd(this,c,a);return this}}function wd(b,c,d,f){var g=
c._milliseconds,h=bc(c._days);c=bc(c._months);if(b.isValid()){f=null==f?!0:f;g&&b._d.setTime(b._d.valueOf()+g*d);if(h&&(g=cb(b,"Date")+h*d,b.isValid()))b._d["set"+(b._isUTC?"UTC":"")+"Date"](g);c&&Va(b,cb(b,"Month")+c*d);f&&a.updateOffset(b,h||c)}}function Eb(a){if(void 0===a)return this._locale._abbr;a=Za(a);null!=a&&(this._locale=a);return this}function zd(){return this._locale}function Mc(a,b){aa(0,[a,a.length],0,b)}function Ad(a,b,c,d,f){if(null==a)return h(this,d,f).year;var g=Xa(a,d,f);b>g&&
(b=g);a=N(a,b,c,d,f);a=lb(a.year,0,a.dayOfYear);this.year(a.getUTCFullYear());this.month(a.getUTCMonth());this.date(a.getUTCDate());return this}function Bd(a,b){b[Gb]=A(1E3*("0."+a))}function eb(a){return a}function Ac(a,b,c,d){var f=Za();b=t().set(d,b);return f[c](b,a)}function Ic(a,b,c){n(a)&&(b=a,a=void 0);a=a||"";if(null!=b)return Ac(a,b,c,"month");var d=[];for(b=0;12>b;b++)d[b]=Ac(a,b,c,"month");return d}function Yc(a,b,c,d){"boolean"!==typeof a&&(c=b=a,a=!1);n(b)&&(c=b,b=void 0);b=b||"";var f=
Za();a=a?f._week.dow:0;if(null!=c)return Ac(b,(c+a)%7,d,"day");f=[];for(c=0;7>c;c++)f[c]=Ac(b,(c+a)%7,d,"day");return f}function hc(a,b,c,d){b=Sa(b,c);a._milliseconds+=d*b._milliseconds;a._days+=d*b._days;a._months+=d*b._months;return a._bubble()}function tc(a){return 0>a?Math.floor(a):Math.ceil(a)}function nb(a){return function(){return this.as(a)}}function ob(a){return function(){return this.isValid()?this._data[a]:NaN}}function td(a,b,c,d,f){return f.relativeTime(b||1,!!c,a,d)}function Bc(){if(!this.isValid())return this.localeData().invalidDate();
var a=ud(this._milliseconds)/1E3,b=ud(this._days),c=ud(this._months);var d=U(a/60);var f=U(d/60);a%=60;d%=60;var g=U(c/12);c%=12;var h=this.asSeconds();return h?(0>h?"-":"")+"P"+(g?g+"Y":"")+(c?c+"M":"")+(b?b+"D":"")+(f||d||a?"T":"")+(f?f+"H":"")+(d?d+"M":"")+(a?a+"S":""):"P0D"}var bd=Array.prototype.some?Array.prototype.some:function(a){for(var b=Object(this),c=b.length>>>0,d=0;d<c;d++)if(d in b&&a.call(this,b[d],d,b))return!0;return!1},nd=a.momentProperties=[],Zc=!1,Bb={};a.suppressDeprecationWarnings=
!1;a.deprecationHandler=null;var Cd=Object.keys?Object.keys:function(a){var b,c=[];for(b in a)w(a,b)&&c.push(b);return c},Cc={},$a={},uc=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,vc=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,La={},Lb={},xd=/\d/,jb=/\d\d/,lc=/\d{3}/,Nc=/\d{4}/,ub=/[+-]?\d{6}/,ua=/\d\d?/,wc=/\d\d\d\d?/,Pb=/\d\d\d\d\d\d?/,vb=/\d{1,3}/,Dc=/\d{1,4}/,
pb=/[+-]?\d{1,6}/,kc=/\d+/,Vb=/[+-]?\d+/,Tb=/Z|[+-]\d\d:?\d\d/gi,Ea=/Z|[+-]\d\d(?::?\d\d)?/gi,kb=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,va={},xc={},Ka=0,wb=1,rb=2,ma=3,gb=4,xb=5,Gb=6,Fb=7,Qb=8,Ia=Array.prototype.indexOf?Array.prototype.indexOf:function(a){var b;for(b=0;b<this.length;++b)if(this[b]===a)return b;return-1};aa("M",["MM",2],"Mo",function(){return this.month()+1});aa("MMM",0,0,function(a){return this.localeData().monthsShort(this,
a)});aa("MMMM",0,0,function(a){return this.localeData().months(this,a)});oa("month","M");$a.month=8;E("M",ua);E("MM",ua,jb);E("MMM",function(a,b){return b.monthsShortRegex(a)});E("MMMM",function(a,b){return b.monthsRegex(a)});pa(["M","MM"],function(a,b){b[wb]=A(a)-1});pa(["MMM","MMMM"],function(a,b,c,d){d=c._locale.monthsParse(a,d,c._strict);null!=d?b[wb]=d:x(c).invalidMonth=a});var Jc=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/;aa("Y",0,0,function(){var a=this.year();return 9999>=a?""+a:"+"+a});aa(0,["YY",2],
0,function(){return this.year()%100});aa(0,["YYYY",4],0,"year");aa(0,["YYYYY",5],0,"year");aa(0,["YYYYYY",6,!0],0,"year");oa("year","y");$a.year=1;E("Y",Vb);E("YY",ua,jb);E("YYYY",Dc,Nc);E("YYYYY",pb,ub);E("YYYYYY",pb,ub);pa(["YYYYY","YYYYYY"],Ka);pa("YYYY",function(b,c){c[Ka]=2===b.length?a.parseTwoDigitYear(b):A(b)});pa("YY",function(b,c){c[Ka]=a.parseTwoDigitYear(b)});pa("Y",function(a,b){b[Ka]=parseInt(a,10)});a.parseTwoDigitYear=function(a){return A(a)+(68<A(a)?1900:2E3)};var Ja=la("FullYear",
!0);aa("w",["ww",2],"wo","week");aa("W",["WW",2],"Wo","isoWeek");oa("week","w");oa("isoWeek","W");$a.week=5;$a.isoWeek=5;E("w",ua);E("ww",ua,jb);E("W",ua);E("WW",ua,jb);ka(["w","ww","W","WW"],function(a,b,c,d){b[d.substr(0,1)]=A(a)});aa("d",0,"do","day");aa("dd",0,0,function(a){return this.localeData().weekdaysMin(this,a)});aa("ddd",0,0,function(a){return this.localeData().weekdaysShort(this,a)});aa("dddd",0,0,function(a){return this.localeData().weekdays(this,a)});aa("e",0,0,"weekday");aa("E",0,
0,"isoWeekday");oa("day","d");oa("weekday","e");oa("isoWeekday","E");$a.day=11;$a.weekday=11;$a.isoWeekday=11;E("d",ua);E("e",ua);E("E",ua);E("dd",function(a,b){return b.weekdaysMinRegex(a)});E("ddd",function(a,b){return b.weekdaysShortRegex(a)});E("dddd",function(a,b){return b.weekdaysRegex(a)});ka(["dd","ddd","dddd"],function(a,b,c,d){d=c._locale.weekdaysParse(a,d,c._strict);null!=d?b.d=d:x(c).invalidWeekday=a});ka(["d","e","E"],function(a,b,c,d){b[d]=A(a)});aa("H",["HH",2],0,"hour");aa("h",["hh",
2],0,kd);aa("k",["kk",2],0,function(){return this.hours()||24});aa("hmm",0,0,function(){return""+kd.apply(this)+ha(this.minutes(),2)});aa("hmmss",0,0,function(){return""+kd.apply(this)+ha(this.minutes(),2)+ha(this.seconds(),2)});aa("Hmm",0,0,function(){return""+this.hours()+ha(this.minutes(),2)});aa("Hmmss",0,0,function(){return""+this.hours()+ha(this.minutes(),2)+ha(this.seconds(),2)});hb("a",!0);hb("A",!1);oa("hour","h");$a.hour=13;E("a",ac);E("A",ac);E("H",ua);E("h",ua);E("k",ua);E("HH",ua,jb);
E("hh",ua,jb);E("kk",ua,jb);E("hmm",wc);E("hmmss",Pb);E("Hmm",wc);E("Hmmss",Pb);pa(["H","HH"],ma);pa(["k","kk"],function(a,b,c){a=A(a);b[ma]=24===a?0:a});pa(["a","A"],function(a,b,c){c._isPm=c._locale.isPM(a);c._meridiem=a});pa(["h","hh"],function(a,b,c){b[ma]=A(a);x(c).bigHour=!0});pa("hmm",function(a,b,c){var d=a.length-2;b[ma]=A(a.substr(0,d));b[gb]=A(a.substr(d));x(c).bigHour=!0});pa("hmmss",function(a,b,c){var d=a.length-4,f=a.length-2;b[ma]=A(a.substr(0,d));b[gb]=A(a.substr(d,2));b[xb]=A(a.substr(f));
x(c).bigHour=!0});pa("Hmm",function(a,b,c){c=a.length-2;b[ma]=A(a.substr(0,c));b[gb]=A(a.substr(c))});pa("Hmmss",function(a,b,c){c=a.length-4;var d=a.length-2;b[ma]=A(a.substr(0,c));b[gb]=A(a.substr(c,2));b[xb]=A(a.substr(d))});var Oc=la("Hours",!0),mc={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",
LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:"January February March April May June July August September October November December".split(" "),monthsShort:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),week:{dow:0,
doy:6},weekdays:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),weekdaysMin:"Su Mo Tu We Th Fr Sa".split(" "),weekdaysShort:"Sun Mon Tue Wed Thu Fri Sat".split(" "),meridiemParse:/[ap]\.?m?\.?/i},wa={},sb={},Db,Wb=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,dc=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,
nc=/Z|[+-]\d\d(?::?\d\d)?/,Cb=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],Mb=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",
/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],oc=/^\/?Date\((\-?\d+)/i,d=/^((?:Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d?\d\s(?:Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(?:\d\d)?\d\d\s)(\d\d:\d\d)(\:\d\d)?(\s(?:UT|GMT|[ECMP][SD]T|[A-IK-Za-ik-z]|[+-]\d{4}))$/;a.createFromInputFallback=fa("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",
function(a){a._d=new Date(a._i+(a._useUTC?" UTC":""))});a.ISO_8601=function(){};a.RFC_2822=function(){};var g=fa("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var a=za.apply(null,arguments);return this.isValid()&&a.isValid()?a<this?this:a:c()}),u=fa("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var a=za.apply(null,arguments);return this.isValid()&&a.isValid()?a>this?
this:a:c()}),R="year quarter month week day hour minute second millisecond".split(" ");Ib("Z",":");Ib("ZZ","");E("Z",Ea);E("ZZ",Ea);pa(["Z","ZZ"],function(a,b,c){c._useUTC=!0;c._tzm=mb(Ea,a)});var Y=/([\+\-]|\d\d)/gi;a.updateOffset=function(){};var Ua=/^(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,Pc=/^(-)?P(?:(-?[0-9,.]*)Y)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)W)?(?:(-?[0-9,.]*)D)?(?:T(?:(-?[0-9,.]*)H)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)S)?)?$/;Sa.fn=Rb.prototype;Sa.invalid=function(){return Sa(NaN)};
var od=md(1,"add"),Qc=md(-1,"subtract");a.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";a.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var Rc=fa("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(a){return void 0===a?this.localeData():this.locale(a)});aa(0,["gg",2],0,function(){return this.weekYear()%100});aa(0,["GG",2],0,function(){return this.isoWeekYear()%100});Mc("gggg","weekYear");Mc("ggggg","weekYear");
Mc("GGGG","isoWeekYear");Mc("GGGGG","isoWeekYear");oa("weekYear","gg");oa("isoWeekYear","GG");$a.weekYear=1;$a.isoWeekYear=1;E("G",Vb);E("g",Vb);E("GG",ua,jb);E("gg",ua,jb);E("GGGG",Dc,Nc);E("gggg",Dc,Nc);E("GGGGG",pb,ub);E("ggggg",pb,ub);ka(["gggg","ggggg","GGGG","GGGGG"],function(a,b,c,d){b[d.substr(0,2)]=A(a)});ka(["gg","GG"],function(b,c,d,f){c[f]=a.parseTwoDigitYear(b)});aa("Q",0,"Qo","quarter");oa("quarter","Q");$a.quarter=7;E("Q",xd);pa("Q",function(a,b){b[wb]=3*(A(a)-1)});aa("D",["DD",2],
"Do","date");oa("date","D");$a.date=9;E("D",ua);E("DD",ua,jb);E("Do",function(a,b){return a?b._dayOfMonthOrdinalParse||b._ordinalParse:b._dayOfMonthOrdinalParseLenient});pa(["D","DD"],rb);pa("Do",function(a,b){b[rb]=A(a.match(ua)[0],10)});var Sc=la("Date",!0);aa("DDD",["DDDD",3],"DDDo","dayOfYear");oa("dayOfYear","DDD");$a.dayOfYear=4;E("DDD",vb);E("DDDD",lc);pa(["DDD","DDDD"],function(a,b,c){c._dayOfYear=A(a)});aa("m",["mm",2],0,"minute");oa("minute","m");$a.minute=14;E("m",ua);E("mm",ua,jb);pa(["m",
"mm"],gb);var cd=la("Minutes",!1);aa("s",["ss",2],0,"second");oa("second","s");$a.second=15;E("s",ua);E("ss",ua,jb);pa(["s","ss"],xb);var Gc=la("Seconds",!1);aa("S",0,0,function(){return~~(this.millisecond()/100)});aa(0,["SS",2],0,function(){return~~(this.millisecond()/10)});aa(0,["SSS",3],0,"millisecond");aa(0,["SSSS",4],0,function(){return 10*this.millisecond()});aa(0,["SSSSS",5],0,function(){return 100*this.millisecond()});aa(0,["SSSSSS",6],0,function(){return 1E3*this.millisecond()});aa(0,["SSSSSSS",
7],0,function(){return 1E4*this.millisecond()});aa(0,["SSSSSSSS",8],0,function(){return 1E5*this.millisecond()});aa(0,["SSSSSSSSS",9],0,function(){return 1E6*this.millisecond()});oa("millisecond","ms");$a.millisecond=16;E("S",vb,xd);E("SS",vb,jb);E("SSS",vb,lc);var Ab;for(Ab="SSSS";9>=Ab.length;Ab+="S")E(Ab,kc);for(Ab="S";9>=Ab.length;Ab+="S")pa(Ab,Bd);var Tc=la("Milliseconds",!1);aa("z",0,0,"zoneAbbr");aa("zz",0,0,"zoneName");var L=V.prototype;L.add=od;L.calendar=function(b,c){b=b||za();var d=Ub(b,
this).startOf("day");d=a.calendarFormat(this,d)||"sameElse";c=c&&(Ca(c[d])?c[d].call(this,b):c[d]);return this.format(c||this.localeData().calendar(d,this,za(b)))};L.clone=function(){return new V(this)};L.diff=function(a,b,c){if(!this.isValid())return NaN;a=Ub(a,this);if(!a.isValid())return NaN;var d=6E4*(a.utcOffset()-this.utcOffset());b=J(b);if("year"===b||"month"===b||"quarter"===b){d=12*(a.year()-this.year())+(a.month()-this.month());var f=this.clone().add(d,"months");if(0>a-f){var g=this.clone().add(d-
1,"months");a=(a-f)/(f-g)}else g=this.clone().add(d+1,"months"),a=(a-f)/(g-f);a=-(d+a)||0;"quarter"===b?a/=3:"year"===b&&(a/=12)}else a=this-a,a="second"===b?a/1E3:"minute"===b?a/6E4:"hour"===b?a/36E5:"day"===b?(a-d)/864E5:"week"===b?(a-d)/6048E5:a;return c?a:U(a)};L.endOf=function(a){a=J(a);if(void 0===a||"millisecond"===a)return this;"date"===a&&(a="day");return this.startOf(a).add(1,"isoWeek"===a?"week":a).subtract(1,"ms")};L.format=function(b){b||(b=this.isUtc()?a.defaultFormatUtc:a.defaultFormat);
b=Zb(this,b);return this.localeData().postformat(b)};L.from=function(a,b){return this.isValid()&&(q(a)&&a.isValid()||za(a).isValid())?Sa({to:this,from:a}).locale(this.locale()).humanize(!b):this.localeData().invalidDate()};L.fromNow=function(a){return this.from(za(),a)};L.to=function(a,b){return this.isValid()&&(q(a)&&a.isValid()||za(a).isValid())?Sa({from:this,to:a}).locale(this.locale()).humanize(!b):this.localeData().invalidDate()};L.toNow=function(a){return this.to(za(),a)};L.get=function(a){a=
J(a);return Ca(this[a])?this[a]():this};L.invalidAt=function(){return x(this).overflow};L.isAfter=function(a,b){a=q(a)?a:za(a);if(!this.isValid()||!a.isValid())return!1;b=J(k(b)?"millisecond":b);return"millisecond"===b?this.valueOf()>a.valueOf():a.valueOf()<this.clone().startOf(b).valueOf()};L.isBefore=function(a,b){a=q(a)?a:za(a);if(!this.isValid()||!a.isValid())return!1;b=J(k(b)?"millisecond":b);return"millisecond"===b?this.valueOf()<a.valueOf():this.clone().endOf(b).valueOf()<a.valueOf()};L.isBetween=
function(a,b,c,d){d=d||"()";return("("===d[0]?this.isAfter(a,c):!this.isBefore(a,c))&&(")"===d[1]?this.isBefore(b,c):!this.isAfter(b,c))};L.isSame=function(a,b){a=q(a)?a:za(a);if(!this.isValid()||!a.isValid())return!1;b=J(b||"millisecond");if("millisecond"===b)return this.valueOf()===a.valueOf();a=a.valueOf();return this.clone().startOf(b).valueOf()<=a&&a<=this.clone().endOf(b).valueOf()};L.isSameOrAfter=function(a,b){return this.isSame(a,b)||this.isAfter(a,b)};L.isSameOrBefore=function(a,b){return this.isSame(a,
b)||this.isBefore(a,b)};L.isValid=function(){return H(this)};L.lang=Rc;L.locale=Eb;L.localeData=zd;L.max=u;L.min=g;L.parsingFlags=function(){return b({},x(this))};L.set=function(a,b){if("object"===typeof a){a=Oa(a);b=G(a);for(var c=0;c<b.length;c++)this[b[c].unit](a[b[c].unit])}else if(a=J(a),Ca(this[a]))return this[a](b);return this};L.startOf=function(a){a=J(a);switch(a){case "year":this.month(0);case "quarter":case "month":this.date(1);case "week":case "isoWeek":case "day":case "date":this.hours(0);
case "hour":this.minutes(0);case "minute":this.seconds(0);case "second":this.milliseconds(0)}"week"===a&&this.weekday(0);"isoWeek"===a&&this.isoWeekday(1);"quarter"===a&&this.month(3*Math.floor(this.month()/3));return this};L.subtract=Qc;L.toArray=function(){return[this.year(),this.month(),this.date(),this.hour(),this.minute(),this.second(),this.millisecond()]};L.toObject=function(){return{years:this.year(),months:this.month(),date:this.date(),hours:this.hours(),minutes:this.minutes(),seconds:this.seconds(),
milliseconds:this.milliseconds()}};L.toDate=function(){return new Date(this.valueOf())};L.toISOString=function(){if(!this.isValid())return null;var a=this.clone().utc();return 0>a.year()||9999<a.year()?Zb(a,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):Ca(Date.prototype.toISOString)?this.toDate().toISOString():Zb(a,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")};L.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var a="moment",b="";this.isLocal()||(a=0===this.utcOffset()?"moment.utc":"moment.parseZone",
b="Z");a="["+a+'("]';var c=0<=this.year()&&9999>=this.year()?"YYYY":"YYYYYY";return this.format(a+c+"-MM-DD[T]HH:mm:ss.SSS"+(b+'[")]'))};L.toJSON=function(){return this.isValid()?this.toISOString():null};L.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")};L.unix=function(){return Math.floor(this.valueOf()/1E3)};L.valueOf=function(){return this._d.valueOf()-6E4*(this._offset||0)};L.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,
isUTC:this._isUTC,strict:this._strict}};L.year=Ja;L.isLeapYear=function(){return qa(this.year())};L.weekYear=function(a){return Ad.call(this,a,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)};L.isoWeekYear=function(a){return Ad.call(this,a,this.isoWeek(),this.isoWeekday(),1,4)};L.quarter=L.quarters=function(a){return null==a?Math.ceil((this.month()+1)/3):this.month(3*(a-1)+this.month()%3)};L.month=Hb;L.daysInMonth=function(){return Q(this.year(),this.month())};
L.week=L.weeks=function(a){var b=this.localeData().week(this);return null==a?b:this.add(7*(a-b),"d")};L.isoWeek=L.isoWeeks=function(a){var b=h(this,1,4).week;return null==a?b:this.add(7*(a-b),"d")};L.weeksInYear=function(){var a=this.localeData()._week;return Xa(this.year(),a.dow,a.doy)};L.isoWeeksInYear=function(){return Xa(this.year(),1,4)};L.date=Sc;L.day=L.days=function(a){if(!this.isValid())return null!=a?this:NaN;var b=this._isUTC?this._d.getUTCDay():this._d.getDay();if(null!=a){var c=this.localeData();
"string"===typeof a&&(isNaN(a)?(a=c.weekdaysParse(a),a="number"===typeof a?a:null):a=parseInt(a,10));return this.add(a-b,"d")}return b};L.weekday=function(a){if(!this.isValid())return null!=a?this:NaN;var b=(this.day()+7-this.localeData()._week.dow)%7;return null==a?b:this.add(a-b,"d")};L.isoWeekday=function(a){if(!this.isValid())return null!=a?this:NaN;if(null!=a){var b=this.localeData();a="string"===typeof a?b.weekdaysParse(a)%7||7:isNaN(a)?null:a;return this.day(this.day()%7?a:a-7)}return this.day()||
7};L.dayOfYear=function(a){var b=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864E5)+1;return null==a?b:this.add(a-b,"d")};L.hour=L.hours=Oc;L.minute=L.minutes=cd;L.second=L.seconds=Gc;L.millisecond=L.milliseconds=Tc;L.utcOffset=function(b,c,d){var f=this._offset||0,g;if(!this.isValid())return null!=b?this:NaN;if(null!=b){if("string"===typeof b){if(b=mb(Ea,b),null===b)return this}else 16>Math.abs(b)&&!d&&(b*=60);!this._isUTC&&c&&(g=15*-Math.round(this._d.getTimezoneOffset()/
15));this._offset=b;this._isUTC=!0;null!=g&&this.add(g,"m");f!==b&&(!c||this._changeInProgress?wd(this,Sa(b-f,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,a.updateOffset(this,!0),this._changeInProgress=null));return this}return this._isUTC?f:15*-Math.round(this._d.getTimezoneOffset()/15)};L.utc=function(a){return this.utcOffset(0,a)};L.local=function(a){this._isUTC&&(this.utcOffset(0,a),this._isUTC=!1,a&&this.subtract(15*-Math.round(this._d.getTimezoneOffset()/15),"m"));return this};
L.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"===typeof this._i){var a=mb(Tb,this._i);null!=a?this.utcOffset(a):this.utcOffset(0,!0)}return this};L.hasAlignedHourOffset=function(a){if(!this.isValid())return!1;a=a?za(a).utcOffset():0;return 0===(this.utcOffset()-a)%60};L.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()};L.isLocal=function(){return this.isValid()?!this._isUTC:!1};
L.isUtcOffset=function(){return this.isValid()?this._isUTC:!1};L.isUtc=cc;L.isUTC=cc;L.zoneAbbr=function(){return this._isUTC?"UTC":""};L.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""};L.dates=fa("dates accessor is deprecated. Use date instead.",Sc);L.months=fa("months accessor is deprecated. Use month instead",Hb);L.years=fa("years accessor is deprecated. Use year instead",Ja);L.zone=fa("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",
function(a,b){return null!=a?("string"!==typeof a&&(a=-a),this.utcOffset(a,b),this):-this.utcOffset()});L.isDSTShifted=fa("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",function(){if(!k(this._isDSTShifted))return this._isDSTShifted;var a={};F(a,this);a=zb(a);if(a._a){var b=a._isUTC?t(a._a):za(a._a);this._isDSTShifted=this.isValid()&&0<ta(a._a,b.toArray())}else this._isDSTShifted=!1;return this._isDSTShifted});var Ba=Na.prototype;Ba.calendar=
function(a,b,c){a=this._calendar[a]||this._calendar.sameElse;return Ca(a)?a.call(b,c):a};Ba.longDateFormat=function(a){var b=this._longDateFormat[a],c=this._longDateFormat[a.toUpperCase()];if(b||!c)return b;this._longDateFormat[a]=c.replace(/MMMM|MM|DD|dddd/g,function(a){return a.slice(1)});return this._longDateFormat[a]};Ba.invalidDate=function(){return this._invalidDate};Ba.ordinal=function(a){return this._ordinal.replace("%d",a)};Ba.preparse=eb;Ba.postformat=eb;Ba.relativeTime=function(a,b,c,d){var f=
this._relativeTime[c];return Ca(f)?f(a,b,c,d):f.replace(/%d/i,a)};Ba.pastFuture=function(a,b){a=this._relativeTime[0<a?"future":"past"];return Ca(a)?a(b):a.replace(/%s/i,b)};Ba.set=function(a){var b;for(b in a){var c=a[b];Ca(c)?this[b]=c:this["_"+b]=c}this._config=a;this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)};Ba.months=function(a,b){return a?m(this._months)?this._months[a.month()]:this._months[(this._months.isFormat||
Jc).test(b)?"format":"standalone"][a.month()]:m(this._months)?this._months:this._months.standalone};Ba.monthsShort=function(a,b){return a?m(this._monthsShort)?this._monthsShort[a.month()]:this._monthsShort[Jc.test(b)?"format":"standalone"][a.month()]:m(this._monthsShort)?this._monthsShort:this._monthsShort.standalone};Ba.monthsParse=function(a,b,c){var d;if(this._monthsParseExact){a:{a=a.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=
[],d=0;12>d;++d){var f=t([2E3,d]);this._shortMonthsParse[d]=this.monthsShort(f,"").toLocaleLowerCase();this._longMonthsParse[d]=this.months(f,"").toLocaleLowerCase()}if(c)b="MMM"===b?Ia.call(this._shortMonthsParse,a):Ia.call(this._longMonthsParse,a);else if("MMM"===b){b=Ia.call(this._shortMonthsParse,a);if(-1!==b)break a;b=Ia.call(this._longMonthsParse,a)}else{b=Ia.call(this._longMonthsParse,a);if(-1!==b)break a;b=Ia.call(this._shortMonthsParse,a)}b=-1!==b?b:null}return b}this._monthsParse||(this._monthsParse=
[],this._longMonthsParse=[],this._shortMonthsParse=[]);for(d=0;12>d;d++)if(f=t([2E3,d]),c&&!this._longMonthsParse[d]&&(this._longMonthsParse[d]=new RegExp("^"+this.months(f,"").replace(".","")+"$","i"),this._shortMonthsParse[d]=new RegExp("^"+this.monthsShort(f,"").replace(".","")+"$","i")),c||this._monthsParse[d]||(f="^"+this.months(f,"")+"|^"+this.monthsShort(f,""),this._monthsParse[d]=new RegExp(f.replace(".",""),"i")),c&&"MMMM"===b&&this._longMonthsParse[d].test(a)||c&&"MMM"===b&&this._shortMonthsParse[d].test(a)||
!c&&this._monthsParse[d].test(a))return d};Ba.monthsRegex=function(a){if(this._monthsParseExact)return w(this,"_monthsRegex")||Kc.call(this),a?this._monthsStrictRegex:this._monthsRegex;w(this,"_monthsRegex")||(this._monthsRegex=kb);return this._monthsStrictRegex&&a?this._monthsStrictRegex:this._monthsRegex};Ba.monthsShortRegex=function(a){if(this._monthsParseExact)return w(this,"_monthsRegex")||Kc.call(this),a?this._monthsShortStrictRegex:this._monthsShortRegex;w(this,"_monthsShortRegex")||(this._monthsShortRegex=
kb);return this._monthsShortStrictRegex&&a?this._monthsShortStrictRegex:this._monthsShortRegex};Ba.week=function(a){return h(a,this._week.dow,this._week.doy).week};Ba.firstDayOfYear=function(){return this._week.doy};Ba.firstDayOfWeek=function(){return this._week.dow};Ba.weekdays=function(a,b){return a?m(this._weekdays)?this._weekdays[a.day()]:this._weekdays[this._weekdays.isFormat.test(b)?"format":"standalone"][a.day()]:m(this._weekdays)?this._weekdays:this._weekdays.standalone};Ba.weekdaysMin=function(a){return a?
this._weekdaysMin[a.day()]:this._weekdaysMin};Ba.weekdaysShort=function(a){return a?this._weekdaysShort[a.day()]:this._weekdaysShort};Ba.weekdaysParse=function(a,b,c){var d;if(this._weekdaysParseExact)return $c.call(this,a,b,c);this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]);for(d=0;7>d;d++){var f=t([2E3,1]).day(d);c&&!this._fullWeekdaysParse[d]&&(this._fullWeekdaysParse[d]=new RegExp("^"+this.weekdays(f,"").replace(".",
".?")+"$","i"),this._shortWeekdaysParse[d]=new RegExp("^"+this.weekdaysShort(f,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[d]=new RegExp("^"+this.weekdaysMin(f,"").replace(".",".?")+"$","i"));this._weekdaysParse[d]||(f="^"+this.weekdays(f,"")+"|^"+this.weekdaysShort(f,"")+"|^"+this.weekdaysMin(f,""),this._weekdaysParse[d]=new RegExp(f.replace(".",""),"i"));if(c&&"dddd"===b&&this._fullWeekdaysParse[d].test(a)||c&&"ddd"===b&&this._shortWeekdaysParse[d].test(a)||c&&"dd"===b&&this._minWeekdaysParse[d].test(a)||
!c&&this._weekdaysParse[d].test(a))return d}};Ba.weekdaysRegex=function(a){if(this._weekdaysParseExact)return w(this,"_weekdaysRegex")||ad.call(this),a?this._weekdaysStrictRegex:this._weekdaysRegex;w(this,"_weekdaysRegex")||(this._weekdaysRegex=kb);return this._weekdaysStrictRegex&&a?this._weekdaysStrictRegex:this._weekdaysRegex};Ba.weekdaysShortRegex=function(a){if(this._weekdaysParseExact)return w(this,"_weekdaysRegex")||ad.call(this),a?this._weekdaysShortStrictRegex:this._weekdaysShortRegex;w(this,
"_weekdaysShortRegex")||(this._weekdaysShortRegex=kb);return this._weekdaysShortStrictRegex&&a?this._weekdaysShortStrictRegex:this._weekdaysShortRegex};Ba.weekdaysMinRegex=function(a){if(this._weekdaysParseExact)return w(this,"_weekdaysRegex")||ad.call(this),a?this._weekdaysMinStrictRegex:this._weekdaysMinRegex;w(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=kb);return this._weekdaysMinStrictRegex&&a?this._weekdaysMinStrictRegex:this._weekdaysMinRegex};Ba.isPM=function(a){return"p"===(a+"").toLowerCase().charAt(0)};
Ba.meridiem=function(a,b,c){return 11<a?c?"pm":"PM":c?"am":"AM"};S("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(a){var b=a%10;b=1===A(a%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th";return a+b}});a.lang=fa("moment.lang is deprecated. Use moment.locale instead.",S);a.langData=fa("moment.langData is deprecated. Use moment.localeData instead.",Za);var fb=Math.abs,Uc=nb("ms"),dd=nb("s"),vd=nb("m"),ld=nb("h"),pc=nb("d"),ed=nb("w"),ec=nb("M"),jd=nb("y"),rc=ob("milliseconds"),
rd=ob("seconds"),sd=ob("minutes"),Wc=ob("hours"),gc=ob("days"),ce=ob("months"),sc=ob("years"),Xc=Math.round,ic={ss:44,s:45,m:45,h:22,d:26,M:11},ud=Math.abs,Da=Rb.prototype;Da.isValid=function(){return this._isValid};Da.abs=function(){var a=this._data;this._milliseconds=fb(this._milliseconds);this._days=fb(this._days);this._months=fb(this._months);a.milliseconds=fb(a.milliseconds);a.seconds=fb(a.seconds);a.minutes=fb(a.minutes);a.hours=fb(a.hours);a.months=fb(a.months);a.years=fb(a.years);return this};
Da.add=function(a,b){return hc(this,a,b,1)};Da.subtract=function(a,b){return hc(this,a,b,-1)};Da.as=function(a){if(!this.isValid())return NaN;var b=this._milliseconds;a=J(a);if("month"===a||"year"===a){var c=this._days+b/864E5;c=this._months+4800*c/146097;return"month"===a?c:c/12}c=this._days+Math.round(146097*this._months/4800);switch(a){case "week":return c/7+b/6048E5;case "day":return c+b/864E5;case "hour":return 24*c+b/36E5;case "minute":return 1440*c+b/6E4;case "second":return 86400*c+b/1E3;
case "millisecond":return Math.floor(864E5*c)+b;default:throw Error("Unknown unit "+a);}};Da.asMilliseconds=Uc;Da.asSeconds=dd;Da.asMinutes=vd;Da.asHours=ld;Da.asDays=pc;Da.asWeeks=ed;Da.asMonths=ec;Da.asYears=jd;Da.valueOf=function(){return this.isValid()?this._milliseconds+864E5*this._days+this._months%12*2592E6+31536E6*A(this._months/12):NaN};Da._bubble=function(){var a=this._milliseconds,b=this._days,c=this._months,d=this._data;0<=a&&0<=b&&0<=c||0>=a&&0>=b&&0>=c||(a+=864E5*tc(146097*c/4800+b),
c=b=0);d.milliseconds=a%1E3;a=U(a/1E3);d.seconds=a%60;a=U(a/60);d.minutes=a%60;a=U(a/60);d.hours=a%24;b+=U(a/24);a=U(4800*b/146097);c+=a;b-=tc(146097*a/4800);a=U(c/12);d.days=b;d.months=c%12;d.years=a;return this};Da.get=function(a){a=J(a);return this.isValid()?this[a+"s"]():NaN};Da.milliseconds=rc;Da.seconds=rd;Da.minutes=sd;Da.hours=Wc;Da.days=gc;Da.weeks=function(){return U(this.days()/7)};Da.months=ce;Da.years=sc;Da.humanize=function(a){if(!this.isValid())return this.localeData().invalidDate();
var b=this.localeData();var c=!a;var d=Sa(this).abs(),f=Xc(d.as("s")),g=Xc(d.as("m")),h=Xc(d.as("h")),k=Xc(d.as("d")),q=Xc(d.as("M"));d=Xc(d.as("y"));f=f<=ic.ss&&["s",f]||f<ic.s&&["ss",f]||1>=g&&["m"]||g<ic.m&&["mm",g]||1>=h&&["h"]||h<ic.h&&["hh",h]||1>=k&&["d"]||k<ic.d&&["dd",k]||1>=q&&["M"]||q<ic.M&&["MM",q]||1>=d&&["y"]||["yy",d];f[2]=c;f[3]=0<+this;f[4]=b;c=td.apply(null,f);a&&(c=b.pastFuture(+this,c));return b.postformat(c)};Da.toISOString=Bc;Da.toString=Bc;Da.toJSON=Bc;Da.locale=Eb;Da.localeData=
zd;Da.toIsoString=fa("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Bc);Da.lang=Rc;aa("X",0,0,"unix");aa("x",0,0,"valueOf");E("x",Vb);E("X",/[+-]?\d+(\.\d{1,3})?/);pa("X",function(a,b,c){c._d=new Date(1E3*parseFloat(a,10))});pa("x",function(a,b,c){c._d=new Date(A(a))});a.version="2.18.1";var Od=za;a.fn=L;a.min=function(){var a=[].slice.call(arguments,0);return zc("isBefore",a)};a.max=function(){var a=[].slice.call(arguments,0);return zc("isAfter",a)};a.now=function(){return Date.now?
Date.now():+new Date};a.utc=t;a.unix=function(a){return za(1E3*a)};a.months=function(a,b){return Ic(a,b,"months")};a.isDate=p;a.locale=S;a.invalid=c;a.duration=Sa;a.isMoment=q;a.weekdays=function(a,b,c){return Yc(a,b,c,"weekdays")};a.parseZone=function(){return za.apply(null,arguments).parseZone()};a.localeData=Za;a.isDuration=Sb;a.monthsShort=function(a,b){return Ic(a,b,"monthsShort")};a.weekdaysMin=function(a,b,c){return Yc(a,b,c,"weekdaysMin")};a.defineLocale=Qa;a.updateLocale=function(a,b){if(null!=
b){var c=mc;null!=wa[a]&&(c=wa[a]._config);b=Ma(c,b);b=new Na(b);b.parentLocale=wa[a];wa[a]=b;S(a)}else null!=wa[a]&&(null!=wa[a].parentLocale?wa[a]=wa[a].parentLocale:null!=wa[a]&&delete wa[a]);return wa[a]};a.locales=function(){return Cd(wa)};a.weekdaysShort=function(a,b,c){return Yc(a,b,c,"weekdaysShort")};a.normalizeUnits=J;a.relativeTimeRounding=function(a){return void 0===a?Xc:"function"===typeof a?(Xc=a,!0):!1};a.relativeTimeThreshold=function(a,b){if(void 0===ic[a])return!1;if(void 0===b)return ic[a];
ic[a]=b;"s"===a&&(ic.ss=b-1);return!0};a.calendarFormat=function(a,b){a=a.diff(b,"days",!0);return-6>a?"sameElse":-1>a?"lastWeek":0>a?"lastDay":1>a?"sameDay":2>a?"nextDay":7>a?"nextWeek":"sameElse"};a.prototype=L;return a});
(function(){var a="undefined"===typeof window?{}:window.document,m="undefined"!==typeof module&&module.exports,f="undefined"!==typeof Element&&"ALLOW_KEYBOARD_INPUT"in Element,k=function(){for(var f,k=["requestFullscreen exitFullscreen fullscreenElement fullscreenEnabled fullscreenchange fullscreenerror".split(" "),"webkitRequestFullscreen webkitExitFullscreen webkitFullscreenElement webkitFullscreenEnabled webkitfullscreenchange webkitfullscreenerror".split(" "),"webkitRequestFullScreen webkitCancelFullScreen webkitCurrentFullScreenElement webkitCancelFullScreen webkitfullscreenchange webkitfullscreenerror".split(" "),
"mozRequestFullScreen mozCancelFullScreen mozFullScreenElement mozFullScreenEnabled mozfullscreenchange mozfullscreenerror".split(" "),"msRequestFullscreen msExitFullscreen msFullscreenElement msFullscreenEnabled MSFullscreenChange MSFullscreenError".split(" ")],n=0,b=k.length,m={};n<b;n++)if((f=k[n])&&f[1]in a){for(n=0;n<f.length;n++)m[k[0][n]]=f[n];return m}return!1}(),n={request:function(n){var m=k.requestFullscreen;n=n||a.documentElement;if(/5\.1[.\d]* Safari/.test(navigator.userAgent))n[m]();
else n[m](f&&Element.ALLOW_KEYBOARD_INPUT)},exit:function(){a[k.exitFullscreen]()},toggle:function(a){this.isFullscreen?this.exit():this.request(a)},onchange:function(f){a.addEventListener(k.fullscreenchange,f,!1)},onerror:function(f){a.addEventListener(k.fullscreenerror,f,!1)},raw:k};k?(Object.defineProperties(n,{isFullscreen:{get:function(){return!!a[k.fullscreenElement]}},element:{enumerable:!0,get:function(){return a[k.fullscreenElement]}},enabled:{enumerable:!0,get:function(){return!!a[k.fullscreenEnabled]}}}),
m?module.exports=n:window.screenfull=n):m?module.exports=!1:window.screenfull=!1})();"use strict";var TWEEN=TWEEN||function(){var a=[];return{REVISION:"7",getAll:function(){return a},removeAll:function(){a=[]},add:function(m){a.push(m)},remove:function(m){m=a.indexOf(m);-1!==m&&a.splice(m,1)},update:function(m){if(0===a.length)return!1;var f=0,k=a.length;for(m=void 0!==m?m:Date.now();f<k;)a[f].update(m)?f++:(a.splice(f,1),k--);return!0}}}();
TWEEN.Tween=function(a){var m={},f={},k=1E3,n=0,p=null,z=TWEEN.Easing.Linear.None,w=TWEEN.Interpolation.Linear,b=[],t=null,x=!1,H=null,c=null;this.to=function(a,b){null!==b&&(k=b);f=a;return this};this.start=function(b){TWEEN.add(this);x=!1;p=void 0!==b?b:Date.now();p+=n;for(var c in f)if(null!==a[c]){if(f[c]instanceof Array){if(0===f[c].length)continue;f[c]=[a[c]].concat(f[c])}m[c]=a[c]}return this};this.stop=function(){TWEEN.remove(this);return this};this.delay=function(a){n=a;return this};this.easing=
function(a){z=a;return this};this.interpolation=function(a){w=a;return this};this.chain=function(){b=arguments;return this};this.onStart=function(a){t=a;return this};this.onUpdate=function(a){H=a;return this};this.onComplete=function(a){c=a;return this};this.update=function(n){if(n<p)return!0;!1===x&&(null!==t&&t.call(a),x=!0);var F=(n-p)/k;F=1<F?1:F;var q=z(F),U;for(U in m){var A=m[U],ta=f[U];a[U]=ta instanceof Array?w(ta,q):A+(ta-A)*q}null!==H&&H.call(a,q);if(1==F){null!==c&&c.call(a);F=0;for(q=
b.length;F<q;F++)b[F].start(n);return!1}return!0}};
TWEEN.Easing={Linear:{None:function(a){return a}},Quadratic:{In:function(a){return a*a},Out:function(a){return a*(2-a)},InOut:function(a){return 1>(a*=2)?.5*a*a:-.5*(--a*(a-2)-1)}},Cubic:{In:function(a){return a*a*a},Out:function(a){return--a*a*a+1},InOut:function(a){return 1>(a*=2)?.5*a*a*a:.5*((a-=2)*a*a+2)}},Quartic:{In:function(a){return a*a*a*a},Out:function(a){return 1- --a*a*a*a},InOut:function(a){return 1>(a*=2)?.5*a*a*a*a:-.5*((a-=2)*a*a*a-2)}},Quintic:{In:function(a){return a*a*a*a*a},Out:function(a){return--a*
a*a*a*a+1},InOut:function(a){return 1>(a*=2)?.5*a*a*a*a*a:.5*((a-=2)*a*a*a*a+2)}},Sinusoidal:{In:function(a){return 1-Math.cos(a*Math.PI/2)},Out:function(a){return Math.sin(a*Math.PI/2)},InOut:function(a){return.5*(1-Math.cos(Math.PI*a))}},Exponential:{In:function(a){return 0===a?0:Math.pow(1024,a-1)},Out:function(a){return 1===a?1:1-Math.pow(2,-10*a)},InOut:function(a){return 0===a?0:1===a?1:1>(a*=2)?.5*Math.pow(1024,a-1):.5*(-Math.pow(2,-10*(a-1))+2)}},Circular:{In:function(a){return 1-Math.sqrt(1-
a*a)},Out:function(a){return Math.sqrt(1- --a*a)},InOut:function(a){return 1>(a*=2)?-.5*(Math.sqrt(1-a*a)-1):.5*(Math.sqrt(1-(a-=2)*a)+1)}},Elastic:{In:function(a){var m,f=.1;if(0===a)return 0;if(1===a)return 1;!f||1>f?(f=1,m=.1):m=.4*Math.asin(1/f)/(2*Math.PI);return-(f*Math.pow(2,10*--a)*Math.sin(2*(a-m)*Math.PI/.4))},Out:function(a){var m,f=.1;if(0===a)return 0;if(1===a)return 1;!f||1>f?(f=1,m=.1):m=.4*Math.asin(1/f)/(2*Math.PI);return f*Math.pow(2,-10*a)*Math.sin(2*(a-m)*Math.PI/.4)+1},InOut:function(a){var m,
f=.1;if(0===a)return 0;if(1===a)return 1;!f||1>f?(f=1,m=.1):m=.4*Math.asin(1/f)/(2*Math.PI);return 1>(a*=2)?-.5*f*Math.pow(2,10*--a)*Math.sin(2*(a-m)*Math.PI/.4):.5*f*Math.pow(2,-10*--a)*Math.sin(2*(a-m)*Math.PI/.4)+1}},Back:{In:function(a){return a*a*(2.70158*a-1.70158)},Out:function(a){return--a*a*(2.70158*a+1.70158)+1},InOut:function(a){return 1>(a*=2)?.5*a*a*(3.5949095*a-2.5949095):.5*((a-=2)*a*(3.5949095*a+2.5949095)+2)}},Bounce:{In:function(a){return 1-TWEEN.Easing.Bounce.Out(1-a)},Out:function(a){return a<
1/2.75?7.5625*a*a:a<2/2.75?7.5625*(a-=1.5/2.75)*a+.75:a<2.5/2.75?7.5625*(a-=2.25/2.75)*a+.9375:7.5625*(a-=2.625/2.75)*a+.984375},InOut:function(a){return.5>a?.5*TWEEN.Easing.Bounce.In(2*a):.5*TWEEN.Easing.Bounce.Out(2*a-1)+.5}}};
TWEEN.Interpolation={Linear:function(a,m){var f=a.length-1,k=f*m,n=Math.floor(k),p=TWEEN.Interpolation.Utils.Linear;return 0>m?p(a[0],a[1],k):1<m?p(a[f],a[f-1],f-k):p(a[n],a[n+1>f?f:n+1],k-n)},Bezier:function(a,m){var f=0,k=a.length-1,n=Math.pow,p=TWEEN.Interpolation.Utils.Bernstein,z;for(z=0;z<=k;z++)f+=n(1-m,k-z)*n(m,z)*a[z]*p(k,z);return f},CatmullRom:function(a,m){var f=a.length-1,k=f*m,n=Math.floor(k),p=TWEEN.Interpolation.Utils.CatmullRom;return a[0]===a[f]?(0>m&&(n=Math.floor(k=f*(1+m))),p(a[(n-
1+f)%f],a[n],a[(n+1)%f],a[(n+2)%f],k-n)):0>m?a[0]-(p(a[0],a[0],a[1],a[1],-k)-a[0]):1<m?a[f]-(p(a[f],a[f],a[f-1],a[f-1],k-f)-a[f]):p(a[n?n-1:0],a[n],a[f<n+1?f:n+1],a[f<n+2?f:n+2],k-n)},Utils:{Linear:function(a,m,f){return(m-a)*f+a},Bernstein:function(a,m){var f=TWEEN.Interpolation.Utils.Factorial;return f(a)/f(m)/f(a-m)},Factorial:function(){var a=[1];return function(m){var f=1,k;if(a[m])return a[m];for(k=m;1<k;k--)f*=k;return a[m]=f}}(),CatmullRom:function(a,m,f,k,n){a=.5*(f-a);k=.5*(k-m);var p=n*
n;return(2*m-2*f+a+k)*n*p+(-3*m+3*f-2*a-k)*p+a*n+m}}};
(function(a,m){var f=a.History=a.History||{};if("undefined"!==typeof f.Adapter)throw Error("History.js Adapter has already been loaded...");f.Adapter={handlers:{},_uid:1,uid:function(a){return a._uid||(a._uid=f.Adapter._uid++)},bind:function(a,n,m){var k=f.Adapter.uid(a);f.Adapter.handlers[k]=f.Adapter.handlers[k]||{};f.Adapter.handlers[k][n]=f.Adapter.handlers[k][n]||[];f.Adapter.handlers[k][n].push(m);a["on"+n]=function(a,b){return function(k){f.Adapter.trigger(a,b,k)}}(a,n)},trigger:function(a,
n,m){m=m||{};a=f.Adapter.uid(a);var k;f.Adapter.handlers[a]=f.Adapter.handlers[a]||{};f.Adapter.handlers[a][n]=f.Adapter.handlers[a][n]||[];var p=0;for(k=f.Adapter.handlers[a][n].length;p<k;++p)f.Adapter.handlers[a][n][p].apply(this,[m])},extractEventData:function(a,f){return f&&f[a]||m},onDomLoad:function(f){var k=a.setTimeout(function(){f()},2E3);a.onload=function(){clearTimeout(k);f()}}};"undefined"!==typeof f.init&&f.init()})(window);
(function(a,m){var f=a.console||m,k=a.document,n=a.navigator,p=!1,z=a.setTimeout,w=a.clearTimeout,b=a.setInterval,t=a.clearInterval,x=a.JSON,H=a.alert,c=a.History=a.History||{},F=a.history;try{p=a.sessionStorage,p.setItem("TEST","1"),p.removeItem("TEST")}catch(V){p=!1}x.stringify=x.stringify||x.encode;x.parse=x.parse||x.decode;if("undefined"!==typeof c.init)throw Error("History.js Core has already been loaded...");c.init=function(a){if("undefined"===typeof c.Adapter)return!1;"undefined"!==typeof c.initCore&&
c.initCore();"undefined"!==typeof c.initHtml4&&c.initHtml4();return!0};c.initCore=function(V){if("undefined"!==typeof c.initCore.initialized)return!1;c.initCore.initialized=!0;c.options=c.options||{};c.options.hashChangeInterval=c.options.hashChangeInterval||100;c.options.safariPollInterval=c.options.safariPollInterval||500;c.options.doubleCheckInterval=c.options.doubleCheckInterval||500;c.options.disableSuid=c.options.disableSuid||!1;c.options.storeInterval=c.options.storeInterval||1E3;c.options.busyDelay=
c.options.busyDelay||250;c.options.debug=c.options.debug||!1;c.options.initialTitle=c.options.initialTitle||k.title;c.options.html4Mode=c.options.html4Mode||!1;c.options.delayInit=c.options.delayInit||!1;c.intervalList=[];c.clearAllIntervals=function(){var a,b=c.intervalList;if("undefined"!==typeof b&&null!==b){for(a=0;a<b.length;a++)t(b[a]);c.intervalList=null}};c.debug=function(){c.options.debug&&c.log.apply(c,arguments)};c.log=function(){var a=!("undefined"===typeof f||"undefined"===typeof f.log||
"undefined"===typeof f.log.apply),b=k.getElementById("log"),c;if(a){var n=Array.prototype.slice.call(arguments);var m=n.shift();"undefined"!==typeof f.debug?f.debug.apply(f,[m,n]):f.log.apply(f,[m,n])}else m="\n"+arguments[0]+"\n";n=1;for(c=arguments.length;n<c;++n){var p=arguments[n];if("object"===typeof p&&"undefined"!==typeof x)try{p=x.stringify(p)}catch(xa){}m+="\n"+p+"\n"}b?(b.value+=m+"\n-----\n",b.scrollTop=b.scrollHeight-b.clientHeight):a||H(m);return!0};c.getInternetExplorerMajorVersion=
function(){var a=c.getInternetExplorerMajorVersion;if("undefined"!==typeof c.getInternetExplorerMajorVersion.cached)var b=c.getInternetExplorerMajorVersion.cached;else{b=3;for(var f=k.createElement("div"),n=f.getElementsByTagName("i");(f.innerHTML="\x3c!--[if gt IE "+ ++b+"]><i></i><![endif]--\x3e")&&n[0];);b=4<b?b:!1}return a.cached=b};c.isInternetExplorer=function(){return c.isInternetExplorer.cached="undefined"!==typeof c.isInternetExplorer.cached?c.isInternetExplorer.cached:!!c.getInternetExplorerMajorVersion()};
c.emulated=c.options.html4Mode?{pushState:!0,hashChange:!0}:{pushState:!(a.history&&a.history.pushState&&a.history.replaceState&&!/ Mobile\/([1-7][a-z]|(8([abcde]|f(1[0-8]))))/i.test(n.userAgent)&&!/AppleWebKit\/5([0-2]|3[0-2])/i.test(n.userAgent)),hashChange:!(("onhashchange"in a||"onhashchange"in k)&&!(c.isInternetExplorer()&&8>c.getInternetExplorerMajorVersion()))};c.enabled=!c.emulated.pushState;c.bugs={setHash:!(c.emulated.pushState||"Apple Computer, Inc."!==n.vendor||!/AppleWebKit\/5([0-2]|3[0-3])/.test(n.userAgent)),
safariPoll:!(c.emulated.pushState||"Apple Computer, Inc."!==n.vendor||!/AppleWebKit\/5([0-2]|3[0-3])/.test(n.userAgent)),ieDoubleCheck:!!(c.isInternetExplorer()&&8>c.getInternetExplorerMajorVersion()),hashEscape:!!(c.isInternetExplorer()&&7>c.getInternetExplorerMajorVersion())};c.isEmptyObject=function(a){for(var b in a)if(a.hasOwnProperty(b))return!1;return!0};c.cloneObject=function(a){a?(a=x.stringify(a),a=x.parse(a)):a={};return a};c.getRootUrl=function(){var a=k.location.protocol+"//"+(k.location.hostname||
k.location.host);k.location.port&&(a+=":"+k.location.port);return a+"/"};c.getBaseHref=function(){var a=k.getElementsByTagName("base"),b="";1===a.length&&(a=a[0],b=a.href.replace(/[^\/]+$/,""));(b=b.replace(/\/+$/,""))&&(b+="/");return b};c.getBaseUrl=function(){return c.getBaseHref()||c.getBasePageUrl()||c.getRootUrl()};c.getPageUrl=function(){return((c.getState(!1,!1)||{}).url||c.getLocationHref()).replace(/\/+$/,"").replace(/[^\/]+$/,function(a,b,c){return/\./.test(a)?a:a+"/"})};c.getBasePageUrl=
function(){return c.getLocationHref().replace(/[#\?].*/,"").replace(/[^\/]+$/,function(a,b,c){return/[^\/]$/.test(a)?"":a}).replace(/\/+$/,"")+"/"};c.getFullUrl=function(a,b){var f=a,k=a.substring(0,1);b="undefined"===typeof b?!0:b;/[a-z]+\:\/\//.test(a)||(f="/"===k?c.getRootUrl()+a.replace(/^\/+/,""):"#"===k?c.getPageUrl().replace(/#.*/,"")+a:"?"===k?c.getPageUrl().replace(/[\?#].*/,"")+a:b?c.getBaseUrl()+a.replace(/^(\.\/)+/,""):c.getBasePageUrl()+a.replace(/^(\.\/)+/,""));return f.replace(/\#$/,
"")};c.getShortUrl=function(a){var b=c.getBaseUrl(),f=c.getRootUrl();c.emulated.pushState&&(a=a.replace(b,""));a=a.replace(f,"/");c.isTraditionalAnchor(a)&&(a="./"+a);return a=a.replace(/^(\.\/)+/g,"./").replace(/\#$/,"")};c.getLocationHref=function(a){a=a||k;return a.URL===a.location.href?a.location.href:a.location.href===decodeURIComponent(a.URL)?a.URL:a.location.hash&&decodeURIComponent(a.location.href.replace(/^[^#]+/,""))===a.location.hash||-1==a.URL.indexOf("#")&&-1!=a.location.href.indexOf("#")?
a.location.href:a.URL||a.location.href};c.store={};c.idToState=c.idToState||{};c.stateToId=c.stateToId||{};c.urlToId=c.urlToId||{};c.storedStates=c.storedStates||[];c.savedStates=c.savedStates||[];c.normalizeStore=function(){c.store.idToState=c.store.idToState||{};c.store.urlToId=c.store.urlToId||{};c.store.stateToId=c.store.stateToId||{}};c.getState=function(a,b){"undefined"===typeof a&&(a=!0);"undefined"===typeof b&&(b=!0);var f=c.getLastSavedState();!f&&b&&(f=c.createStateObject());a&&(f=c.cloneObject(f),
f.url=f.cleanUrl||f.url);return f};c.getIdByState=function(a){var b=c.extractId(a.url);if(!b){var f=c.getStateString(a);if("undefined"!==typeof c.stateToId[f])b=c.stateToId[f];else if("undefined"!==typeof c.store.stateToId[f])b=c.store.stateToId[f];else{for(;b=(new Date).getTime()+String(Math.random()).replace(/\D/g,""),"undefined"!==typeof c.idToState[b]||"undefined"!==typeof c.store.idToState[b];);c.stateToId[f]=b;c.idToState[b]=a}}return b};c.normalizeState=function(a){a&&"object"===typeof a||
(a={});if("undefined"!==typeof a.normalized)return a;a.data&&"object"===typeof a.data||(a.data={});var b={normalized:!0};b.title=a.title||"";b.url=c.getFullUrl(a.url?a.url:c.getLocationHref());b.hash=c.getShortUrl(b.url);b.data=c.cloneObject(a.data);b.id=c.getIdByState(b);b.cleanUrl=b.url.replace(/\??\&_suid.*/,"");b.url=b.cleanUrl;a=!c.isEmptyObject(b.data);(b.title||a)&&!0!==c.options.disableSuid&&(b.hash=c.getShortUrl(b.url).replace(/\??\&_suid.*/,""),/\?/.test(b.hash)||(b.hash+="?"),b.hash+="&_suid="+
b.id);b.hashedUrl=c.getFullUrl(b.hash);(c.emulated.pushState||c.bugs.safariPoll)&&c.hasUrlDuplicate(b)&&(b.url=b.hashedUrl);return b};c.createStateObject=function(a,b,f){a={data:a,title:b,url:f};return a=c.normalizeState(a)};c.getStateById=function(a){a=String(a);return c.idToState[a]||c.store.idToState[a]||m};c.getStateString=function(a){a={data:c.normalizeState(a).data,title:a.title,url:a.url};return x.stringify(a)};c.getStateId=function(a){return c.normalizeState(a).id};c.getHashByState=function(a){return c.normalizeState(a).hash};
c.extractId=function(a){a=-1!=a.indexOf("#")?a.split("#")[0]:a;return((a=/(.*)\&_suid=([0-9]+)$/.exec(a))?String(a[2]||""):"")||!1};c.isTraditionalAnchor=function(a){return!/[\/\?\.]/.test(a)};c.extractState=function(a,b){var f=null,k;b=b||!1;(k=c.extractId(a))&&(f=c.getStateById(k));if(!f){var n=c.getFullUrl(a);(k=c.getIdByUrl(n)||!1)&&(f=c.getStateById(k));f||!b||c.isTraditionalAnchor(a)||(f=c.createStateObject(null,null,n))}return f};c.getIdByUrl=function(a){return c.urlToId[a]||c.store.urlToId[a]||
m};c.getLastSavedState=function(){return c.savedStates[c.savedStates.length-1]||m};c.getLastStoredState=function(){return c.storedStates[c.storedStates.length-1]||m};c.hasUrlDuplicate=function(a){var b;return(b=c.extractState(a.url))&&b.id!==a.id};c.storeState=function(a){c.urlToId[a.url]=a.id;c.storedStates.push(c.cloneObject(a));return a};c.isLastSavedState=function(a){var b=!1;c.savedStates.length&&(a=a.id,b=c.getLastSavedState(),b=b.id,b=a===b);return b};c.saveState=function(a){if(c.isLastSavedState(a))return!1;
c.savedStates.push(c.cloneObject(a));return!0};c.getStateByIndex=function(a){return"undefined"===typeof a?c.savedStates[c.savedStates.length-1]:0>a?c.savedStates[c.savedStates.length+a]:c.savedStates[a]};c.getCurrentIndex=function(){return 1>c.savedStates.length?0:c.savedStates.length-1};c.getHash=function(a){a=c.getLocationHref(a);return c.getHashByUrl(a)};c.unescapeHash=function(a){a=c.normalizeHash(a);return a=decodeURIComponent(a)};c.normalizeHash=function(a){return a.replace(/[^#]*#/,"").replace(/#.*/,
"")};c.setHash=function(a,b){var f;if(!1!==b&&c.busy())return c.pushQueue({scope:c,callback:c.setHash,args:arguments,queue:b}),!1;c.busy(!0);(f=c.extractState(a,!0))&&!c.emulated.pushState?c.pushState(f.data,f.title,f.url,!1):c.getHash()!==a&&(c.bugs.setHash?(f=c.getPageUrl(),c.pushState(null,null,f+"#"+a,!1)):k.location.hash=a);return c};c.escapeHash=function(b){b=c.normalizeHash(b);b=a.encodeURIComponent(b);c.bugs.hashEscape||(b=b.replace(/\%21/g,"!").replace(/\%26/g,"&").replace(/\%3D/g,"=").replace(/\%3F/g,
"?"));return b};c.getHashByUrl=function(a){a=String(a).replace(/([^#]*)#?([^#]*)#?(.*)/,"$2");return a=c.unescapeHash(a)};c.setTitle=function(a){var b=a.title,f;b||(f=c.getStateByIndex(0))&&f.url===a.url&&(b=f.title||c.options.initialTitle);try{k.getElementsByTagName("title")[0].innerHTML=b.replace("<","&lt;").replace(">","&gt;").replace(" & "," &amp; ")}catch(ta){}k.title=b;return c};c.queues=[];c.busy=function(a){"undefined"!==typeof a?c.busy.flag=a:"undefined"===typeof c.busy.flag&&(c.busy.flag=
!1);if(!c.busy.flag){w(c.busy.timeout);var b=function(){var a;if(!c.busy.flag)for(a=c.queues.length-1;0<=a;--a){var f=c.queues[a];0!==f.length&&(f=f.shift(),c.fireQueueItem(f),c.busy.timeout=z(b,c.options.busyDelay))}};c.busy.timeout=z(b,c.options.busyDelay)}return c.busy.flag};c.busy.flag=!1;c.fireQueueItem=function(a){return a.callback.apply(a.scope||c,a.args||[])};c.pushQueue=function(a){c.queues[a.queue||0]=c.queues[a.queue||0]||[];c.queues[a.queue||0].push(a);return c};c.queue=function(a,b){"function"===
typeof a&&(a={callback:a});"undefined"!==typeof b&&(a.queue=b);c.busy()?c.pushQueue(a):c.fireQueueItem(a);return c};c.clearQueue=function(){c.busy.flag=!1;c.queues=[];return c};c.stateChanged=!1;c.doubleChecker=!1;c.doubleCheckComplete=function(){c.stateChanged=!0;c.doubleCheckClear();return c};c.doubleCheckClear=function(){c.doubleChecker&&(w(c.doubleChecker),c.doubleChecker=!1);return c};c.doubleCheck=function(a){c.stateChanged=!1;c.doubleCheckClear();c.bugs.ieDoubleCheck&&(c.doubleChecker=z(function(){c.doubleCheckClear();
c.stateChanged||a();return!0},c.options.doubleCheckInterval));return c};c.safariStatePoll=function(){var b=c.extractState(c.getLocationHref());if(!c.isLastSavedState(b))return b||c.createStateObject(),c.Adapter.trigger(a,"popstate"),c};c.back=function(a){if(!1!==a&&c.busy())return c.pushQueue({scope:c,callback:c.back,args:arguments,queue:a}),!1;c.busy(!0);c.doubleCheck(function(){c.back(!1)});F.go(-1);return!0};c.forward=function(a){if(!1!==a&&c.busy())return c.pushQueue({scope:c,callback:c.forward,
args:arguments,queue:a}),!1;c.busy(!0);c.doubleCheck(function(){c.forward(!1)});F.go(1);return!0};c.go=function(a,b){var f;if(0<a)for(f=1;f<=a;++f)c.forward(b);else if(0>a)for(f=-1;f>=a;--f)c.back(b);else throw Error("History.go: History.go requires a positive or negative integer passed.");return c};c.emulated.pushState?(V=function(){},c.pushState=c.pushState||V,c.replaceState=c.replaceState||V):(c.onPopState=function(b,f){var k;c.doubleCheckComplete();if(k=c.getHash())return(b=c.extractState(k||
c.getLocationHref(),!0))?c.replaceState(b.data,b.title,b.url,!1):(c.Adapter.trigger(a,"anchorchange"),c.busy(!1)),c.expectedStateId=!1;(b=(b=c.Adapter.extractEventData("state",b,f)||!1)?c.getStateById(b):c.expectedStateId?c.getStateById(c.expectedStateId):c.extractState(c.getLocationHref()))||(b=c.createStateObject(null,null,c.getLocationHref()));c.expectedStateId=!1;if(c.isLastSavedState(b))return c.busy(!1),!1;c.storeState(b);c.saveState(b);c.setTitle(b);c.Adapter.trigger(a,"statechange");c.busy(!1);
return!0},c.Adapter.bind(a,"popstate",c.onPopState),c.pushState=function(b,f,k,n){if(c.getHashByUrl(k)&&c.emulated.pushState)throw Error("History.js does not support states with fragement-identifiers (hashes/anchors).");if(!1!==n&&c.busy())return c.pushQueue({scope:c,callback:c.pushState,args:arguments,queue:n}),!1;c.busy(!0);var m=c.createStateObject(b,f,k);c.isLastSavedState(m)?c.busy(!1):(c.storeState(m),c.expectedStateId=m.id,F.pushState(m.id,m.title,m.url),c.Adapter.trigger(a,"popstate"));return!0},
c.replaceState=function(b,f,k,n){if(c.getHashByUrl(k)&&c.emulated.pushState)throw Error("History.js does not support states with fragement-identifiers (hashes/anchors).");if(!1!==n&&c.busy())return c.pushQueue({scope:c,callback:c.replaceState,args:arguments,queue:n}),!1;c.busy(!0);var m=c.createStateObject(b,f,k);c.isLastSavedState(m)?c.busy(!1):(c.storeState(m),c.expectedStateId=m.id,F.replaceState(m.id,m.title,m.url),c.Adapter.trigger(a,"popstate"));return!0});if(p)try{c.store=x.parse(p.getItem("History.store"))||
{}}catch(q){c.store={}}else c.store={};c.normalizeStore();c.Adapter.bind(a,"unload",c.clearAllIntervals);c.saveState(c.storeState(c.extractState(c.getLocationHref(),!0)));p&&(c.onUnload=function(){var a;try{var b=x.parse(p.getItem("History.store"))||{}}catch(A){b={}}b.idToState=b.idToState||{};b.urlToId=b.urlToId||{};b.stateToId=b.stateToId||{};for(a in c.idToState)c.idToState.hasOwnProperty(a)&&(b.idToState[a]=c.idToState[a]);for(a in c.urlToId)c.urlToId.hasOwnProperty(a)&&(b.urlToId[a]=c.urlToId[a]);
for(a in c.stateToId)c.stateToId.hasOwnProperty(a)&&(b.stateToId[a]=c.stateToId[a]);c.store=b;c.normalizeStore();b=x.stringify(b);try{p.setItem("History.store",b)}catch(A){if(A.code===DOMException.QUOTA_EXCEEDED_ERR)p.length&&(p.removeItem("History.store"),p.setItem("History.store",b));else throw A;}},c.intervalList.push(b(c.onUnload,c.options.storeInterval)),c.Adapter.bind(a,"beforeunload",c.onUnload),c.Adapter.bind(a,"unload",c.onUnload));if(!c.emulated.pushState&&(c.bugs.safariPoll&&c.intervalList.push(b(c.safariStatePoll,
c.options.safariPollInterval)),"Apple Computer, Inc."===n.vendor||"Mozilla"===(n.appCodeName||""))&&(c.Adapter.bind(a,"hashchange",function(){c.Adapter.trigger(a,"popstate")}),c.getHash()))c.Adapter.onDomLoad(function(){c.Adapter.trigger(a,"hashchange")})};c.options&&c.options.delayInit||c.init()})(window);
!function(a){"object"==typeof exports&&"undefined"!=typeof module?module.exports=a():"function"==typeof define&&define.amd?define([],a):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).store=a()}(function(){return function m(f,k,n){function p(b,t){if(!k[b]){if(!f[b]){var w="function"==typeof require&&require;if(!t&&w)return w(b,!0);if(z)return z(b,!0);t=Error("Cannot find module '"+b+"'");throw t.code="MODULE_NOT_FOUND",t;}t=k[b]={exports:{}};
f[b][0].call(t.exports,function(k){var c=f[b][1][k];return p(c?c:k)},t,t.exports,m,f,k,n)}return k[b].exports}for(var z="function"==typeof require&&require,w=0;w<n.length;w++)p(n[w]);return p}({1:[function(m,f,k){k=m("../src/store-engine");m=[m("../storages/localStorage"),m("../storages/sessionStorage"),m("../storages/cookieStorage"),m("../storages/memoryStorage")];f.exports=k.createStore(m,[])},{"../src/store-engine":2,"../storages/cookieStorage":4,"../storages/localStorage":5,"../storages/memoryStorage":6,
"../storages/sessionStorage":7}],2:[function(m,f,k){function n(){var b="undefined"==typeof console?null:console;b&&(b.warn?b.warn:b.log).apply(b,arguments)}function p(f,k,m){m||(m="");f&&!H(f)&&(f=[f]);k&&!H(k)&&(k=[k]);var p=m?"__storejs_"+m+"_":"",q=m?new RegExp("^"+p):null;if(!/^[a-zA-Z0-9_\-]*$/.test(m))throw Error("store.js namespaces can only have alphanumerics + underscores and dashes");var A=x({_namespacePrefix:p,_namespaceRegexp:q,_testStorage:function(b){try{b.write("__storejs__test__",
"__storejs__test__");var c="__storejs__test__"===b.read("__storejs__test__");return b.remove("__storejs__test__"),c}catch(Ma){return!1}},_assignPluginFnProp:function(c,f){var k=this[f];this[f]=function(){var f=z(arguments,0),n=this,m=[function(){if(k)return b(arguments,function(b,c){f[c]=b}),k.apply(n,f)}].concat(f);return c.apply(n,m)}},_serialize:function(b){return JSON.stringify(b)},_deserialize:function(b,c){if(!b)return c;var f="";try{f=JSON.parse(b)}catch(Na){f=b}return void 0!==f?f:c},_addStorage:function(b){this.enabled||
this._testStorage(b)&&(this.storage=b,this.enabled=!0)},_addPlugin:function(f){var k=this;if(H(f))return void b(f,function(b){k._addPlugin(b)});if(!w(this.plugins,function(b){return f===b})){if(this.plugins.push(f),!c(f))throw Error("Plugins must be function values that return objects");var n=f.call(this);if(!F(n))throw Error("Plugins must return an object of function properties");b(n,function(b,n){if(!c(b))throw Error("Bad plugin property: "+n+" from plugin "+f.name+". Plugins should only return functions.");
k._assignPluginFnProp(b,n)})}},addStorage:function(b){n("store.addStorage(storage) is deprecated. Use createStore([storages])");this._addStorage(b)}},V,{plugins:[]});return A.raw={},b(A,function(b,f){c(b)&&(A.raw[f]=t(A,b))}),b(f,function(b){A._addStorage(b)}),b(k,function(b){A._addPlugin(b)}),A}m=m("./util");var z=m.slice,w=m.pluck,b=m.each,t=m.bind,x=m.create,H=m.isList,c=m.isFunction,F=m.isObject;f.exports={createStore:p};var V={version:"2.0.12",enabled:!1,get:function(b,c){b=this.storage.read(this._namespacePrefix+
b);return this._deserialize(b,c)},set:function(b,c){return void 0===c?this.remove(b):(this.storage.write(this._namespacePrefix+b,this._serialize(c)),c)},remove:function(b){this.storage.remove(this._namespacePrefix+b)},each:function(b){var c=this;this.storage.each(function(f,k){b.call(c,c._deserialize(f),(k||"").replace(c._namespaceRegexp,""))})},clearAll:function(){this.storage.clearAll()},hasNamespace:function(b){return this._namespacePrefix=="__storejs_"+b+"_"},createStore:function(){return p.apply(this,
arguments)},addPlugin:function(b){this._addPlugin(b)},namespace:function(b){return p(this.storage,this.plugins,b)}}},{"./util":3}],3:[function(m,f,k){(function(k){function n(b,f){return Array.prototype.slice.call(b,f||0)}function m(b,f){w(b,function(b,c){return f(b,c),!1})}function w(c,f){if(b(c))for(var k=0;k<c.length;k++){if(f(c[k],k))return c[k]}else for(k in c)if(c.hasOwnProperty(k)&&f(c[k],k))return c[k]}function b(b){return null!=b&&"function"!=typeof b&&"number"==typeof b.length}var t=function(){return Object.assign?
Object.assign:function(b,f,k,n){for(var c=1;c<arguments.length;c++)m(Object(arguments[c]),function(c,f){b[f]=c});return b}}(),x=function(){if(Object.create)return function(b,c,f,k){var m=n(arguments,1);return t.apply(this,[Object.create(b)].concat(m))};var b=function(){};return function(c,f,k,m){var p=n(arguments,1);return b.prototype=c,t.apply(this,[new b].concat(p))}}(),H=function(){return String.prototype.trim?function(b){return String.prototype.trim.call(b)}:function(b){return b.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,
"")}}();f.exports={assign:t,create:x,trim:H,bind:function(b,f){return function(){return f.apply(b,Array.prototype.slice.call(arguments,0))}},slice:n,each:m,map:function(c,f){var k=b(c)?[]:{};return w(c,function(b,c){return k[c]=f(b,c),!1}),k},pluck:w,isList:b,isFunction:function(b){return b&&"[object Function]"==={}.toString.call(b)},isObject:function(b){return b&&"[object Object]"==={}.toString.call(b)},Global:"undefined"!=typeof window?window:k}}).call(this,"undefined"!=typeof global?global:"undefined"!=
typeof self?self:"undefined"!=typeof window?window:{})},{}],4:[function(m,f,k){function n(f){for(var k=b.cookie.split(/; ?/g),n=k.length-1;0<=n;n--)if(w(k[n])){var c=k[n].split("="),m=unescape(c[0]);c=unescape(c[1]);f(c,m)}}function p(f){f&&z(f)&&(b.cookie=escape(f)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/")}function z(f){return(new RegExp("(?:^|;\\s*)"+escape(f).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=")).test(b.cookie)}m=m("../src/util");k=m.Global;var w=m.trim;f.exports={name:"cookieStorage",
read:function(f){if(!f||!z(f))return null;f="(?:^|.*;\\s*)"+escape(f).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*((?:[^;](?!;))*[^;]?).*";return unescape(b.cookie.replace(new RegExp(f),"$1"))},write:function(f,k){f&&(b.cookie=escape(f)+"="+escape(k)+"; expires=Tue, 19 Jan 2038 03:14:07 GMT; path=/")},each:n,remove:p,clearAll:function(){n(function(b,f){p(f)})}};var b=k.document},{"../src/util":3}],5:[function(m,f,k){function n(f){return p.localStorage.getItem(f)}var p=m("../src/util").Global;f.exports=
{name:"localStorage",read:n,write:function(f,k){return p.localStorage.setItem(f,k)},each:function(f){for(var k=p.localStorage.length-1;0<=k;k--){var b=p.localStorage.key(k);f(n(b),b)}},remove:function(f){return p.localStorage.removeItem(f)},clearAll:function(){return p.localStorage.clear()}}},{"../src/util":3}],6:[function(m,f,k){f.exports={name:"memoryStorage",read:function(f){return n[f]},write:function(f,k){n[f]=k},each:function(f){for(var k in n)n.hasOwnProperty(k)&&f(n[k],k)},remove:function(f){delete n[f]},
clearAll:function(f){n={}}};var n={}},{}],7:[function(m,f,k){function n(f){return p.sessionStorage.getItem(f)}var p=m("../src/util").Global;f.exports={name:"sessionStorage",read:n,write:function(f,k){return p.sessionStorage.setItem(f,k)},each:function(f){for(var k=p.sessionStorage.length-1;0<=k;k--){var b=p.sessionStorage.key(k);f(n(b),b)}},remove:function(f){return p.sessionStorage.removeItem(f)},clearAll:function(){return p.sessionStorage.clear()}}},{"../src/util":3}]},{},[1])(1)});
(function(a,m){"object"===typeof exports&&"undefined"!==typeof module?m(exports):"function"===typeof define&&define.amd?define(["exports"],m):m(a.THREE=a.THREE||{})})(this,function(a){function m(){}function f(e,a){this.x=e||0;this.y=a||0}function k(e,a,b,v,c,d,g,P,h,na){Object.defineProperty(this,"id",{value:Gf++});this.uuid=Fa.generateUUID();this.name="";this.image=void 0!==e?e:k.DEFAULT_IMAGE;this.mipmaps=[];this.mapping=void 0!==a?a:k.DEFAULT_MAPPING;this.wrapS=void 0!==b?b:1001;this.wrapT=void 0!==
v?v:1001;this.magFilter=void 0!==c?c:1006;this.minFilter=void 0!==d?d:1008;this.anisotropy=void 0!==h?h:1;this.format=void 0!==g?g:1023;this.type=void 0!==P?P:1009;this.offset=new f(0,0);this.repeat=new f(1,1);this.generateMipmaps=!0;this.premultiplyAlpha=!1;this.flipY=!0;this.unpackAlignment=4;this.encoding=void 0!==na?na:3E3;this.version=0;this.onUpdate=null}function n(e,a,b,v){this.x=e||0;this.y=a||0;this.z=b||0;this.w=void 0!==v?v:1}function p(e,a,b){this.uuid=Fa.generateUUID();this.width=e;this.height=
a;this.scissor=new n(0,0,e,a);this.scissorTest=!1;this.viewport=new n(0,0,e,a);b=b||{};void 0===b.minFilter&&(b.minFilter=1006);this.texture=new k(void 0,void 0,b.wrapS,b.wrapT,b.magFilter,b.minFilter,b.format,b.type,b.anisotropy,b.encoding);this.depthBuffer=void 0!==b.depthBuffer?b.depthBuffer:!0;this.stencilBuffer=void 0!==b.stencilBuffer?b.stencilBuffer:!0;this.depthTexture=void 0!==b.depthTexture?b.depthTexture:null}function z(e,a,b){p.call(this,e,a,b);this.activeMipMapLevel=this.activeCubeFace=
0}function w(e,a,b,v){this._x=e||0;this._y=a||0;this._z=b||0;this._w=void 0!==v?v:1}function b(e,a,b){this.x=e||0;this.y=a||0;this.z=b||0}function t(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];0<arguments.length&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}function x(e,a,b,v,c,d,f,g,h,na,n,ja){k.call(this,null,d,f,g,h,na,v,c,n,ja);this.image={data:e,width:a,height:b};this.magFilter=void 0!==h?h:1003;this.minFilter=void 0!==na?na:1003;this.flipY=
this.generateMipmaps=!1;this.unpackAlignment=1}function H(e,a,b,v,c,d,f,g,h,na){e=void 0!==e?e:[];k.call(this,e,void 0!==a?a:301,b,v,c,d,f,g,h,na);this.flipY=!1}function c(e,a,b){var l=e[0];if(0>=l||0<l)return e;var r=a*b,c=mf[r];void 0===c&&(c=new Float32Array(r),mf[r]=c);if(0!==a)for(l.toArray(c,0),l=1,r=0;l!==a;++l)r+=b,e[l].toArray(c,r);return c}function F(e,a){var l=nf[a];void 0===l&&(l=new Int32Array(a),nf[a]=l);for(var b=0;b!==a;++b)l[b]=e.allocTextureUnit();return l}function V(e,a){e.uniform1f(this.addr,
a)}function q(e,a){e.uniform1i(this.addr,a)}function U(e,a){void 0===a.x?e.uniform2fv(this.addr,a):e.uniform2f(this.addr,a.x,a.y)}function A(e,a){void 0!==a.x?e.uniform3f(this.addr,a.x,a.y,a.z):void 0!==a.r?e.uniform3f(this.addr,a.r,a.g,a.b):e.uniform3fv(this.addr,a)}function ta(e,a){void 0===a.x?e.uniform4fv(this.addr,a):e.uniform4f(this.addr,a.x,a.y,a.z,a.w)}function bb(e,a){e.uniformMatrix2fv(this.addr,!1,a.elements||a)}function fa(e,a){void 0===a.elements?e.uniformMatrix3fv(this.addr,!1,a):(of.set(a.elements),
e.uniformMatrix3fv(this.addr,!1,of))}function xa(e,a){void 0===a.elements?e.uniformMatrix4fv(this.addr,!1,a):(pf.set(a.elements),e.uniformMatrix4fv(this.addr,!1,pf))}function Ca(e,a,b){var l=b.allocTextureUnit();e.uniform1i(this.addr,l);b.setTexture2D(a||qf,l)}function Ma(e,a,b){var l=b.allocTextureUnit();e.uniform1i(this.addr,l);b.setTextureCube(a||rf,l)}function Na(e,a){e.uniform2iv(this.addr,a)}function oa(e,a){e.uniform3iv(this.addr,a)}function J(e,a){e.uniform4iv(this.addr,a)}function Oa(e){switch(e){case 5126:return V;
case 35664:return U;case 35665:return A;case 35666:return ta;case 35674:return bb;case 35675:return fa;case 35676:return xa;case 35678:case 36198:return Ca;case 35680:return Ma;case 5124:case 35670:return q;case 35667:case 35671:return Na;case 35668:case 35672:return oa;case 35669:case 35673:return J}}function G(e,a){e.uniform1fv(this.addr,a)}function la(e,a){e.uniform1iv(this.addr,a)}function cb(e,a){e.uniform2fv(this.addr,c(a,this.size,2))}function ha(e,a){e.uniform3fv(this.addr,c(a,this.size,3))}
function aa(e,a){e.uniform4fv(this.addr,c(a,this.size,4))}function tb(e,a){e.uniformMatrix2fv(this.addr,!1,c(a,this.size,4))}function Ob(e,a){e.uniformMatrix3fv(this.addr,!1,c(a,this.size,9))}function Zb(e,a){e.uniformMatrix4fv(this.addr,!1,c(a,this.size,16))}function T(e,a,b){var l=a.length,r=F(b,l);e.uniform1iv(this.addr,r);for(e=0;e!==l;++e)b.setTexture2D(a[e]||qf,r[e])}function E(e,a,b){var l=a.length,r=F(b,l);e.uniform1iv(this.addr,r);for(e=0;e!==l;++e)b.setTextureCube(a[e]||rf,r[e])}function ea(e){switch(e){case 5126:return G;
case 35664:return cb;case 35665:return ha;case 35666:return aa;case 35674:return tb;case 35675:return Ob;case 35676:return Zb;case 35678:return T;case 35680:return E;case 5124:case 35670:return la;case 35667:case 35671:return Na;case 35668:case 35672:return oa;case 35669:case 35673:return J}}function K(e,a,b){this.id=e;this.addr=b;this.setValue=Oa(a.type)}function ra(e,a,b){this.id=e;this.addr=b;this.size=a.size;this.setValue=ea(a.type)}function pa(e){this.id=e;this.seq=[];this.map={}}function ka(e,
a,b){this.seq=[];this.map={};this.renderer=b;b=e.getProgramParameter(a,e.ACTIVE_UNIFORMS);for(var l=0;l<b;++l){var r=e.getActiveUniform(a,l),c=e.getUniformLocation(a,r.name),d=this,f=r.name,g=f.length;for(Re.lastIndex=0;;){var h=Re.exec(f),k=Re.lastIndex,n=h[1],C=h[3];"]"===h[2]&&(n|=0);if(void 0===C||"["===C&&k+2===g){f=d;r=void 0===C?new K(n,r,c):new ra(n,r,c);f.seq.push(r);f.map[r.id]=r;break}else C=d.map[n],void 0===C&&(C=new pa(n),n=d,d=C,n.seq.push(d),n.map[d.id]=d),d=C}}}function Q(e,a,b){return void 0===
a&&void 0===b?this.set(e):this.setRGB(e,a,b)}function Va(e,a){this.min=void 0!==e?e:new f(Infinity,Infinity);this.max=void 0!==a?a:new f(-Infinity,-Infinity)}function Hb(e,a){var l,c,d,D,g,h,k,na,n,ja,C=e.context,m=e.state,p,q,t,w,Wa,Ld;this.render=function(r,v,y){if(0!==a.length){r=new b;var M=y.w/y.z,P=.5*y.z,Ha=.5*y.w,da=16/y.w,Ta=new f(da*M,da),Ya=new b(1,1,0),X=new f(1,1),yd=new Va;yd.min.set(y.x,y.y);yd.max.set(y.x+(y.z-16),y.y+(y.w-16));if(void 0===w){da=new Float32Array([-1,-1,0,0,1,-1,1,
0,1,1,1,1,-1,1,0,1]);var qd=new Uint16Array([0,1,2,0,2,3]);p=C.createBuffer();q=C.createBuffer();C.bindBuffer(C.ARRAY_BUFFER,p);C.bufferData(C.ARRAY_BUFFER,da,C.STATIC_DRAW);C.bindBuffer(C.ELEMENT_ARRAY_BUFFER,q);C.bufferData(C.ELEMENT_ARRAY_BUFFER,qd,C.STATIC_DRAW);Wa=C.createTexture();Ld=C.createTexture();m.bindTexture(C.TEXTURE_2D,Wa);C.texImage2D(C.TEXTURE_2D,0,C.RGB,16,16,0,C.RGB,C.UNSIGNED_BYTE,null);C.texParameteri(C.TEXTURE_2D,C.TEXTURE_WRAP_S,C.CLAMP_TO_EDGE);C.texParameteri(C.TEXTURE_2D,
C.TEXTURE_WRAP_T,C.CLAMP_TO_EDGE);C.texParameteri(C.TEXTURE_2D,C.TEXTURE_MAG_FILTER,C.NEAREST);C.texParameteri(C.TEXTURE_2D,C.TEXTURE_MIN_FILTER,C.NEAREST);m.bindTexture(C.TEXTURE_2D,Ld);C.texImage2D(C.TEXTURE_2D,0,C.RGBA,16,16,0,C.RGBA,C.UNSIGNED_BYTE,null);C.texParameteri(C.TEXTURE_2D,C.TEXTURE_WRAP_S,C.CLAMP_TO_EDGE);C.texParameteri(C.TEXTURE_2D,C.TEXTURE_WRAP_T,C.CLAMP_TO_EDGE);C.texParameteri(C.TEXTURE_2D,C.TEXTURE_MAG_FILTER,C.NEAREST);C.texParameteri(C.TEXTURE_2D,C.TEXTURE_MIN_FILTER,C.NEAREST);
da=t={vertexShader:"uniform lowp int renderType;\nuniform vec3 screenPosition;\nuniform vec2 scale;\nuniform float rotation;\nuniform sampler2D occlusionMap;\nattribute vec2 position;\nattribute vec2 uv;\nvarying vec2 vUV;\nvarying float vVisibility;\nvoid main() {\nvUV = uv;\nvec2 pos = position;\nif ( renderType == 2 ) {\nvec4 visibility = texture2D( occlusionMap, vec2( 0.1, 0.1 ) );\nvisibility += texture2D( occlusionMap, vec2( 0.5, 0.1 ) );\nvisibility += texture2D( occlusionMap, vec2( 0.9, 0.1 ) );\nvisibility += texture2D( occlusionMap, vec2( 0.9, 0.5 ) );\nvisibility += texture2D( occlusionMap, vec2( 0.9, 0.9 ) );\nvisibility += texture2D( occlusionMap, vec2( 0.5, 0.9 ) );\nvisibility += texture2D( occlusionMap, vec2( 0.1, 0.9 ) );\nvisibility += texture2D( occlusionMap, vec2( 0.1, 0.5 ) );\nvisibility += texture2D( occlusionMap, vec2( 0.5, 0.5 ) );\nvVisibility =        visibility.r / 9.0;\nvVisibility *= 1.0 - visibility.g / 9.0;\nvVisibility *=       visibility.b / 9.0;\nvVisibility *= 1.0 - visibility.a / 9.0;\npos.x = cos( rotation ) * position.x - sin( rotation ) * position.y;\npos.y = sin( rotation ) * position.x + cos( rotation ) * position.y;\n}\ngl_Position = vec4( ( pos * scale + screenPosition.xy ).xy, screenPosition.z, 1.0 );\n}",
fragmentShader:"uniform lowp int renderType;\nuniform sampler2D map;\nuniform float opacity;\nuniform vec3 color;\nvarying vec2 vUV;\nvarying float vVisibility;\nvoid main() {\nif ( renderType == 0 ) {\ngl_FragColor = vec4( 1.0, 0.0, 1.0, 0.0 );\n} else if ( renderType == 1 ) {\ngl_FragColor = texture2D( map, vUV );\n} else {\nvec4 texture = texture2D( map, vUV );\ntexture.a *= opacity * vVisibility;\ngl_FragColor = texture;\ngl_FragColor.rgb *= color;\n}\n}"};qd=C.createProgram();var x=C.createShader(C.FRAGMENT_SHADER),
u=C.createShader(C.VERTEX_SHADER),A="precision "+e.getPrecision()+" float;\n";C.shaderSource(x,A+da.fragmentShader);C.shaderSource(u,A+da.vertexShader);C.compileShader(x);C.compileShader(u);C.attachShader(qd,x);C.attachShader(qd,u);C.linkProgram(qd);w=qd;n=C.getAttribLocation(w,"position");ja=C.getAttribLocation(w,"uv");l=C.getUniformLocation(w,"renderType");c=C.getUniformLocation(w,"map");d=C.getUniformLocation(w,"occlusionMap");D=C.getUniformLocation(w,"opacity");g=C.getUniformLocation(w,"color");
h=C.getUniformLocation(w,"scale");k=C.getUniformLocation(w,"rotation");na=C.getUniformLocation(w,"screenPosition")}C.useProgram(w);m.initAttributes();m.enableAttribute(n);m.enableAttribute(ja);m.disableUnusedAttributes();C.uniform1i(d,0);C.uniform1i(c,1);C.bindBuffer(C.ARRAY_BUFFER,p);C.vertexAttribPointer(n,2,C.FLOAT,!1,16,0);C.vertexAttribPointer(ja,2,C.FLOAT,!1,16,8);C.bindBuffer(C.ELEMENT_ARRAY_BUFFER,q);m.disable(C.CULL_FACE);m.buffers.depth.setMask(!1);qd=0;for(x=a.length;qd<x;qd++)if(da=16/
y.w,Ta.set(da*M,da),u=a[qd],r.set(u.matrixWorld.elements[12],u.matrixWorld.elements[13],u.matrixWorld.elements[14]),r.applyMatrix4(v.matrixWorldInverse),r.applyMatrix4(v.projectionMatrix),Ya.copy(r),X.x=y.x+Ya.x*P+P-8,X.y=y.y+Ya.y*Ha+Ha-8,!0===yd.containsPoint(X)){m.activeTexture(C.TEXTURE0);m.bindTexture(C.TEXTURE_2D,null);m.activeTexture(C.TEXTURE1);m.bindTexture(C.TEXTURE_2D,Wa);C.copyTexImage2D(C.TEXTURE_2D,0,C.RGB,X.x,X.y,16,16,0);C.uniform1i(l,0);C.uniform2f(h,Ta.x,Ta.y);C.uniform3f(na,Ya.x,
Ya.y,Ya.z);m.disable(C.BLEND);m.enable(C.DEPTH_TEST);C.drawElements(C.TRIANGLES,6,C.UNSIGNED_SHORT,0);m.activeTexture(C.TEXTURE0);m.bindTexture(C.TEXTURE_2D,Ld);C.copyTexImage2D(C.TEXTURE_2D,0,C.RGBA,X.x,X.y,16,16,0);C.uniform1i(l,1);m.disable(C.DEPTH_TEST);m.activeTexture(C.TEXTURE1);m.bindTexture(C.TEXTURE_2D,Wa);C.drawElements(C.TRIANGLES,6,C.UNSIGNED_SHORT,0);u.positionScreen.copy(Ya);u.customUpdateCallback?u.customUpdateCallback(u):u.updateLensFlares();C.uniform1i(l,2);m.enable(C.BLEND);A=0;
for(var Hf=u.lensFlares.length;A<Hf;A++){var K=u.lensFlares[A];.001<K.opacity&&.001<K.scale&&(Ya.x=K.x,Ya.y=K.y,Ya.z=K.z,da=K.size*K.scale/y.w,Ta.x=da*M,Ta.y=da,C.uniform3f(na,Ya.x,Ya.y,Ya.z),C.uniform2f(h,Ta.x,Ta.y),C.uniform1f(k,K.rotation),C.uniform1f(D,K.opacity),C.uniform3f(g,K.color.r,K.color.g,K.color.b),m.setBlending(K.blending,K.blendEquation,K.blendSrc,K.blendDst),e.setTexture2D(K.texture,1),C.drawElements(C.TRIANGLES,6,C.UNSIGNED_SHORT,0))}}m.enable(C.CULL_FACE);m.enable(C.DEPTH_TEST);
m.buffers.depth.setMask(!0);e.resetGLState()}}}function Kc(e,a){var l,c,d,f,g,h,Ha,na,n,m,C,p,q,t,yd,u,Wa;function Ld(e,a){return e.renderOrder!==a.renderOrder?e.renderOrder-a.renderOrder:e.z!==a.z?a.z-e.z:a.id-e.id}var X=e.context,x=e.state,A,K,z,B,E=new b,H=new w,F=new b;this.render=function(b,r){if(0!==a.length){if(void 0===z){var v=new Float32Array([-.5,-.5,0,0,.5,-.5,1,0,.5,.5,1,1,-.5,.5,0,1]),y=new Uint16Array([0,1,2,0,2,3]);A=X.createBuffer();K=X.createBuffer();X.bindBuffer(X.ARRAY_BUFFER,
A);X.bufferData(X.ARRAY_BUFFER,v,X.STATIC_DRAW);X.bindBuffer(X.ELEMENT_ARRAY_BUFFER,K);X.bufferData(X.ELEMENT_ARRAY_BUFFER,y,X.STATIC_DRAW);v=X.createProgram();y=X.createShader(X.VERTEX_SHADER);var D=X.createShader(X.FRAGMENT_SHADER);X.shaderSource(y,["precision "+e.getPrecision()+" float;","#define SHADER_NAME SpriteMaterial\nuniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\nuniform float rotation;\nuniform vec2 scale;\nuniform vec2 uvOffset;\nuniform vec2 uvScale;\nattribute vec2 position;\nattribute vec2 uv;\nvarying vec2 vUV;\nvoid main() {\nvUV = uvOffset + uv * uvScale;\nvec2 alignedPosition = position * scale;\nvec2 rotatedPosition;\nrotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\nrotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\nvec4 finalPosition;\nfinalPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\nfinalPosition.xy += rotatedPosition;\nfinalPosition = projectionMatrix * finalPosition;\ngl_Position = finalPosition;\n}"].join("\n"));
X.shaderSource(D,["precision "+e.getPrecision()+" float;","#define SHADER_NAME SpriteMaterial\nuniform vec3 color;\nuniform sampler2D map;\nuniform float opacity;\nuniform int fogType;\nuniform vec3 fogColor;\nuniform float fogDensity;\nuniform float fogNear;\nuniform float fogFar;\nuniform float alphaTest;\nvarying vec2 vUV;\nvoid main() {\nvec4 texture = texture2D( map, vUV );\nif ( texture.a < alphaTest ) discard;\ngl_FragColor = vec4( color * texture.xyz, texture.a * opacity );\nif ( fogType > 0 ) {\nfloat depth = gl_FragCoord.z / gl_FragCoord.w;\nfloat fogFactor = 0.0;\nif ( fogType == 1 ) {\nfogFactor = smoothstep( fogNear, fogFar, depth );\n} else {\nconst float LOG2 = 1.442695;\nfogFactor = exp2( - fogDensity * fogDensity * depth * depth * LOG2 );\nfogFactor = 1.0 - clamp( fogFactor, 0.0, 1.0 );\n}\ngl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );\n}\n}"].join("\n"));
X.compileShader(y);X.compileShader(D);X.attachShader(v,y);X.attachShader(v,D);X.linkProgram(v);z=v;u=X.getAttribLocation(z,"position");Wa=X.getAttribLocation(z,"uv");l=X.getUniformLocation(z,"uvOffset");c=X.getUniformLocation(z,"uvScale");d=X.getUniformLocation(z,"rotation");f=X.getUniformLocation(z,"scale");g=X.getUniformLocation(z,"color");h=X.getUniformLocation(z,"map");Ha=X.getUniformLocation(z,"opacity");na=X.getUniformLocation(z,"modelViewMatrix");n=X.getUniformLocation(z,"projectionMatrix");
m=X.getUniformLocation(z,"fogType");C=X.getUniformLocation(z,"fogDensity");p=X.getUniformLocation(z,"fogNear");q=X.getUniformLocation(z,"fogFar");t=X.getUniformLocation(z,"fogColor");yd=X.getUniformLocation(z,"alphaTest");v=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");v.width=8;v.height=8;y=v.getContext("2d");y.fillStyle="white";y.fillRect(0,0,8,8);B=new k(v);B.needsUpdate=!0}X.useProgram(z);x.initAttributes();x.enableAttribute(u);x.enableAttribute(Wa);x.disableUnusedAttributes();
x.disable(X.CULL_FACE);x.enable(X.BLEND);X.bindBuffer(X.ARRAY_BUFFER,A);X.vertexAttribPointer(u,2,X.FLOAT,!1,16,0);X.vertexAttribPointer(Wa,2,X.FLOAT,!1,16,8);X.bindBuffer(X.ELEMENT_ARRAY_BUFFER,K);X.uniformMatrix4fv(n,!1,r.projectionMatrix.elements);x.activeTexture(X.TEXTURE0);X.uniform1i(h,0);y=v=0;(D=b.fog)?(X.uniform3f(t,D.color.r,D.color.g,D.color.b),D.isFog?(X.uniform1f(p,D.near),X.uniform1f(q,D.far),X.uniform1i(m,1),y=v=1):D.isFogExp2&&(X.uniform1f(C,D.density),X.uniform1i(m,2),y=v=2)):(X.uniform1i(m,
0),y=v=0);for(var M=0,P=a.length;M<P;M++)D=a[M],D.modelViewMatrix.multiplyMatrices(r.matrixWorldInverse,D.matrixWorld),D.z=-D.modelViewMatrix.elements[14];a.sort(Ld);var ja=[];M=0;for(P=a.length;M<P;M++){D=a[M];var da=D.material;if(!1!==da.visible){D.onBeforeRender(e,b,r,void 0,da,void 0);X.uniform1f(yd,da.alphaTest);X.uniformMatrix4fv(na,!1,D.modelViewMatrix.elements);D.matrixWorld.decompose(E,H,F);ja[0]=F.x;ja[1]=F.y;var Ta=0;b.fog&&da.fog&&(Ta=y);v!==Ta&&(X.uniform1i(m,Ta),v=Ta);null!==da.map?
(X.uniform2f(l,da.map.offset.x,da.map.offset.y),X.uniform2f(c,da.map.repeat.x,da.map.repeat.y)):(X.uniform2f(l,0,0),X.uniform2f(c,1,1));X.uniform1f(Ha,da.opacity);X.uniform3f(g,da.color.r,da.color.g,da.color.b);X.uniform1f(d,da.rotation);X.uniform2fv(f,ja);x.setBlending(da.blending,da.blendEquation,da.blendSrc,da.blendDst,da.blendEquationAlpha,da.blendSrcAlpha,da.blendDstAlpha,da.premultipliedAlpha);x.buffers.depth.setTest(da.depthTest);x.buffers.depth.setMask(da.depthWrite);da.map?e.setTexture2D(da.map,
0):e.setTexture2D(B,0);X.drawElements(X.TRIANGLES,6,X.UNSIGNED_SHORT,0);D.onAfterRender(e,b,r,void 0,da,void 0)}}x.enable(X.CULL_FACE);e.resetGLState()}}}function qa(){Object.defineProperty(this,"id",{value:If++});this.uuid=Fa.generateUUID();this.name="";this.type="Material";this.lights=this.fog=!0;this.blending=1;this.side=0;this.shading=2;this.vertexColors=0;this.opacity=1;this.transparent=!1;this.blendSrc=204;this.blendDst=205;this.blendEquation=100;this.blendEquationAlpha=this.blendDstAlpha=this.blendSrcAlpha=
null;this.depthFunc=3;this.depthWrite=this.depthTest=!0;this.clippingPlanes=null;this.clipShadows=this.clipIntersection=!1;this.colorWrite=!0;this.precision=null;this.polygonOffset=!1;this.polygonOffsetUnits=this.polygonOffsetFactor=0;this.dithering=!1;this.alphaTest=0;this.premultipliedAlpha=!1;this.overdraw=0;this.needsUpdate=this.visible=!0}function Ra(e){qa.call(this);this.type="ShaderMaterial";this.defines={};this.uniforms={};this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}";
this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}";this.linewidth=1;this.wireframe=!1;this.wireframeLinewidth=1;this.morphNormals=this.morphTargets=this.skinning=this.clipping=this.lights=this.fog=!1;this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1};this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]};this.index0AttributeName=void 0;void 0!==e&&(void 0!==e.attributes&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),
this.setValues(e))}function lb(e){qa.call(this);this.type="MeshDepthMaterial";this.depthPacking=3200;this.morphTargets=this.skinning=!1;this.displacementMap=this.alphaMap=this.map=null;this.displacementScale=1;this.displacementBias=0;this.wireframe=!1;this.wireframeLinewidth=1;this.lights=this.fog=!1;this.setValues(e)}function db(e,a){this.min=void 0!==e?e:new b(Infinity,Infinity,Infinity);this.max=void 0!==a?a:new b(-Infinity,-Infinity,-Infinity)}function N(e,a){this.center=void 0!==e?e:new b;this.radius=
void 0!==a?a:0}function h(){this.elements=[1,0,0,0,1,0,0,0,1];0<arguments.length&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}function Xa(e,a){this.normal=void 0!==e?e:new b(1,0,0);this.constant=void 0!==a?a:0}function $c(e,a,b,c,d,f){this.planes=[void 0!==e?e:new Xa,void 0!==a?a:new Xa,void 0!==b?b:new Xa,void 0!==c?c:new Xa,void 0!==d?d:new Xa,void 0!==f?f:new Xa]}function ad(e,a,r,c){function l(a,l,b,r){var c=a.geometry;var v=w;var d=a.customDepthMaterial;
b&&(v=yd,d=a.customDistanceMaterial);d?v=d:(d=!1,l.morphTargets&&(c&&c.isBufferGeometry?d=c.morphAttributes&&c.morphAttributes.position&&0<c.morphAttributes.position.length:c&&c.isGeometry&&(d=c.morphTargets&&0<c.morphTargets.length)),a.isSkinnedMesh&&!1===l.skinning&&console.warn("THREE.WebGLShadowMap: THREE.SkinnedMesh with material.skinning set to false:",a),a=a.isSkinnedMesh&&l.skinning,c=0,d&&(c|=1),a&&(c|=2),v=v[c]);e.localClippingEnabled&&!0===l.clipShadows&&0!==l.clippingPlanes.length&&(c=
v.uuid,d=l.uuid,a=x[c],void 0===a&&(a={},x[c]=a),c=a[d],void 0===c&&(c=v.clone(),a[d]=c),v=c);v.visible=l.visible;v.wireframe=l.wireframe;d=l.side;E.renderSingleSided&&2==d&&(d=0);E.renderReverseSided&&(0===d?d=1:1===d&&(d=0));v.side=d;v.clipShadows=l.clipShadows;v.clippingPlanes=l.clippingPlanes;v.wireframeLinewidth=l.wireframeLinewidth;v.linewidth=l.linewidth;b&&void 0!==v.uniforms.lightPos&&v.uniforms.lightPos.value.copy(r);return v}function v(a,b,c,d){var f;if(!1!==a.visible){if(a.layers.test(b.layers)&&
(a.isMesh||a.isLine||a.isPoints)&&a.castShadow&&(!a.frustumCulled||h.intersectsObject(a))){a.modelViewMatrix.multiplyMatrices(c.matrixWorldInverse,a.matrixWorld);var y=r.update(a),D=a.material;if(Array.isArray(D))for(var g=y.groups,M=0,P=g.length;M<P;M++){var k=g[M];(f=D[k.materialIndex])&&f.visible&&(f=l(a,f,d,q),e.renderBufferDirect(c,null,y,f,a,k))}else D.visible&&(f=l(a,D,d,q),e.renderBufferDirect(c,null,y,f,a,null))}a=a.children;y=0;for(D=a.length;y<D;y++)v(a[y],b,c,d)}}var d=e.context,g=e.state,
h=new $c,k=new t,m=a.shadows,ja=new f,C=new f(c.maxTextureSize,c.maxTextureSize),Ta=new b,q=new b,w=Array(4),yd=Array(4),x={},Wa=[new b(1,0,0),new b(-1,0,0),new b(0,0,1),new b(0,0,-1),new b(0,1,0),new b(0,-1,0)],Ld=[new b(0,1,0),new b(0,1,0),new b(0,1,0),new b(0,1,0),new b(0,0,1),new b(0,0,-1)],X=[new n,new n,new n,new n,new n,new n];a=new lb;a.depthPacking=3201;a.clipping=!0;c=Fd.distanceRGBA;for(var u=qc.clone(c.uniforms),A=0;4!==A;++A){var K=0!==(A&1),z=0!==(A&2),B=a.clone();B.morphTargets=K;B.skinning=
z;w[A]=B;K=new Ra({defines:{USE_SHADOWMAP:""},uniforms:u,vertexShader:c.vertexShader,fragmentShader:c.fragmentShader,morphTargets:K,skinning:z,clipping:!0});yd[A]=K}var E=this;this.enabled=!1;this.autoUpdate=!0;this.needsUpdate=!1;this.type=1;this.renderSingleSided=this.renderReverseSided=!0;this.render=function(a,l){if(!1!==E.enabled&&(!1!==E.autoUpdate||!1!==E.needsUpdate)&&0!==m.length){g.disable(d.BLEND);g.buffers.color.setClear(1,1,1,1);g.buffers.depth.setTest(!0);g.setScissorTest(!1);for(var b,
r=0,c=m.length;r<c;r++){var f=m[r];b=f.shadow;var y=f&&f.isPointLight;if(void 0===b)console.warn("THREE.WebGLShadowMap:",f,"has no shadow.");else{var D=b.camera;ja.copy(b.mapSize);ja.min(C);if(y){var M=ja.x,P=ja.y;X[0].set(2*M,P,M,P);X[1].set(0,P,M,P);X[2].set(3*M,P,M,P);X[3].set(M,P,M,P);X[4].set(3*M,0,M,P);X[5].set(M,0,M,P);ja.x*=4;ja.y*=2}null===b.map&&(b.map=new p(ja.x,ja.y,{minFilter:1003,magFilter:1003,format:1023}),b.map.texture.name=f.name+".shadowMap",D.updateProjectionMatrix());b.isSpotLightShadow&&
b.update(f);M=b.map;P=b.matrix;q.setFromMatrixPosition(f.matrixWorld);D.position.copy(q);y?(b=6,P.makeTranslation(-q.x,-q.y,-q.z)):(b=1,Ta.setFromMatrixPosition(f.target.matrixWorld),D.lookAt(Ta),D.updateMatrixWorld(),P.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),P.multiply(D.projectionMatrix),P.multiply(D.matrixWorldInverse));e.setRenderTarget(M);e.clear();for(f=0;f<b;f++)y&&(Ta.copy(D.position),Ta.add(Wa[f]),D.up.copy(Ld[f]),D.lookAt(Ta),D.updateMatrixWorld(),g.viewport(X[f])),k.multiplyMatrices(D.projectionMatrix,
D.matrixWorldInverse),h.setFromMatrix(k),v(a,l,D,y)}}a=e.getClearColor();l=e.getClearAlpha();e.setClearColor(a,l);E.needsUpdate=!1}}}function kd(e){var a={};return{get:function(e){e.isInterleavedBufferAttribute&&(e=e.data);return a[e.uuid]},remove:function(l){l.isInterleavedBufferAttribute&&(l=l.data);var b=a[l.uuid];b&&(e.deleteBuffer(b.buffer),delete a[l.uuid])},update:function(l,b){l.isInterleavedBufferAttribute&&(l=l.data);var r=a[l.uuid];if(void 0===r){r=l.uuid;var c=l.array,v=l.dynamic?e.DYNAMIC_DRAW:
e.STATIC_DRAW,d=e.createBuffer();e.bindBuffer(b,d);e.bufferData(b,c,v);l.onUploadCallback();b=e.FLOAT;c instanceof Float32Array?b=e.FLOAT:c instanceof Float64Array?console.warn("THREE.WebGLAttributes: Unsupported data buffer format: Float64Array."):c instanceof Uint16Array?b=e.UNSIGNED_SHORT:c instanceof Int16Array?b=e.SHORT:c instanceof Uint32Array?b=e.UNSIGNED_INT:c instanceof Int32Array?b=e.INT:c instanceof Int8Array?b=e.BYTE:c instanceof Uint8Array&&(b=e.UNSIGNED_BYTE);a[r]={buffer:d,type:b,bytesPerElement:c.BYTES_PER_ELEMENT,
version:l.version}}else r.version<l.version&&(c=l,d=c.array,v=c.updateRange,e.bindBuffer(b,r.buffer),!1===c.dynamic?e.bufferData(b,d,e.STATIC_DRAW):-1===v.count?e.bufferSubData(b,0,d):0===v.count?console.error("THREE.WebGLObjects.updateBuffer: dynamic THREE.BufferAttribute marked as needsUpdate but updateRange.count is 0, ensure you are using set methods or updating manually."):(e.bufferSubData(b,v.offset*d.BYTES_PER_ELEMENT,d.subarray(v.offset,v.offset+v.count)),v.count=-1),r.version=l.version)}}}
function hb(e,a,b,c){this._x=e||0;this._y=a||0;this._z=b||0;this._order=c||hb.DefaultOrder}function ac(){this.mask=1}function O(){Object.defineProperty(this,"id",{value:Jf++});this.uuid=Fa.generateUUID();this.name="";this.type="Object3D";this.parent=null;this.children=[];this.up=O.DefaultUp.clone();var e=new b,a=new hb,r=new w,c=new b(1,1,1);a.onChange(function(){r.setFromEuler(a,!1)});r.onChange(function(){a.setFromQuaternion(r,void 0,!1)});Object.defineProperties(this,{position:{enumerable:!0,value:e},
rotation:{enumerable:!0,value:a},quaternion:{enumerable:!0,value:r},scale:{enumerable:!0,value:c},modelViewMatrix:{value:new t},normalMatrix:{value:new h}});this.matrix=new t;this.matrixWorld=new t;this.matrixAutoUpdate=O.DefaultMatrixAutoUpdate;this.matrixWorldNeedsUpdate=!1;this.layers=new ac;this.visible=!0;this.receiveShadow=this.castShadow=!1;this.frustumCulled=!0;this.renderOrder=0;this.userData={}}function yb(){O.call(this);this.type="Camera";this.matrixWorldInverse=new t;this.projectionMatrix=
new t}function S(e,a,b,c,d,f){yb.call(this);this.type="OrthographicCamera";this.zoom=1;this.view=null;this.left=e;this.right=a;this.top=b;this.bottom=c;this.near=void 0!==d?d:.1;this.far=void 0!==f?f:2E3;this.updateProjectionMatrix()}function Qa(e,a,b,c){yb.call(this);this.type="PerspectiveCamera";this.fov=void 0!==e?e:50;this.zoom=1;this.near=void 0!==b?b:.1;this.far=void 0!==c?c:2E3;this.focus=10;this.aspect=void 0!==a?a:1;this.view=null;this.filmGauge=35;this.filmOffset=0;this.updateProjectionMatrix()}
function Za(e,a,r,c,d,f){this.a=e;this.b=a;this.c=r;this.normal=c&&c.isVector3?c:new b;this.vertexNormals=Array.isArray(c)?c:[];this.color=d&&d.isColor?d:new Q;this.vertexColors=Array.isArray(d)?d:[];this.materialIndex=void 0!==f?f:0}function ia(){Object.defineProperty(this,"id",{value:Se++});this.uuid=Fa.generateUUID();this.name="";this.type="Geometry";this.vertices=[];this.colors=[];this.faces=[];this.faceVertexUvs=[[]];this.morphTargets=[];this.morphNormals=[];this.skinWeights=[];this.skinIndices=
[];this.lineDistances=[];this.boundingSphere=this.boundingBox=null;this.groupsNeedUpdate=this.lineDistancesNeedUpdate=this.colorsNeedUpdate=this.normalsNeedUpdate=this.uvsNeedUpdate=this.verticesNeedUpdate=this.elementsNeedUpdate=!1}function sa(e,a,b){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.uuid=Fa.generateUUID();this.name="";this.array=e;this.itemSize=a;this.count=void 0!==e?e.length/a:0;this.normalized=!0===b;this.dynamic=!1;this.updateRange=
{offset:0,count:-1};this.onUploadCallback=function(){};this.version=0}function ib(e,a){sa.call(this,new Int8Array(e),a)}function yc(e,a){sa.call(this,new Uint8Array(e),a)}function qb(e,a){sa.call(this,new Uint8ClampedArray(e),a)}function jc(e,a){sa.call(this,new Int16Array(e),a)}function Jb(e,a){sa.call(this,new Uint16Array(e),a)}function Lc(e,a){sa.call(this,new Int32Array(e),a)}function zb(e,a){sa.call(this,new Uint32Array(e),a)}function W(e,a){sa.call(this,new Float32Array(e),a)}function Kb(e,
a){sa.call(this,new Float64Array(e),a)}function za(){this.indices=[];this.vertices=[];this.normals=[];this.colors=[];this.uvs=[];this.uvs2=[];this.groups=[];this.morphTargets={};this.skinWeights=[];this.skinIndices=[];this.boundingSphere=this.boundingBox=null;this.groupsNeedUpdate=this.uvsNeedUpdate=this.colorsNeedUpdate=this.normalsNeedUpdate=this.verticesNeedUpdate=!1}function zc(e){if(0===e.length)return-Infinity;for(var a=e[0],b=1,c=e.length;b<c;++b)e[b]>a&&(a=e[b]);return a}function ca(){Object.defineProperty(this,
"id",{value:Se++});this.uuid=Fa.generateUUID();this.name="";this.type="BufferGeometry";this.index=null;this.attributes={};this.morphAttributes={};this.groups=[];this.boundingSphere=this.boundingBox=null;this.drawRange={start:0,count:Infinity}}function Rb(e,a,b,c,d,f){ia.call(this);this.type="BoxGeometry";this.parameters={width:e,height:a,depth:b,widthSegments:c,heightSegments:d,depthSegments:f};this.fromBufferGeometry(new Sb(e,a,b,c,d,f));this.mergeVertices()}function Sb(e,a,r,c,d,f){function l(e,
a,l,r,c,d,f,M,P,Ha,na){var C=d/P,m=f/Ha,ja=d/2,da=f/2,p=M/2;f=P+1;var Ta=Ha+1,q=d=0,t,Wa,Ya=new b;for(Wa=0;Wa<Ta;Wa++){var w=Wa*m-da;for(t=0;t<f;t++)Ya[e]=(t*C-ja)*r,Ya[a]=w*c,Ya[l]=p,D.push(Ya.x,Ya.y,Ya.z),Ya[e]=0,Ya[a]=0,Ya[l]=0<M?1:-1,g.push(Ya.x,Ya.y,Ya.z),h.push(t/P),h.push(1-Wa/Ha),d+=1}for(Wa=0;Wa<Ha;Wa++)for(t=0;t<P;t++)e=k+t+f*(Wa+1),a=k+(t+1)+f*(Wa+1),l=k+(t+1)+f*Wa,y.push(k+t+f*Wa,e,l),y.push(e,a,l),q+=6;v.addGroup(n,q,na);n+=q;k+=d}ca.call(this);this.type="BoxBufferGeometry";this.parameters=
{width:e,height:a,depth:r,widthSegments:c,heightSegments:d,depthSegments:f};var v=this;c=Math.floor(c)||1;d=Math.floor(d)||1;f=Math.floor(f)||1;var y=[],D=[],g=[],h=[],k=0,n=0;l("z","y","x",-1,-1,r,a,e,f,d,0);l("z","y","x",1,-1,r,a,-e,f,d,1);l("x","z","y",1,1,e,r,a,c,f,2);l("x","z","y",1,-1,e,r,-a,c,f,3);l("x","y","z",1,-1,e,a,r,c,d,4);l("x","y","z",-1,-1,e,a,-r,c,d,5);this.setIndex(y);this.addAttribute("position",new W(D,3));this.addAttribute("normal",new W(g,3));this.addAttribute("uv",new W(h,2))}
function bc(e,a,b,c){ia.call(this);this.type="PlaneGeometry";this.parameters={width:e,height:a,widthSegments:b,heightSegments:c};this.fromBufferGeometry(new Ib(e,a,b,c));this.mergeVertices()}function Ib(e,a,b,c){ca.call(this);this.type="PlaneBufferGeometry";this.parameters={width:e,height:a,widthSegments:b,heightSegments:c};var l=e/2,r=a/2;b=Math.floor(b)||1;c=Math.floor(c)||1;var v=b+1,d=c+1,f=e/b,g=a/c,h=[],k=[],n=[],m=[];for(e=0;e<d;e++){var p=e*g-r;for(a=0;a<v;a++)k.push(a*f-l,-p,0),n.push(0,
0,1),m.push(a/b),m.push(1-e/c)}for(e=0;e<c;e++)for(a=0;a<b;a++)l=a+v*(e+1),r=a+1+v*(e+1),d=a+1+v*e,h.push(a+v*e,l,d),h.push(l,r,d);this.setIndex(h);this.addAttribute("position",new W(k,3));this.addAttribute("normal",new W(n,3));this.addAttribute("uv",new W(m,2))}function mb(e){qa.call(this);this.type="MeshBasicMaterial";this.color=new Q(16777215);this.lightMap=this.map=null;this.lightMapIntensity=1;this.aoMap=null;this.aoMapIntensity=1;this.envMap=this.alphaMap=this.specularMap=null;this.combine=
0;this.reflectivity=1;this.refractionRatio=.98;this.wireframe=!1;this.wireframeLinewidth=1;this.wireframeLinejoin=this.wireframeLinecap="round";this.lights=this.morphTargets=this.skinning=!1;this.setValues(e)}function Ub(e,a){this.origin=void 0!==e?e:new b;this.direction=void 0!==a?a:new b}function cc(e,a){this.start=void 0!==e?e:new b;this.end=void 0!==a?a:new b}function Sa(e,a,r){this.a=void 0!==e?e:new b;this.b=void 0!==a?a:new b;this.c=void 0!==r?r:new b}function Ga(e,a){O.call(this);this.type=
"Mesh";this.geometry=void 0!==e?e:new ca;this.material=void 0!==a?a:new mb({color:16777215*Math.random()});this.drawMode=0;this.updateMorphTargets()}function $b(e,a,b,c){function l(e,l){a.buffers.color.setClear(e.r,e.g,e.b,l,c)}var r=new Q(0),v=0,d,f,g,h;return{getClearColor:function(){return r},setClearColor:function(e,a){r.set(e);v=void 0!==a?a:1;l(r,v)},getClearAlpha:function(){return v},setClearAlpha:function(e){v=e;l(r,v)},render:function(a,c,y){a=a.background;null===a?l(r,v):a&&a.isColor&&(l(a,
1),y=!0);(e.autoClear||y)&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil);a&&a.isCubeTexture?(void 0===g&&(g=new Qa,h=new Ga(new Sb(5,5,5),new Ra({uniforms:Fd.cube.uniforms,vertexShader:Fd.cube.vertexShader,fragmentShader:Fd.cube.fragmentShader,side:1,depthTest:!1,depthWrite:!1,fog:!1}))),g.projectionMatrix.copy(c.projectionMatrix),g.matrixWorld.extractRotation(c.matrixWorld),g.matrixWorldInverse.getInverse(g.matrixWorld),h.material.uniforms.tCube.value=a,h.modelViewMatrix.multiplyMatrices(g.matrixWorldInverse,
h.matrixWorld),b.update(h),e.renderBufferDirect(g,null,h.geometry,h.material,h,null)):a&&a.isTexture&&(void 0===d&&(d=new S(-1,1,1,-1,0,1),f=new Ga(new Ib(2,2),new mb({depthTest:!1,depthWrite:!1,fog:!1}))),f.material.map=a,b.update(f),e.renderBufferDirect(d,null,f.geometry,f.material,f,null))}}}function md(e,a){return e.renderOrder!==a.renderOrder?e.renderOrder-a.renderOrder:e.program&&a.program&&e.program!==a.program?e.program.id-a.program.id:e.material.id!==a.material.id?e.material.id-a.material.id:
e.z!==a.z?e.z-a.z:e.id-a.id}function wd(e,a){return e.renderOrder!==a.renderOrder?e.renderOrder-a.renderOrder:e.z!==a.z?a.z-e.z:e.id-a.id}function Eb(){var e=[],a=-1,b=[],c=-1;return{opaque:e,transparent:b,init:function(){c=a=-1},push:function(l,r,v,d,f){if(v.transparent){var y=b;var g=++c}else y=e,g=++a;(g=y[g])?(g.id=l.id,g.object=l,g.geometry=r,g.material=v,g.program=v.program,g.renderOrder=l.renderOrder,g.z=d,g.group=f):(g={id:l.id,object:l,geometry:r,material:v,program:v.program,renderOrder:l.renderOrder,
z:d,group:f},y.push(g))},finish:function(){e.length=a+1;b.length=c+1},sort:function(){e.sort(md);b.sort(wd)}}}function zd(){var e={};return{get:function(a,b){a=a.id+","+b.id;b=e[a];void 0===b&&(b=new Eb,e[a]=b);return b},dispose:function(){e={}}}}function Mc(e,a,b){var l,r,c;this.setMode=function(e){l=e};this.setIndex=function(e){r=e.type;c=e.bytesPerElement};this.render=function(a,v){e.drawElements(l,v,r,a*c);b.calls++;b.vertices+=v;l===e.TRIANGLES&&(b.faces+=v/3)};this.renderInstances=function(v,
d,f){var y=a.get("ANGLE_instanced_arrays");null===y?console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays."):(y.drawElementsInstancedANGLE(l,f,r,d*c,v.maxInstancedCount),b.calls++,b.vertices+=f*v.maxInstancedCount,l===e.TRIANGLES&&(b.faces+=v.maxInstancedCount*f/3))}}function Ad(e,a,b){var l;this.setMode=function(e){l=e};this.render=function(a,r){e.drawArrays(l,a,r);b.calls++;b.vertices+=r;l===e.TRIANGLES&&
(b.faces+=r/3)};this.renderInstances=function(r,c,v){var d=a.get("ANGLE_instanced_arrays");if(null===d)console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");else{var f=r.attributes.position;f.isInterleavedBufferAttribute?(v=f.data.count,d.drawArraysInstancedANGLE(l,0,v,r.maxInstancedCount)):d.drawArraysInstancedANGLE(l,c,v,r.maxInstancedCount);b.calls++;b.vertices+=v*r.maxInstancedCount;l===e.TRIANGLES&&(b.faces+=
r.maxInstancedCount*v/3)}}}function Bd(e,a,b){function l(e){e=e.target;var v=r[e.id];null!==v.index&&a.remove(v.index);for(var d in v.attributes)a.remove(v.attributes[d]);e.removeEventListener("dispose",l);delete r[e.id];if(d=c[e.id])a.remove(d),delete c[e.id];if(d=c[v.id])a.remove(d),delete c[v.id];b.geometries--}var r={},c={};return{get:function(e,a){var c=r[a.id];if(c)return c;a.addEventListener("dispose",l);a.isBufferGeometry?c=a:a.isGeometry&&(void 0===a._bufferGeometry&&(a._bufferGeometry=(new ca).setFromObject(e)),
c=a._bufferGeometry);r[a.id]=c;b.geometries++;return c},update:function(l){var b=l.index,r=l.attributes;null!==b&&a.update(b,e.ELEMENT_ARRAY_BUFFER);for(var c in r)a.update(r[c],e.ARRAY_BUFFER);l=l.morphAttributes;for(c in l){b=l[c];r=0;for(var v=b.length;r<v;r++)a.update(b[r],e.ARRAY_BUFFER)}},getWireframeAttribute:function(l){var b=c[l.id];if(b)return b;b=[];var r=l.index;var v=l.attributes;if(null!==r){var d=r.array;for(var f=0,y=d.length;f<y;f+=3){var g=d[f+0];v=d[f+1];r=d[f+2];b.push(g,v,v,r,
r,g)}}else for(d=v.position.array,f=0,y=d.length/3-1;f<y;f+=3)g=f+0,v=f+1,r=f+2,b.push(g,v,v,r,r,g);b=new (65535<zc(b)?zb:Jb)(b,1);a.update(b,e.ELEMENT_ARRAY_BUFFER);return c[l.id]=b}}}function eb(){var e={};return{get:function(a){if(void 0!==e[a.id])return e[a.id];switch(a.type){case "DirectionalLight":var l={direction:new b,color:new Q,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new f};break;case "SpotLight":l={position:new b,direction:new b,color:new Q,distance:0,coneCos:0,penumbraCos:0,
decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new f};break;case "PointLight":l={position:new b,color:new Q,distance:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new f};break;case "HemisphereLight":l={direction:new b,skyColor:new Q,groundColor:new Q};break;case "RectAreaLight":l={color:new Q,position:new b,halfWidth:new b,halfHeight:new b}}return e[a.id]=l}}}function Ac(e,a,b){var l={};return{update:function(e){var r=b.frame,c=e.geometry,v=a.get(e,c);l[v.id]!==r&&(c.isGeometry&&
v.updateFromObject(e),a.update(v),l[v.id]=r);return v},clear:function(){l={}}}}function Ic(e){e=e.split("\n");for(var a=0;a<e.length;a++)e[a]=a+1+": "+e[a];return e.join("\n")}function Yc(e,a,b){var l=e.createShader(a);e.shaderSource(l,b);e.compileShader(l);!1===e.getShaderParameter(l,e.COMPILE_STATUS)&&console.error("THREE.WebGLShader: Shader couldn't compile.");""!==e.getShaderInfoLog(l)&&console.warn("THREE.WebGLShader: gl.getShaderInfoLog()",a===e.VERTEX_SHADER?"vertex":"fragment",e.getShaderInfoLog(l),
Ic(b));return l}function hc(e){switch(e){case 3E3:return["Linear","( value )"];case 3001:return["sRGB","( value )"];case 3002:return["RGBE","( value )"];case 3004:return["RGBM","( value, 7.0 )"];case 3005:return["RGBM","( value, 16.0 )"];case 3006:return["RGBD","( value, 256.0 )"];case 3007:return["Gamma","( value, float( GAMMA_FACTOR ) )"];default:throw Error("unsupported encoding: "+e);}}function tc(e,a){a=hc(a);return"vec4 "+e+"( vec4 value ) { return "+a[0]+"ToLinear"+a[1]+"; }"}function nb(e,
a){a=hc(a);return"vec4 "+e+"( vec4 value ) { return LinearTo"+a[0]+a[1]+"; }"}function ob(e,a){switch(a){case 1:a="Linear";break;case 2:a="Reinhard";break;case 3:a="Uncharted2";break;case 4:a="OptimizedCineon";break;default:throw Error("unsupported toneMapping: "+a);}return"vec3 "+e+"( vec3 color ) { return "+a+"ToneMapping( color ); }"}function td(e,a,b){e=e||{};return[e.derivatives||a.envMapCubeUV||a.bumpMap||a.normalMap||a.flatShading?"#extension GL_OES_standard_derivatives : enable":"",(e.fragDepth||
a.logarithmicDepthBuffer)&&b.get("EXT_frag_depth")?"#extension GL_EXT_frag_depth : enable":"",e.drawBuffers&&b.get("WEBGL_draw_buffers")?"#extension GL_EXT_draw_buffers : require":"",(e.shaderTextureLOD||a.envMap)&&b.get("EXT_shader_texture_lod")?"#extension GL_EXT_shader_texture_lod : enable":""].filter(bd).join("\n")}function Bc(e){var a=[],b;for(b in e){var c=e[b];!1!==c&&a.push("#define "+b+" "+c)}return a.join("\n")}function bd(e){return""!==e}function nd(e,a){return e.replace(/NUM_DIR_LIGHTS/g,
a.numDirLights).replace(/NUM_SPOT_LIGHTS/g,a.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,a.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,a.numPointLights).replace(/NUM_HEMI_LIGHTS/g,a.numHemiLights)}function Zc(e){return e.replace(/^[ \t]*#include +<([\w\d.]+)>/gm,function(e,a){e=Pa[a];if(void 0===e)throw Error("Can not resolve #include <"+a+">");return Zc(e)})}function Bb(e){return e.replace(/for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,function(e,a,b,c){e="";for(a=parseInt(a);a<
parseInt(b);a++)e+=c.replace(/\[ i \]/g,"[ "+a+" ]");return e})}function Cd(e,a,b,c,d){var l=e.context,r=b.extensions,v=b.defines,f=c.vertexShader,y=c.fragmentShader,g="SHADOWMAP_TYPE_BASIC";1===d.shadowMapType?g="SHADOWMAP_TYPE_PCF":2===d.shadowMapType&&(g="SHADOWMAP_TYPE_PCF_SOFT");var h="ENVMAP_TYPE_CUBE",k="ENVMAP_MODE_REFLECTION",n="ENVMAP_BLENDING_MULTIPLY";if(d.envMap){switch(b.envMap.mapping){case 301:case 302:h="ENVMAP_TYPE_CUBE";break;case 306:case 307:h="ENVMAP_TYPE_CUBE_UV";break;case 303:case 304:h=
"ENVMAP_TYPE_EQUIREC";break;case 305:h="ENVMAP_TYPE_SPHERE"}switch(b.envMap.mapping){case 302:case 304:k="ENVMAP_MODE_REFRACTION"}switch(b.combine){case 0:n="ENVMAP_BLENDING_MULTIPLY";break;case 1:n="ENVMAP_BLENDING_MIX";break;case 2:n="ENVMAP_BLENDING_ADD"}}var m=0<e.gammaFactor?e.gammaFactor:1;r=td(r,d,e.extensions);var p=Bc(v),q=l.createProgram();b.isRawShaderMaterial?(v=[p,"\n"].filter(bd).join("\n"),c=[r,p,"\n"].filter(bd).join("\n")):(v=["precision "+d.precision+" float;","precision "+d.precision+
" int;","#define SHADER_NAME "+c.name,p,d.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+m,"#define MAX_BONES "+d.maxBones,d.useFog&&d.fog?"#define USE_FOG":"",d.useFog&&d.fogExp?"#define FOG_EXP2":"",d.map?"#define USE_MAP":"",d.envMap?"#define USE_ENVMAP":"",d.envMap?"#define "+k:"",d.lightMap?"#define USE_LIGHTMAP":"",d.aoMap?"#define USE_AOMAP":"",d.emissiveMap?"#define USE_EMISSIVEMAP":"",d.bumpMap?"#define USE_BUMPMAP":"",d.normalMap?"#define USE_NORMALMAP":"",d.displacementMap&&
d.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",d.specularMap?"#define USE_SPECULARMAP":"",d.roughnessMap?"#define USE_ROUGHNESSMAP":"",d.metalnessMap?"#define USE_METALNESSMAP":"",d.alphaMap?"#define USE_ALPHAMAP":"",d.vertexColors?"#define USE_COLOR":"",d.flatShading?"#define FLAT_SHADED":"",d.skinning?"#define USE_SKINNING":"",d.useVertexTexture?"#define BONE_TEXTURE":"",d.morphTargets?"#define USE_MORPHTARGETS":"",d.morphNormals&&!1===d.flatShading?"#define USE_MORPHNORMALS":"",d.doubleSided?
"#define DOUBLE_SIDED":"",d.flipSided?"#define FLIP_SIDED":"","#define NUM_CLIPPING_PLANES "+d.numClippingPlanes,d.shadowMapEnabled?"#define USE_SHADOWMAP":"",d.shadowMapEnabled?"#define "+g:"",d.sizeAttenuation?"#define USE_SIZEATTENUATION":"",d.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",d.logarithmicDepthBuffer&&e.extensions.get("EXT_frag_depth")?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;",
"uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_COLOR","\tattribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;",
"\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(bd).join("\n"),c=[r,"precision "+d.precision+" float;","precision "+d.precision+" int;","#define SHADER_NAME "+c.name,p,d.alphaTest?"#define ALPHATEST "+d.alphaTest:"","#define GAMMA_FACTOR "+m,d.useFog&&d.fog?"#define USE_FOG":
"",d.useFog&&d.fogExp?"#define FOG_EXP2":"",d.map?"#define USE_MAP":"",d.envMap?"#define USE_ENVMAP":"",d.envMap?"#define "+h:"",d.envMap?"#define "+k:"",d.envMap?"#define "+n:"",d.lightMap?"#define USE_LIGHTMAP":"",d.aoMap?"#define USE_AOMAP":"",d.emissiveMap?"#define USE_EMISSIVEMAP":"",d.bumpMap?"#define USE_BUMPMAP":"",d.normalMap?"#define USE_NORMALMAP":"",d.specularMap?"#define USE_SPECULARMAP":"",d.roughnessMap?"#define USE_ROUGHNESSMAP":"",d.metalnessMap?"#define USE_METALNESSMAP":"",d.alphaMap?
"#define USE_ALPHAMAP":"",d.vertexColors?"#define USE_COLOR":"",d.gradientMap?"#define USE_GRADIENTMAP":"",d.flatShading?"#define FLAT_SHADED":"",d.doubleSided?"#define DOUBLE_SIDED":"",d.flipSided?"#define FLIP_SIDED":"","#define NUM_CLIPPING_PLANES "+d.numClippingPlanes,"#define UNION_CLIPPING_PLANES "+(d.numClippingPlanes-d.numClipIntersection),d.shadowMapEnabled?"#define USE_SHADOWMAP":"",d.shadowMapEnabled?"#define "+g:"",d.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",d.physicallyCorrectLights?
"#define PHYSICALLY_CORRECT_LIGHTS":"",d.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",d.logarithmicDepthBuffer&&e.extensions.get("EXT_frag_depth")?"#define USE_LOGDEPTHBUF_EXT":"",d.envMap&&e.extensions.get("EXT_shader_texture_lod")?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;",0!==d.toneMapping?"#define TONE_MAPPING":"",0!==d.toneMapping?Pa.tonemapping_pars_fragment:"",0!==d.toneMapping?ob("toneMapping",d.toneMapping):"",d.dithering?"#define DITHERING":
"",d.outputEncoding||d.mapEncoding||d.envMapEncoding||d.emissiveMapEncoding?Pa.encodings_pars_fragment:"",d.mapEncoding?tc("mapTexelToLinear",d.mapEncoding):"",d.envMapEncoding?tc("envMapTexelToLinear",d.envMapEncoding):"",d.emissiveMapEncoding?tc("emissiveMapTexelToLinear",d.emissiveMapEncoding):"",d.outputEncoding?nb("linearToOutputTexel",d.outputEncoding):"",d.depthPacking?"#define DEPTH_PACKING "+b.depthPacking:"","\n"].filter(bd).join("\n"));f=Zc(f);f=nd(f,d);y=Zc(y);y=nd(y,d);b.isShaderMaterial||
(f=Bb(f),y=Bb(y));y=c+y;f=Yc(l,l.VERTEX_SHADER,v+f);y=Yc(l,l.FRAGMENT_SHADER,y);l.attachShader(q,f);l.attachShader(q,y);void 0!==b.index0AttributeName?l.bindAttribLocation(q,0,b.index0AttributeName):!0===d.morphTargets&&l.bindAttribLocation(q,0,"position");l.linkProgram(q);d=l.getProgramInfoLog(q);g=l.getShaderInfoLog(f);h=l.getShaderInfoLog(y);n=k=!0;if(!1===l.getProgramParameter(q,l.LINK_STATUS))k=!1,console.error("THREE.WebGLProgram: shader error: ",l.getError(),"gl.VALIDATE_STATUS",l.getProgramParameter(q,
l.VALIDATE_STATUS),"gl.getProgramInfoLog",d,g,h);else if(""!==d)console.warn("THREE.WebGLProgram: gl.getProgramInfoLog()",d);else if(""===g||""===h)n=!1;n&&(this.diagnostics={runnable:k,material:b,programLog:d,vertexShader:{log:g,prefix:v},fragmentShader:{log:h,prefix:c}});l.deleteShader(f);l.deleteShader(y);var t;this.getUniforms=function(){void 0===t&&(t=new ka(l,q,e));return t};var Wa;this.getAttributes=function(){if(void 0===Wa){for(var e={},a=l.getProgramParameter(q,l.ACTIVE_ATTRIBUTES),b=0;b<
a;b++){var r=l.getActiveAttrib(q,b).name;e[r]=l.getAttribLocation(q,r)}Wa=e}return Wa};this.destroy=function(){l.deleteProgram(q);this.program=void 0};Object.defineProperties(this,{uniforms:{get:function(){console.warn("THREE.WebGLProgram: .uniforms is now .getUniforms().");return this.getUniforms()}},attributes:{get:function(){console.warn("THREE.WebGLProgram: .attributes is now .getAttributes().");return this.getAttributes()}}});this.id=Kf++;this.code=a;this.usedTimes=1;this.program=q;this.vertexShader=
f;this.fragmentShader=y;return this}function Cc(e,a){function l(e,a){if(e)e.isTexture?l=e.encoding:e.isWebGLRenderTarget&&(console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),l=e.texture.encoding);else var l=3E3;3E3===l&&a&&(l=3007);return l}var b=[],c={MeshDepthMaterial:"depth",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"phong",
MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points"},d="precision supportsVertexTextures map mapEncoding envMap envMapMode envMapEncoding lightMap aoMap emissiveMap emissiveMapEncoding bumpMap normalMap displacementMap specularMap roughnessMap metalnessMap gradientMap alphaMap combine vertexColors fog useFog fogExp flatShading sizeAttenuation logarithmicDepthBuffer skinning maxBones useVertexTexture morphTargets morphNormals maxMorphTargets maxMorphNormals premultipliedAlpha numDirLights numPointLights numSpotLights numHemiLights numRectAreaLights shadowMapEnabled shadowMapType toneMapping physicallyCorrectLights alphaTest doubleSided flipSided numClippingPlanes numClipIntersection depthPacking dithering".split(" ");
this.getParameters=function(b,r,v,d,f,y){var g=c[b.type];if(y.isSkinnedMesh){var D=y.skeleton.bones;if(a.floatVertexTextures)D=1024;else{var M=Math.min(Math.floor((a.maxVertexUniforms-20)/4),D.length);M<D.length?(console.warn("THREE.WebGLRenderer: Skeleton has "+D.length+" bones. This GPU supports "+M+"."),D=0):D=M}}else D=0;M=e.getPrecision();null!==b.precision&&(M=a.getMaxPrecision(b.precision),M!==b.precision&&console.warn("THREE.WebGLProgram.getParameters:",b.precision,"not supported, using",
M,"instead."));var h=e.getRenderTarget();return{shaderID:g,precision:M,supportsVertexTextures:a.vertexTextures,outputEncoding:l(h?h.texture:null,e.gammaOutput),map:!!b.map,mapEncoding:l(b.map,e.gammaInput),envMap:!!b.envMap,envMapMode:b.envMap&&b.envMap.mapping,envMapEncoding:l(b.envMap,e.gammaInput),envMapCubeUV:!!b.envMap&&(306===b.envMap.mapping||307===b.envMap.mapping),lightMap:!!b.lightMap,aoMap:!!b.aoMap,emissiveMap:!!b.emissiveMap,emissiveMapEncoding:l(b.emissiveMap,e.gammaInput),bumpMap:!!b.bumpMap,
normalMap:!!b.normalMap,displacementMap:!!b.displacementMap,roughnessMap:!!b.roughnessMap,metalnessMap:!!b.metalnessMap,specularMap:!!b.specularMap,alphaMap:!!b.alphaMap,gradientMap:!!b.gradientMap,combine:b.combine,vertexColors:b.vertexColors,fog:!!v,useFog:b.fog,fogExp:v&&v.isFogExp2,flatShading:1===b.shading,sizeAttenuation:b.sizeAttenuation,logarithmicDepthBuffer:a.logarithmicDepthBuffer,skinning:b.skinning&&0<D,maxBones:D,useVertexTexture:a.floatVertexTextures,morphTargets:b.morphTargets,morphNormals:b.morphNormals,
maxMorphTargets:e.maxMorphTargets,maxMorphNormals:e.maxMorphNormals,numDirLights:r.directional.length,numPointLights:r.point.length,numSpotLights:r.spot.length,numRectAreaLights:r.rectArea.length,numHemiLights:r.hemi.length,numClippingPlanes:d,numClipIntersection:f,dithering:b.dithering,shadowMapEnabled:e.shadowMap.enabled&&y.receiveShadow&&0<r.shadows.length,shadowMapType:e.shadowMap.type,toneMapping:e.toneMapping,physicallyCorrectLights:e.physicallyCorrectLights,premultipliedAlpha:b.premultipliedAlpha,
alphaTest:b.alphaTest,doubleSided:2===b.side,flipSided:1===b.side,depthPacking:void 0!==b.depthPacking?b.depthPacking:!1}};this.getProgramCode=function(a,l){var b=[];l.shaderID?b.push(l.shaderID):(b.push(a.fragmentShader),b.push(a.vertexShader));if(void 0!==a.defines)for(var r in a.defines)b.push(r),b.push(a.defines[r]);for(r=0;r<d.length;r++)b.push(l[d[r]]);b.push(a.onBeforeCompile.toString());b.push(e.gammaOutput);return b.join()};this.acquireProgram=function(a,l,r,c){for(var v,d=0,f=b.length;d<
f;d++){var y=b[d];if(y.code===c){v=y;++v.usedTimes;break}}void 0===v&&(v=new Cd(e,c,a,l,r),b.push(v));return v};this.releaseProgram=function(e){if(0===--e.usedTimes){var a=b.indexOf(e);b[a]=b[b.length-1];b.pop();e.destroy()}};this.programs=b}function $a(e,a,b,c,d,f,g){function l(e,a){if(e.width>a||e.height>a){a/=Math.max(e.width,e.height);var l=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");l.width=Math.floor(e.width*a);l.height=Math.floor(e.height*a);l.getContext("2d").drawImage(e,
0,0,e.width,e.height,0,0,l.width,l.height);console.warn("THREE.WebGLRenderer: image is too big ("+e.width+"x"+e.height+"). Resized to "+l.width+"x"+l.height,e);return l}return e}function r(e){return Fa.isPowerOfTwo(e.width)&&Fa.isPowerOfTwo(e.height)}function v(e,a){return e.generateMipmaps&&a&&1003!==e.minFilter&&1006!==e.minFilter}function y(a){return 1003===a||1004===a||1005===a?e.NEAREST:e.LINEAR}function D(a){a=a.target;a.removeEventListener("dispose",D);a:{var l=c.get(a);if(a.image&&l.__image__webglTextureCube)e.deleteTexture(l.__image__webglTextureCube);
else{if(void 0===l.__webglInit)break a;e.deleteTexture(l.__webglTexture)}c.remove(a)}g.textures--}function M(a){a=a.target;a.removeEventListener("dispose",M);var l=c.get(a),b=c.get(a.texture);if(a){void 0!==b.__webglTexture&&e.deleteTexture(b.__webglTexture);a.depthTexture&&a.depthTexture.dispose();if(a.isWebGLRenderTargetCube)for(b=0;6>b;b++)e.deleteFramebuffer(l.__webglFramebuffer[b]),l.__webglDepthbuffer&&e.deleteRenderbuffer(l.__webglDepthbuffer[b]);else e.deleteFramebuffer(l.__webglFramebuffer),
l.__webglDepthbuffer&&e.deleteRenderbuffer(l.__webglDepthbuffer);c.remove(a.texture);c.remove(a)}g.textures--}function h(a,y){var M=c.get(a);if(0<a.version&&M.__version!==a.version){var h=a.image;if(void 0===h)console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined",a);else if(!1===h.complete)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete",a);else{void 0===M.__webglInit&&(M.__webglInit=!0,a.addEventListener("dispose",D),M.__webglTexture=
e.createTexture(),g.textures++);b.activeTexture(e.TEXTURE0+y);b.bindTexture(e.TEXTURE_2D,M.__webglTexture);e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,a.flipY);e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,a.premultiplyAlpha);e.pixelStorei(e.UNPACK_ALIGNMENT,a.unpackAlignment);var P=l(a.image,d.maxTextureSize);(1001!==a.wrapS||1001!==a.wrapT||1003!==a.minFilter&&1006!==a.minFilter)&&!1===r(P)&&(y=P,y instanceof HTMLImageElement||y instanceof HTMLCanvasElement?(h=document.createElementNS("http://www.w3.org/1999/xhtml",
"canvas"),h.width=Fa.nearestPowerOfTwo(y.width),h.height=Fa.nearestPowerOfTwo(y.height),h.getContext("2d").drawImage(y,0,0,h.width,h.height),console.warn("THREE.WebGLRenderer: image is not power of two ("+y.width+"x"+y.height+"). Resized to "+h.width+"x"+h.height,y),P=h):P=y);y=r(P);h=f(a.format);var n=f(a.type);k(e.TEXTURE_2D,a,y);var na=a.mipmaps;if(a.isDepthTexture){na=e.DEPTH_COMPONENT;if(1015===a.type){if(!p)throw Error("Float Depth Texture only supported in WebGL2.0");na=e.DEPTH_COMPONENT32F}else p&&
(na=e.DEPTH_COMPONENT16);1026===a.format&&na===e.DEPTH_COMPONENT&&1012!==a.type&&1014!==a.type&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),a.type=1012,n=f(a.type));1027===a.format&&(na=e.DEPTH_STENCIL,1020!==a.type&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),a.type=1020,n=f(a.type)));b.texImage2D(e.TEXTURE_2D,0,na,P.width,P.height,0,h,n,null)}else if(a.isDataTexture)if(0<na.length&&
y){for(var m=0,Ha=na.length;m<Ha;m++)P=na[m],b.texImage2D(e.TEXTURE_2D,m,h,P.width,P.height,0,h,n,P.data);a.generateMipmaps=!1}else b.texImage2D(e.TEXTURE_2D,0,h,P.width,P.height,0,h,n,P.data);else if(a.isCompressedTexture)for(m=0,Ha=na.length;m<Ha;m++)P=na[m],1023!==a.format&&1022!==a.format?-1<b.getCompressedTextureFormats().indexOf(h)?b.compressedTexImage2D(e.TEXTURE_2D,m,h,P.width,P.height,0,P.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):
b.texImage2D(e.TEXTURE_2D,m,h,P.width,P.height,0,h,n,P.data);else if(0<na.length&&y){m=0;for(Ha=na.length;m<Ha;m++)P=na[m],b.texImage2D(e.TEXTURE_2D,m,h,h,n,P);a.generateMipmaps=!1}else b.texImage2D(e.TEXTURE_2D,0,h,h,n,P);v(a,y)&&e.generateMipmap(e.TEXTURE_2D);M.__version=a.version;if(a.onUpdate)a.onUpdate(a);return}}b.activeTexture(e.TEXTURE0+y);b.bindTexture(e.TEXTURE_2D,M.__webglTexture)}function k(l,b,r){r?(e.texParameteri(l,e.TEXTURE_WRAP_S,f(b.wrapS)),e.texParameteri(l,e.TEXTURE_WRAP_T,f(b.wrapT)),
e.texParameteri(l,e.TEXTURE_MAG_FILTER,f(b.magFilter)),e.texParameteri(l,e.TEXTURE_MIN_FILTER,f(b.minFilter))):(e.texParameteri(l,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(l,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),1001===b.wrapS&&1001===b.wrapT||console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping.",b),e.texParameteri(l,e.TEXTURE_MAG_FILTER,y(b.magFilter)),e.texParameteri(l,e.TEXTURE_MIN_FILTER,y(b.minFilter)),
1003!==b.minFilter&&1006!==b.minFilter&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.",b));!(r=a.get("EXT_texture_filter_anisotropic"))||1015===b.type&&null===a.get("OES_texture_float_linear")||1016===b.type&&null===a.get("OES_texture_half_float_linear")||!(1<b.anisotropy||c.get(b).__currentAnisotropy)||(e.texParameterf(l,r.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(b.anisotropy,d.getMaxAnisotropy())),c.get(b).__currentAnisotropy=
b.anisotropy)}function n(a,l,r,v){var d=f(l.texture.format),y=f(l.texture.type);b.texImage2D(v,0,d,l.width,l.height,0,d,y,null);e.bindFramebuffer(e.FRAMEBUFFER,a);e.framebufferTexture2D(e.FRAMEBUFFER,r,v,c.get(l.texture).__webglTexture,0);e.bindFramebuffer(e.FRAMEBUFFER,null)}function m(a,l){e.bindRenderbuffer(e.RENDERBUFFER,a);l.depthBuffer&&!l.stencilBuffer?(e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_COMPONENT16,l.width,l.height),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.RENDERBUFFER,
a)):l.depthBuffer&&l.stencilBuffer?(e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_STENCIL,l.width,l.height),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.RENDERBUFFER,a)):e.renderbufferStorage(e.RENDERBUFFER,e.RGBA4,l.width,l.height);e.bindRenderbuffer(e.RENDERBUFFER,null)}var p="undefined"!==typeof WebGL2RenderingContext&&e instanceof WebGL2RenderingContext;this.setTexture2D=h;this.setTextureCube=function(a,y){var M=c.get(a);if(6===a.image.length)if(0<a.version&&M.__version!==
a.version){M.__image__webglTextureCube||(a.addEventListener("dispose",D),M.__image__webglTextureCube=e.createTexture(),g.textures++);b.activeTexture(e.TEXTURE0+y);b.bindTexture(e.TEXTURE_CUBE_MAP,M.__image__webglTextureCube);e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,a.flipY);y=a&&a.isCompressedTexture;for(var h=a.image[0]&&a.image[0].isDataTexture,P=[],n=0;6>n;n++)P[n]=y||h?h?a.image[n].image:a.image[n]:l(a.image[n],d.maxCubemapSize);var na=r(P[0]),m=f(a.format),Ha=f(a.type);k(e.TEXTURE_CUBE_MAP,a,na);
for(n=0;6>n;n++)if(y)for(var C,ja=P[n].mipmaps,da=0,p=ja.length;da<p;da++)C=ja[da],1023!==a.format&&1022!==a.format?-1<b.getCompressedTextureFormats().indexOf(m)?b.compressedTexImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+n,da,m,C.width,C.height,0,C.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):b.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+n,da,m,C.width,C.height,0,m,Ha,C.data);else h?b.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+n,0,m,P[n].width,
P[n].height,0,m,Ha,P[n].data):b.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+n,0,m,m,Ha,P[n]);v(a,na)&&e.generateMipmap(e.TEXTURE_CUBE_MAP);M.__version=a.version;if(a.onUpdate)a.onUpdate(a)}else b.activeTexture(e.TEXTURE0+y),b.bindTexture(e.TEXTURE_CUBE_MAP,M.__image__webglTextureCube)};this.setTextureCubeDynamic=function(a,l){b.activeTexture(e.TEXTURE0+l);b.bindTexture(e.TEXTURE_CUBE_MAP,c.get(a).__webglTexture)};this.setupRenderTarget=function(a){var l=c.get(a),d=c.get(a.texture);a.addEventListener("dispose",
M);d.__webglTexture=e.createTexture();g.textures++;var f=!0===a.isWebGLRenderTargetCube,y=r(a);if(f){l.__webglFramebuffer=[];for(var D=0;6>D;D++)l.__webglFramebuffer[D]=e.createFramebuffer()}else l.__webglFramebuffer=e.createFramebuffer();if(f){b.bindTexture(e.TEXTURE_CUBE_MAP,d.__webglTexture);k(e.TEXTURE_CUBE_MAP,a.texture,y);for(D=0;6>D;D++)n(l.__webglFramebuffer[D],a,e.COLOR_ATTACHMENT0,e.TEXTURE_CUBE_MAP_POSITIVE_X+D);v(a.texture,y)&&e.generateMipmap(e.TEXTURE_CUBE_MAP);b.bindTexture(e.TEXTURE_CUBE_MAP,
null)}else b.bindTexture(e.TEXTURE_2D,d.__webglTexture),k(e.TEXTURE_2D,a.texture,y),n(l.__webglFramebuffer,a,e.COLOR_ATTACHMENT0,e.TEXTURE_2D),v(a.texture,y)&&e.generateMipmap(e.TEXTURE_2D),b.bindTexture(e.TEXTURE_2D,null);if(a.depthBuffer){l=c.get(a);d=!0===a.isWebGLRenderTargetCube;if(a.depthTexture){if(d)throw Error("target.depthTexture not supported in Cube render targets");if(a&&a.isWebGLRenderTargetCube)throw Error("Depth Texture with cube render targets is not supported!");e.bindFramebuffer(e.FRAMEBUFFER,
l.__webglFramebuffer);if(!a.depthTexture||!a.depthTexture.isDepthTexture)throw Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");c.get(a.depthTexture).__webglTexture&&a.depthTexture.image.width===a.width&&a.depthTexture.image.height===a.height||(a.depthTexture.image.width=a.width,a.depthTexture.image.height=a.height,a.depthTexture.needsUpdate=!0);h(a.depthTexture,0);l=c.get(a.depthTexture).__webglTexture;if(1026===a.depthTexture.format)e.framebufferTexture2D(e.FRAMEBUFFER,
e.DEPTH_ATTACHMENT,e.TEXTURE_2D,l,0);else if(1027===a.depthTexture.format)e.framebufferTexture2D(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.TEXTURE_2D,l,0);else throw Error("Unknown depthTexture format");}else if(d)for(l.__webglDepthbuffer=[],d=0;6>d;d++)e.bindFramebuffer(e.FRAMEBUFFER,l.__webglFramebuffer[d]),l.__webglDepthbuffer[d]=e.createRenderbuffer(),m(l.__webglDepthbuffer[d],a);else e.bindFramebuffer(e.FRAMEBUFFER,l.__webglFramebuffer),l.__webglDepthbuffer=e.createRenderbuffer(),m(l.__webglDepthbuffer,
a);e.bindFramebuffer(e.FRAMEBUFFER,null)}};this.updateRenderTargetMipmap=function(a){var l=a.texture,d=r(a);v(l,d)&&(a=a.isWebGLRenderTargetCube?e.TEXTURE_CUBE_MAP:e.TEXTURE_2D,l=c.get(l).__webglTexture,b.bindTexture(a,l),e.generateMipmap(a),b.bindTexture(a,null))}}function uc(){var e={};return{get:function(a){a=a.uuid;var l=e[a];void 0===l&&(l={},e[a]=l);return l},remove:function(a){delete e[a.uuid]},clear:function(){e={}}}}function vc(e,a,b){function l(a,l,b){var r=new Uint8Array(4),c=e.createTexture();
e.bindTexture(a,c);e.texParameteri(a,e.TEXTURE_MIN_FILTER,e.NEAREST);e.texParameteri(a,e.TEXTURE_MAG_FILTER,e.NEAREST);for(a=0;a<b;a++)e.texImage2D(l+a,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,r);return c}function r(a){!0!==u[a]&&(e.enable(a),u[a]=!0)}function c(a){!1!==u[a]&&(e.disable(a),u[a]=!1)}function d(a,l,v,d,f,y,g,D){0!==a?r(e.BLEND):c(e.BLEND);5===a||a===X&&D===ea||(2===a?D?(e.blendEquationSeparate(e.FUNC_ADD,e.FUNC_ADD),e.blendFuncSeparate(e.ONE,e.ONE,e.ONE,e.ONE)):(e.blendEquation(e.FUNC_ADD),
e.blendFunc(e.SRC_ALPHA,e.ONE)):3===a?D?(e.blendEquationSeparate(e.FUNC_ADD,e.FUNC_ADD),e.blendFuncSeparate(e.ZERO,e.ZERO,e.ONE_MINUS_SRC_COLOR,e.ONE_MINUS_SRC_ALPHA)):(e.blendEquation(e.FUNC_ADD),e.blendFunc(e.ZERO,e.ONE_MINUS_SRC_COLOR)):4===a?D?(e.blendEquationSeparate(e.FUNC_ADD,e.FUNC_ADD),e.blendFuncSeparate(e.ZERO,e.SRC_COLOR,e.ZERO,e.SRC_ALPHA)):(e.blendEquation(e.FUNC_ADD),e.blendFunc(e.ZERO,e.SRC_COLOR)):D?(e.blendEquationSeparate(e.FUNC_ADD,e.FUNC_ADD),e.blendFuncSeparate(e.ONE,e.ONE_MINUS_SRC_ALPHA,
e.ONE,e.ONE_MINUS_SRC_ALPHA)):(e.blendEquationSeparate(e.FUNC_ADD,e.FUNC_ADD),e.blendFuncSeparate(e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA)),X=a,ea=D);if(5===a){f=f||l;y=y||v;g=g||d;if(l!==K||f!==E)e.blendEquationSeparate(b(l),b(f)),K=l,E=f;if(v!==z||d!==B||y!==H||g!==F)e.blendFuncSeparate(b(v),b(d),b(y),b(g)),z=v,B=d,H=y,F=g}else F=H=E=B=z=K=null}function f(a){G!==a&&(a?e.frontFace(e.CW):e.frontFace(e.CCW),G=a)}function g(a){0!==a?(r(e.CULL_FACE),a!==ka&&(1===a?e.cullFace(e.BACK):
2===a?e.cullFace(e.FRONT):e.cullFace(e.FRONT_AND_BACK))):c(e.CULL_FACE);ka=a}function h(a,l,b){if(a){if(r(e.POLYGON_OFFSET_FILL),fa!==l||N!==b)e.polygonOffset(l,b),fa=l,N=b}else c(e.POLYGON_OFFSET_FILL)}function k(a){void 0===a&&(a=e.TEXTURE0+R-1);L!==a&&(e.activeTexture(a),L=a)}var m=new function(){var a=!1,l=new n,b=null,r=new n;return{setMask:function(l){b===l||a||(e.colorMask(l,l,l,l),b=l)},setLocked:function(e){a=e},setClear:function(a,b,c,v,d){!0===d&&(a*=v,b*=v,c*=v);l.set(a,b,c,v);!1===r.equals(l)&&
(e.clearColor(a,b,c,v),r.copy(l))},reset:function(){a=!1;b=null;r.set(0,0,0,1)}}},C=new function(){var a=!1,l=null,b=null,v=null;return{setTest:function(a){a?r(e.DEPTH_TEST):c(e.DEPTH_TEST)},setMask:function(b){l===b||a||(e.depthMask(b),l=b)},setFunc:function(a){if(b!==a){if(a)switch(a){case 0:e.depthFunc(e.NEVER);break;case 1:e.depthFunc(e.ALWAYS);break;case 2:e.depthFunc(e.LESS);break;case 3:e.depthFunc(e.LEQUAL);break;case 4:e.depthFunc(e.EQUAL);break;case 5:e.depthFunc(e.GEQUAL);break;case 6:e.depthFunc(e.GREATER);
break;case 7:e.depthFunc(e.NOTEQUAL);break;default:e.depthFunc(e.LEQUAL)}else e.depthFunc(e.LEQUAL);b=a}},setLocked:function(e){a=e},setClear:function(a){v!==a&&(e.clearDepth(a),v=a)},reset:function(){a=!1;v=b=l=null}}},p=new function(){var a=!1,l=null,b=null,v=null,d=null,f=null,y=null,g=null,D=null;return{setTest:function(a){a?r(e.STENCIL_TEST):c(e.STENCIL_TEST)},setMask:function(b){l===b||a||(e.stencilMask(b),l=b)},setFunc:function(a,l,r){if(b!==a||v!==l||d!==r)e.stencilFunc(a,l,r),b=a,v=l,d=r},
setOp:function(a,l,b){if(f!==a||y!==l||g!==b)e.stencilOp(a,l,b),f=a,y=l,g=b},setLocked:function(e){a=e},setClear:function(a){D!==a&&(e.clearStencil(a),D=a)},reset:function(){a=!1;D=g=y=f=d=v=b=l=null}}},q=e.getParameter(e.MAX_VERTEX_ATTRIBS),t=new Uint8Array(q),w=new Uint8Array(q),x=new Uint8Array(q),u={},A=null,X=null,K=null,z=null,B=null,E=null,H=null,F=null,ea=!1,G=null,ka=null,U=null,fa=null,N=null,Q=null,R=e.getParameter(e.MAX_COMBINED_TEXTURE_IMAGE_UNITS);q=parseFloat(/^WebGL\ ([0-9])/.exec(e.getParameter(e.VERSION))[1]);
var O=1<=parseFloat(q),L=null,V={},W=new n,pa=new n,S={};S[e.TEXTURE_2D]=l(e.TEXTURE_2D,e.TEXTURE_2D,1);S[e.TEXTURE_CUBE_MAP]=l(e.TEXTURE_CUBE_MAP,e.TEXTURE_CUBE_MAP_POSITIVE_X,6);return{buffers:{color:m,depth:C,stencil:p},init:function(){m.setClear(0,0,0,1);C.setClear(1);p.setClear(0);r(e.DEPTH_TEST);C.setFunc(3);f(!1);g(1);r(e.CULL_FACE);r(e.BLEND);d(1)},initAttributes:function(){for(var e=0,a=t.length;e<a;e++)t[e]=0},enableAttribute:function(l){t[l]=1;0===w[l]&&(e.enableVertexAttribArray(l),w[l]=
1);0!==x[l]&&(a.get("ANGLE_instanced_arrays").vertexAttribDivisorANGLE(l,0),x[l]=0)},enableAttributeAndDivisor:function(l,b){t[l]=1;0===w[l]&&(e.enableVertexAttribArray(l),w[l]=1);x[l]!==b&&(a.get("ANGLE_instanced_arrays").vertexAttribDivisorANGLE(l,b),x[l]=b)},disableUnusedAttributes:function(){for(var a=0,l=w.length;a!==l;++a)w[a]!==t[a]&&(e.disableVertexAttribArray(a),w[a]=0)},enable:r,disable:c,getCompressedTextureFormats:function(){if(null===A&&(A=[],a.get("WEBGL_compressed_texture_pvrtc")||
a.get("WEBGL_compressed_texture_s3tc")||a.get("WEBGL_compressed_texture_etc1")))for(var l=e.getParameter(e.COMPRESSED_TEXTURE_FORMATS),b=0;b<l.length;b++)A.push(l[b]);return A},setBlending:d,setMaterial:function(a){2===a.side?c(e.CULL_FACE):r(e.CULL_FACE);f(1===a.side);!0===a.transparent?d(a.blending,a.blendEquation,a.blendSrc,a.blendDst,a.blendEquationAlpha,a.blendSrcAlpha,a.blendDstAlpha,a.premultipliedAlpha):d(0);C.setFunc(a.depthFunc);C.setTest(a.depthTest);C.setMask(a.depthWrite);m.setMask(a.colorWrite);
h(a.polygonOffset,a.polygonOffsetFactor,a.polygonOffsetUnits)},setFlipSided:f,setCullFace:g,setLineWidth:function(a){a!==U&&(O&&e.lineWidth(a),U=a)},setPolygonOffset:h,getScissorTest:function(){return Q},setScissorTest:function(a){(Q=a)?r(e.SCISSOR_TEST):c(e.SCISSOR_TEST)},activeTexture:k,bindTexture:function(a,l){null===L&&k();var b=V[L];void 0===b&&(b={type:void 0,texture:void 0},V[L]=b);if(b.type!==a||b.texture!==l)e.bindTexture(a,l||S[a]),b.type=a,b.texture=l},compressedTexImage2D:function(){try{e.compressedTexImage2D.apply(e,
arguments)}catch(Te){console.error("THREE.WebGLState:",Te)}},texImage2D:function(){try{e.texImage2D.apply(e,arguments)}catch(Te){console.error("THREE.WebGLState:",Te)}},scissor:function(a){!1===W.equals(a)&&(e.scissor(a.x,a.y,a.z,a.w),W.copy(a))},viewport:function(a){!1===pa.equals(a)&&(e.viewport(a.x,a.y,a.z,a.w),pa.copy(a))},reset:function(){for(var a=0;a<w.length;a++)1===w[a]&&(e.disableVertexAttribArray(a),w[a]=0);u={};L=A=null;V={};ka=G=X=null;m.reset();C.reset();p.reset()}}}function La(e,a,
b){function l(a){if("highp"===a){if(0<e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.HIGH_FLOAT).precision&&0<e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_FLOAT).precision)return"highp";a="mediump"}return"mediump"===a&&0<e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.MEDIUM_FLOAT).precision&&0<e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.MEDIUM_FLOAT).precision?"mediump":"lowp"}var r,c=void 0!==b.precision?b.precision:"highp",d=l(c);d!==c&&(console.warn("THREE.WebGLRenderer:",c,"not supported, using",
d,"instead."),c=d);b=!0===b.logarithmicDepthBuffer&&!!a.get("EXT_frag_depth");d=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS);var f=e.getParameter(e.MAX_VERTEX_TEXTURE_IMAGE_UNITS),g=e.getParameter(e.MAX_TEXTURE_SIZE),h=e.getParameter(e.MAX_CUBE_MAP_TEXTURE_SIZE),k=e.getParameter(e.MAX_VERTEX_ATTRIBS),n=e.getParameter(e.MAX_VERTEX_UNIFORM_VECTORS),m=e.getParameter(e.MAX_VARYING_VECTORS),p=e.getParameter(e.MAX_FRAGMENT_UNIFORM_VECTORS),q=0<f,t=!!a.get("OES_texture_float");return{getMaxAnisotropy:function(){if(void 0!==
r)return r;var l=a.get("EXT_texture_filter_anisotropic");return r=null!==l?e.getParameter(l.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0},getMaxPrecision:l,precision:c,logarithmicDepthBuffer:b,maxTextures:d,maxVertexTextures:f,maxTextureSize:g,maxCubemapSize:h,maxAttributes:k,maxVertexUniforms:n,maxVaryings:m,maxFragmentUniforms:p,vertexTextures:q,floatFragmentTextures:t,floatVertexTextures:q&&t}}function Lb(e){Qa.call(this);this.cameras=e||[]}function xd(e){var a=this,b=null,c=null;"VRFrameData"in window&&
(c=new window.VRFrameData);var d=new t,f=new t,g=new t,h=new Qa;h.bounds=new n(0,0,.5,1);h.layers.enable(1);var k=new Qa;k.bounds=new n(.5,0,.5,1);k.layers.enable(2);var m=new Lb([h,k]);m.layers.enable(1);m.layers.enable(2);var da,ja;window.addEventListener("vrdisplaypresentchange",function(){if(b.isPresenting){var l=b.getEyeParameters("left"),r=l.renderWidth;l=l.renderHeight;ja=e.getPixelRatio();da=e.getSize();e.setDrawingBufferSize(2*r,l,1)}else a.enabled&&e.setDrawingBufferSize(da.width,da.height,
ja)},!1);this.standing=this.enabled=!1;this.getDevice=function(){return b};this.setDevice=function(e){void 0!==e&&(b=e)};this.getCamera=function(e){if(null===b)return e;b.depthNear=e.near;b.depthFar=e.far;b.getFrameData(c);var a=c.pose;null!==a.position?e.position.fromArray(a.position):e.position.set(0,0,0);null!==a.orientation&&e.quaternion.fromArray(a.orientation);e.updateMatrixWorld();a=b.stageParameters;this.standing&&a&&(f.fromArray(a.sittingToStandingTransform),g.getInverse(f),e.matrixWorld.multiply(f),
e.matrixWorldInverse.multiply(g));if(!1===b.isPresenting)return e;m.matrixWorld.copy(e.matrixWorld);m.matrixWorldInverse.copy(e.matrixWorldInverse);h.matrixWorldInverse.fromArray(c.leftViewMatrix);k.matrixWorldInverse.fromArray(c.rightViewMatrix);this.standing&&a&&(h.matrixWorldInverse.multiply(g),k.matrixWorldInverse.multiply(g));e=e.parent;null!==e&&(d.getInverse(e.matrixWorld),h.matrixWorldInverse.multiply(d),k.matrixWorldInverse.multiply(d));h.matrixWorld.getInverse(h.matrixWorldInverse);k.matrixWorld.getInverse(k.matrixWorldInverse);
h.projectionMatrix.fromArray(c.leftProjectionMatrix);k.projectionMatrix.fromArray(c.rightProjectionMatrix);m.projectionMatrix.copy(h.projectionMatrix);e=b.getLayers();e.length&&(e=e[0],null!==e.leftBounds&&4===e.leftBounds.length&&h.bounds.fromArray(e.leftBounds),null!==e.rightBounds&&4===e.rightBounds.length&&k.bounds.fromArray(e.rightBounds));return m};this.getStandingMatrix=function(){return f};this.submitFrame=function(){b&&b.isPresenting&&b.submitFrame()}}function jb(e){var a={};return{get:function(l){if(void 0!==
a[l])return a[l];switch(l){case "WEBGL_depth_texture":var b=e.getExtension("WEBGL_depth_texture")||e.getExtension("MOZ_WEBGL_depth_texture")||e.getExtension("WEBKIT_WEBGL_depth_texture");break;case "EXT_texture_filter_anisotropic":b=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case "WEBGL_compressed_texture_s3tc":b=e.getExtension("WEBGL_compressed_texture_s3tc")||e.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||
e.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case "WEBGL_compressed_texture_pvrtc":b=e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;case "WEBGL_compressed_texture_etc1":b=e.getExtension("WEBGL_compressed_texture_etc1");break;default:b=e.getExtension(l)}null===b&&console.warn("THREE.WebGLRenderer: "+l+" extension not supported.");return a[l]=b}}}function lc(){function e(){m.value!==c&&(m.value=c,m.needsUpdate=0<d);b.numPlanes=
d;b.numIntersection=0}function a(e,a,l,r){var c=null!==e?e.length:0,v=null;if(0!==c){v=m.value;if(!0!==r||null===v){r=l+4*c;a=a.matrixWorldInverse;n.getNormalMatrix(a);if(null===v||v.length<r)v=new Float32Array(r);for(r=0;r!==c;++r,l+=4)k.copy(e[r]).applyMatrix4(a,n),k.normal.toArray(v,l),v[l+3]=k.constant}m.value=v;m.needsUpdate=!0}b.numPlanes=c;return v}var b=this,c=null,d=0,f=!1,g=!1,k=new Xa,n=new h,m={value:null,needsUpdate:!1};this.uniform=m;this.numIntersection=this.numPlanes=0;this.init=function(e,
l,b){var r=0!==e.length||l||0!==d||f;f=l;c=a(e,b,0);d=e.length;return r};this.beginShadows=function(){g=!0;a(null)};this.endShadows=function(){g=!1;e()};this.setState=function(l,b,r,v,y,D){if(!f||null===l||0===l.length||g&&!r)g?a(null):e();else{r=g?0:d;var M=4*r,h=y.clippingState||null;m.value=h;h=a(l,v,M,D);for(l=0;l!==M;++l)h[l]=c[l];y.clippingState=h;this.numIntersection=b?this.numPlanes:0;this.numPlanes+=r}}}function Nc(e){function a(){ba.init();ba.scissor(Y.copy(aa).multiplyScalar(xa));ba.viewport(ra.copy(la).multiplyScalar(xa))}
function r(){pa=R=null;W="";V=-1;ba.reset()}function c(e){e.preventDefault();r();a();Ma.clear();Ea.clear()}function d(e){e=e.target;e.removeEventListener("dispose",d);f(e);Ma.remove(e)}function f(e){var a=Ma.get(e).program;e.program=void 0;void 0!==a&&Ba.releaseProgram(a)}function g(e,a,l){e.render(function(e){Q.renderBufferImmediate(e,a,l)})}function h(e,a){return Math.abs(a[0])-Math.abs(e[0])}function k(e,a,l){if(e.visible){if(e.layers.test(a.layers))if(e.isLight)ea.push(e);else if(e.isSprite)e.frustumCulled&&
!qa.intersectsSprite(e)||fa.push(e);else if(e.isLensFlare)N.push(e);else if(e.isImmediateRenderObject)l&&Na.setFromMatrixPosition(e.matrixWorld).applyMatrix4(sa),G.push(e,null,e.material,Na.z,null);else if(e.isMesh||e.isLine||e.isPoints)if(e.isSkinnedMesh&&e.skeleton.update(),!e.frustumCulled||qa.intersectsObject(e)){l&&Na.setFromMatrixPosition(e.matrixWorld).applyMatrix4(sa);var b=Ea.update(e),r=e.material;if(Array.isArray(r))for(var c=b.groups,v=0,d=c.length;v<d;v++){var f=c[v],y=r[f.materialIndex];
y&&y.visible&&G.push(e,b,y,Na.z,f)}else r.visible&&G.push(e,b,r,Na.z,null)}e=e.children;v=0;for(d=e.length;v<d;v++)k(e[v],a,l)}}function m(e,a,l,b){for(var r=0,c=e.length;r<c;r++){var v=e[r],d=v.object,f=v.geometry,y=void 0===b?v.material:b;v=v.group;if(l.isArrayCamera){S=l;for(var g=l.cameras,D=0,M=g.length;D<M;D++){var h=g[D];if(d.layers.test(h.layers)){var k=h.bounds,P=k.x*ta,m=k.y*J,n=k.z*ta;k=k.w*J;Q.setViewport(P,m,n,k);Q.setScissor(P,m,n,k);Q.setScissorTest(!0);da(d,a,h,f,y,v)}}}else S=null,
da(d,a,l,f,y,v)}}function da(e,a,l,b,r,c){e.modelViewMatrix.multiplyMatrices(l.matrixWorldInverse,e.matrixWorld);e.normalMatrix.getNormalMatrix(e.modelViewMatrix);e.onBeforeRender(Q,a,l,b,r,c);if(e.isImmediateRenderObject){ba.setMaterial(r);var v=C(l,a.fog,r,e);W="";g(e,v,r)}else Q.renderBufferDirect(l,a.fog,b,r,e,c);e.onAfterRender(Q,a,l,b,r,c)}function ja(e,a,l){var b=Ma.get(e);l=Ba.getParameters(e,T,a,oa.numPlanes,oa.numIntersection,l);var r=Ba.getProgramCode(e,l),c=b.program,v=!0;if(void 0===
c)e.addEventListener("dispose",d);else if(c.code!==r)f(e);else{if(void 0!==l.shaderID)return;v=!1}v&&(l.shaderID?(c=Fd[l.shaderID],b.shader={name:e.type,uniforms:qc.clone(c.uniforms),vertexShader:c.vertexShader,fragmentShader:c.fragmentShader}):b.shader={name:e.type,uniforms:e.uniforms,vertexShader:e.vertexShader,fragmentShader:e.fragmentShader},e.onBeforeCompile(b.shader),c=Ba.acquireProgram(e,b.shader,l,r),b.program=c,e.program=c);l=c.getAttributes();if(e.morphTargets)for(r=e.numSupportedMorphTargets=
0;r<Q.maxMorphTargets;r++)0<=l["morphTarget"+r]&&e.numSupportedMorphTargets++;if(e.morphNormals)for(r=e.numSupportedMorphNormals=0;r<Q.maxMorphNormals;r++)0<=l["morphNormal"+r]&&e.numSupportedMorphNormals++;l=b.shader.uniforms;if(!e.isShaderMaterial&&!e.isRawShaderMaterial||!0===e.clipping)b.numClippingPlanes=oa.numPlanes,b.numIntersection=oa.numIntersection,l.clippingPlanes=oa.uniform;b.fog=a;b.lightsHash=T.hash;e.lights&&(l.ambientLightColor.value=T.ambient,l.directionalLights.value=T.directional,
l.spotLights.value=T.spot,l.rectAreaLights.value=T.rectArea,l.pointLights.value=T.point,l.hemisphereLights.value=T.hemi,l.directionalShadowMap.value=T.directionalShadowMap,l.directionalShadowMatrix.value=T.directionalShadowMatrix,l.spotShadowMap.value=T.spotShadowMap,l.spotShadowMatrix.value=T.spotShadowMatrix,l.pointShadowMap.value=T.pointShadowMap,l.pointShadowMatrix.value=T.pointShadowMatrix);e=b.program.getUniforms();e=ka.seqWithValue(e.seq,l);b.uniformsList=e}function C(e,a,l,b){Ca=0;var r=Ma.get(l);
Oa&&(ma||e!==pa)&&oa.setState(l.clippingPlanes,l.clipIntersection,l.clipShadows,e,r,e===pa&&l.id===V);!1===l.needsUpdate&&(void 0===r.program?l.needsUpdate=!0:l.fog&&r.fog!==a?l.needsUpdate=!0:l.lights&&r.lightsHash!==T.hash?l.needsUpdate=!0:void 0===r.numClippingPlanes||r.numClippingPlanes===oa.numPlanes&&r.numIntersection===oa.numIntersection||(l.needsUpdate=!0));l.needsUpdate&&(ja(l,a,b),l.needsUpdate=!1);var c=!1,v=!1,d=!1,f=r.program,y=f.getUniforms(),g=r.shader.uniforms;f.id!==R&&(I.useProgram(f.program),
R=f.id,d=v=c=!0);l.id!==V&&(V=l.id,v=!0);if(c||e!==pa){y.setValue(I,"projectionMatrix",e.projectionMatrix);wa.logarithmicDepthBuffer&&y.setValue(I,"logDepthBufFC",2/(Math.log(e.far+1)/Math.LN2));pa!==(S||e)&&(pa=S||e,d=v=!0);if(l.isShaderMaterial||l.isMeshPhongMaterial||l.isMeshStandardMaterial||l.envMap)c=y.map.cameraPosition,void 0!==c&&c.setValue(I,Na.setFromMatrixPosition(e.matrixWorld));(l.isMeshPhongMaterial||l.isMeshLambertMaterial||l.isMeshBasicMaterial||l.isMeshStandardMaterial||l.isShaderMaterial||
l.skinning)&&y.setValue(I,"viewMatrix",e.matrixWorldInverse)}if(l.skinning&&(y.setOptional(I,b,"bindMatrix"),y.setOptional(I,b,"bindMatrixInverse"),e=b.skeleton))if(c=e.bones,wa.floatVertexTextures){if(void 0===e.boneTexture){c=Math.sqrt(4*c.length);c=Fa.nextPowerOfTwo(Math.ceil(c));c=Math.max(c,4);var D=new Float32Array(c*c*4);D.set(e.boneMatrices);var M=new x(D,c,c,1023,1015);e.boneMatrices=D;e.boneTexture=M;e.boneTextureSize=c}y.setValue(I,"boneTexture",e.boneTexture);y.setValue(I,"boneTextureSize",
e.boneTextureSize)}else y.setOptional(I,e,"boneMatrices");if(v){y.setValue(I,"toneMappingExposure",Q.toneMappingExposure);y.setValue(I,"toneMappingWhitePoint",Q.toneMappingWhitePoint);l.lights&&(v=d,g.ambientLightColor.needsUpdate=v,g.directionalLights.needsUpdate=v,g.pointLights.needsUpdate=v,g.spotLights.needsUpdate=v,g.rectAreaLights.needsUpdate=v,g.hemisphereLights.needsUpdate=v);a&&l.fog&&(g.fogColor.value=a.color,a.isFog?(g.fogNear.value=a.near,g.fogFar.value=a.far):a.isFogExp2&&(g.fogDensity.value=
a.density));if(l.isMeshBasicMaterial||l.isMeshLambertMaterial||l.isMeshPhongMaterial||l.isMeshStandardMaterial||l.isMeshNormalMaterial||l.isMeshDepthMaterial){g.opacity.value=l.opacity;g.diffuse.value=l.color;l.emissive&&g.emissive.value.copy(l.emissive).multiplyScalar(l.emissiveIntensity);g.map.value=l.map;g.specularMap.value=l.specularMap;g.alphaMap.value=l.alphaMap;l.lightMap&&(g.lightMap.value=l.lightMap,g.lightMapIntensity.value=l.lightMapIntensity);l.aoMap&&(g.aoMap.value=l.aoMap,g.aoMapIntensity.value=
l.aoMapIntensity);if(l.map)var h=l.map;else l.specularMap?h=l.specularMap:l.displacementMap?h=l.displacementMap:l.normalMap?h=l.normalMap:l.bumpMap?h=l.bumpMap:l.roughnessMap?h=l.roughnessMap:l.metalnessMap?h=l.metalnessMap:l.alphaMap?h=l.alphaMap:l.emissiveMap&&(h=l.emissiveMap);void 0!==h&&(h.isWebGLRenderTarget&&(h=h.texture),a=h.offset,h=h.repeat,g.offsetRepeat.value.set(a.x,a.y,h.x,h.y));g.envMap.value=l.envMap;g.flipEnvMap.value=l.envMap&&l.envMap.isCubeTexture?-1:1;g.reflectivity.value=l.reflectivity;
g.refractionRatio.value=l.refractionRatio}l.isLineBasicMaterial?(g.diffuse.value=l.color,g.opacity.value=l.opacity):l.isLineDashedMaterial?(g.diffuse.value=l.color,g.opacity.value=l.opacity,g.dashSize.value=l.dashSize,g.totalSize.value=l.dashSize+l.gapSize,g.scale.value=l.scale):l.isPointsMaterial?(g.diffuse.value=l.color,g.opacity.value=l.opacity,g.size.value=l.size*xa,g.scale.value=.5*J,g.map.value=l.map,null!==l.map&&(h=l.map.offset,l=l.map.repeat,g.offsetRepeat.value.set(h.x,h.y,l.x,l.y))):l.isMeshLambertMaterial?
l.emissiveMap&&(g.emissiveMap.value=l.emissiveMap):l.isMeshToonMaterial?(p(g,l),l.gradientMap&&(g.gradientMap.value=l.gradientMap)):l.isMeshPhongMaterial?p(g,l):l.isMeshPhysicalMaterial?(g.clearCoat.value=l.clearCoat,g.clearCoatRoughness.value=l.clearCoatRoughness,q(g,l)):l.isMeshStandardMaterial?q(g,l):l.isMeshDepthMaterial?l.displacementMap&&(g.displacementMap.value=l.displacementMap,g.displacementScale.value=l.displacementScale,g.displacementBias.value=l.displacementBias):l.isMeshNormalMaterial&&
(l.bumpMap&&(g.bumpMap.value=l.bumpMap,g.bumpScale.value=l.bumpScale),l.normalMap&&(g.normalMap.value=l.normalMap,g.normalScale.value.copy(l.normalScale)),l.displacementMap&&(g.displacementMap.value=l.displacementMap,g.displacementScale.value=l.displacementScale,g.displacementBias.value=l.displacementBias));void 0!==g.ltcMat&&(g.ltcMat.value=Aa.LTC_MAT_TEXTURE);void 0!==g.ltcMag&&(g.ltcMag.value=Aa.LTC_MAG_TEXTURE);ka.upload(I,r.uniformsList,g,Q)}y.setValue(I,"modelViewMatrix",b.modelViewMatrix);
y.setValue(I,"normalMatrix",b.normalMatrix);y.setValue(I,"modelMatrix",b.matrixWorld);return f}function p(e,a){e.specular.value=a.specular;e.shininess.value=Math.max(a.shininess,1E-4);a.emissiveMap&&(e.emissiveMap.value=a.emissiveMap);a.bumpMap&&(e.bumpMap.value=a.bumpMap,e.bumpScale.value=a.bumpScale);a.normalMap&&(e.normalMap.value=a.normalMap,e.normalScale.value.copy(a.normalScale));a.displacementMap&&(e.displacementMap.value=a.displacementMap,e.displacementScale.value=a.displacementScale,e.displacementBias.value=
a.displacementBias)}function q(e,a){e.roughness.value=a.roughness;e.metalness.value=a.metalness;a.roughnessMap&&(e.roughnessMap.value=a.roughnessMap);a.metalnessMap&&(e.metalnessMap.value=a.metalnessMap);a.emissiveMap&&(e.emissiveMap.value=a.emissiveMap);a.bumpMap&&(e.bumpMap.value=a.bumpMap,e.bumpScale.value=a.bumpScale);a.normalMap&&(e.normalMap.value=a.normalMap,e.normalScale.value.copy(a.normalScale));a.displacementMap&&(e.displacementMap.value=a.displacementMap,e.displacementScale.value=a.displacementScale,
e.displacementBias.value=a.displacementBias);a.envMap&&(e.envMapIntensity.value=a.envMapIntensity)}function w(e,a){var l,b=0,r=0,c=0,v=a.matrixWorldInverse,d=0,f=0,y=0,g=0,D=0;var M=0;for(l=e.length;M<l;M++){var h=e[M];var k=h.color;var P=h.intensity;var m=h.distance;var n=h.shadow&&h.shadow.map?h.shadow.map.texture:null;if(h.isAmbientLight)b+=k.r*P,r+=k.g*P,c+=k.b*P;else if(h.isDirectionalLight){a=Da.get(h);a.color.copy(h.color).multiplyScalar(h.intensity);a.direction.setFromMatrixPosition(h.matrixWorld);
Na.setFromMatrixPosition(h.target.matrixWorld);a.direction.sub(Na);a.direction.transformDirection(v);if(a.shadow=h.castShadow)k=h.shadow,a.shadowBias=k.bias,a.shadowRadius=k.radius,a.shadowMapSize=k.mapSize;T.directionalShadowMap[d]=n;T.directionalShadowMatrix[d]=h.shadow.matrix;T.directional[d]=a;d++}else if(h.isSpotLight){a=Da.get(h);a.position.setFromMatrixPosition(h.matrixWorld);a.position.applyMatrix4(v);a.color.copy(k).multiplyScalar(P);a.distance=m;a.direction.setFromMatrixPosition(h.matrixWorld);
Na.setFromMatrixPosition(h.target.matrixWorld);a.direction.sub(Na);a.direction.transformDirection(v);a.coneCos=Math.cos(h.angle);a.penumbraCos=Math.cos(h.angle*(1-h.penumbra));a.decay=0===h.distance?0:h.decay;if(a.shadow=h.castShadow)k=h.shadow,a.shadowBias=k.bias,a.shadowRadius=k.radius,a.shadowMapSize=k.mapSize;T.spotShadowMap[y]=n;T.spotShadowMatrix[y]=h.shadow.matrix;T.spot[y]=a;y++}else if(h.isRectAreaLight)a=Da.get(h),a.color.copy(k).multiplyScalar(P/(h.width*h.height)),a.position.setFromMatrixPosition(h.matrixWorld),
a.position.applyMatrix4(v),bb.identity(),ua.copy(h.matrixWorld),ua.premultiply(v),bb.extractRotation(ua),a.halfWidth.set(.5*h.width,0,0),a.halfHeight.set(0,.5*h.height,0),a.halfWidth.applyMatrix4(bb),a.halfHeight.applyMatrix4(bb),T.rectArea[g]=a,g++;else if(h.isPointLight){a=Da.get(h);a.position.setFromMatrixPosition(h.matrixWorld);a.position.applyMatrix4(v);a.color.copy(h.color).multiplyScalar(h.intensity);a.distance=h.distance;a.decay=0===h.distance?0:h.decay;if(a.shadow=h.castShadow)k=h.shadow,
a.shadowBias=k.bias,a.shadowRadius=k.radius,a.shadowMapSize=k.mapSize;T.pointShadowMap[f]=n;T.pointShadowMatrix[f]=h.shadow.matrix;T.point[f]=a;f++}else h.isHemisphereLight&&(a=Da.get(h),a.direction.setFromMatrixPosition(h.matrixWorld),a.direction.transformDirection(v),a.direction.normalize(),a.skyColor.copy(h.color).multiplyScalar(P),a.groundColor.copy(h.groundColor).multiplyScalar(P),T.hemi[D]=a,D++)}T.ambient[0]=b;T.ambient[1]=r;T.ambient[2]=c;T.directional.length=d;T.spot.length=y;T.rectArea.length=
g;T.point.length=f;T.hemi.length=D;T.hash=d+","+f+","+y+","+g+","+D+","+T.shadows.length}function u(e){if(1E3===e)return I.REPEAT;if(1001===e)return I.CLAMP_TO_EDGE;if(1002===e)return I.MIRRORED_REPEAT;if(1003===e)return I.NEAREST;if(1004===e)return I.NEAREST_MIPMAP_NEAREST;if(1005===e)return I.NEAREST_MIPMAP_LINEAR;if(1006===e)return I.LINEAR;if(1007===e)return I.LINEAR_MIPMAP_NEAREST;if(1008===e)return I.LINEAR_MIPMAP_LINEAR;if(1009===e)return I.UNSIGNED_BYTE;if(1017===e)return I.UNSIGNED_SHORT_4_4_4_4;
if(1018===e)return I.UNSIGNED_SHORT_5_5_5_1;if(1019===e)return I.UNSIGNED_SHORT_5_6_5;if(1010===e)return I.BYTE;if(1011===e)return I.SHORT;if(1012===e)return I.UNSIGNED_SHORT;if(1013===e)return I.INT;if(1014===e)return I.UNSIGNED_INT;if(1015===e)return I.FLOAT;if(1016===e){var a=ha.get("OES_texture_half_float");if(null!==a)return a.HALF_FLOAT_OES}if(1021===e)return I.ALPHA;if(1022===e)return I.RGB;if(1023===e)return I.RGBA;if(1024===e)return I.LUMINANCE;if(1025===e)return I.LUMINANCE_ALPHA;if(1026===
e)return I.DEPTH_COMPONENT;if(1027===e)return I.DEPTH_STENCIL;if(100===e)return I.FUNC_ADD;if(101===e)return I.FUNC_SUBTRACT;if(102===e)return I.FUNC_REVERSE_SUBTRACT;if(200===e)return I.ZERO;if(201===e)return I.ONE;if(202===e)return I.SRC_COLOR;if(203===e)return I.ONE_MINUS_SRC_COLOR;if(204===e)return I.SRC_ALPHA;if(205===e)return I.ONE_MINUS_SRC_ALPHA;if(206===e)return I.DST_ALPHA;if(207===e)return I.ONE_MINUS_DST_ALPHA;if(208===e)return I.DST_COLOR;if(209===e)return I.ONE_MINUS_DST_COLOR;if(210===
e)return I.SRC_ALPHA_SATURATE;if(2001===e||2002===e||2003===e||2004===e)if(a=ha.get("WEBGL_compressed_texture_s3tc"),null!==a){if(2001===e)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(2002===e)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(2003===e)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(2004===e)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(2100===e||2101===e||2102===e||2103===e)if(a=ha.get("WEBGL_compressed_texture_pvrtc"),null!==a){if(2100===e)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(2101===e)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;
if(2102===e)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(2103===e)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(2151===e&&(a=ha.get("WEBGL_compressed_texture_etc1"),null!==a))return a.COMPRESSED_RGB_ETC1_WEBGL;if(103===e||104===e)if(a=ha.get("EXT_blend_minmax"),null!==a){if(103===e)return a.MIN_EXT;if(104===e)return a.MAX_EXT}return 1020===e&&(a=ha.get("WEBGL_depth_texture"),null!==a)?a.UNSIGNED_INT_24_8_WEBGL:0}console.log("THREE.WebGLRenderer","86");e=e||{};var A=void 0!==e.canvas?e.canvas:document.createElementNS("http://www.w3.org/1999/xhtml",
"canvas"),K=void 0!==e.context?e.context:null,z=void 0!==e.alpha?e.alpha:!1,X=void 0!==e.depth?e.depth:!0,B=void 0!==e.stencil?e.stencil:!0,E=void 0!==e.antialias?e.antialias:!1,H=void 0!==e.premultipliedAlpha?e.premultipliedAlpha:!0,F=void 0!==e.preserveDrawingBuffer?e.preserveDrawingBuffer:!1,ea=[],G=null,U=new Float32Array(8),fa=[],N=[];this.domElement=A;this.context=null;this.sortObjects=this.autoClearStencil=this.autoClearDepth=this.autoClearColor=this.autoClear=!0;this.clippingPlanes=[];this.localClippingEnabled=
!1;this.gammaFactor=2;this.physicallyCorrectLights=this.gammaOutput=this.gammaInput=!1;this.toneMappingWhitePoint=this.toneMappingExposure=this.toneMapping=1;this.maxMorphTargets=8;this.maxMorphNormals=4;var Q=this,R=null,O=null,L=null,V=-1,W="",pa=null,S=null,Y=new n,Z=null,ra=new n,Ca=0,ta=A.width,J=A.height,xa=1,aa=new n(0,0,ta,J),ia=!1,la=new n(0,0,ta,J),qa=new $c,oa=new lc,Oa=!1,ma=!1,sa=new t,Na=new b,ua=new t,bb=new t,T={hash:"",ambient:[0,0,0],directional:[],directionalShadowMap:[],directionalShadowMatrix:[],
spot:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],point:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],shadows:[]},ya={geometries:0,textures:0},va={frame:0,calls:0,vertices:0,faces:0,points:0};this.info={render:va,memory:ya,programs:null};try{z={alpha:z,depth:X,stencil:B,antialias:E,premultipliedAlpha:H,preserveDrawingBuffer:F};var I=K||A.getContext("webgl",z)||A.getContext("experimental-webgl",z);if(null===I){if(null!==A.getContext("webgl"))throw"Error creating WebGL context with your selected attributes.";
throw"Error creating WebGL context.";}void 0===I.getShaderPrecisionFormat&&(I.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}});A.addEventListener("webglcontextlost",c,!1)}catch(Lf){console.error("THREE.WebGLRenderer: "+Lf)}var ha=new jb(I);ha.get("WEBGL_depth_texture");ha.get("OES_texture_float");ha.get("OES_texture_float_linear");ha.get("OES_texture_half_float");ha.get("OES_texture_half_float_linear");ha.get("OES_standard_derivatives");ha.get("ANGLE_instanced_arrays");
ha.get("OES_element_index_uint")&&(ca.MaxIndex=4294967296);var wa=new La(I,ha,e),ba=new vc(I,ha,u),Ma=new uc,za=new $a(I,ha,ba,Ma,wa,u,ya),Va=new kd(I),Ia=new Bd(I,Va,ya),Ea=new Ac(I,Ia,va),Ba=new Cc(this,wa),Da=new eb,Ka=new zd,Ja=new $b(this,ba,Ea,H),Ga=new xd(this);this.info.programs=Ba.programs;var Pa=new Ad(I,ha,va),Ra=new Mc(I,ha,va);a();this.context=I;this.capabilities=wa;this.extensions=ha;this.properties=Ma;this.renderLists=Ka;this.state=ba;this.vr=Ga;var Qa=new ad(this,T,Ea,wa);this.shadowMap=
Qa;var Sa=new Kc(this,fa),Ua=new Hb(this,N);this.getContext=function(){return I};this.getContextAttributes=function(){return I.getContextAttributes()};this.forceContextLoss=function(){var e=ha.get("WEBGL_lose_context");e&&e.loseContext()};this.getMaxAnisotropy=function(){return wa.getMaxAnisotropy()};this.getPrecision=function(){return wa.precision};this.getPixelRatio=function(){return xa};this.setPixelRatio=function(e){void 0!==e&&(xa=e,this.setSize(ta,J,!1))};this.getSize=function(){return{width:ta,
height:J}};this.setSize=function(e,a,l){var b=Ga.getDevice();b&&b.isPresenting?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(ta=e,J=a,A.width=e*xa,A.height=a*xa,!1!==l&&(A.style.width=e+"px",A.style.height=a+"px"),this.setViewport(0,0,e,a))};this.getDrawingBufferSize=function(){return{width:ta*xa,height:J*xa}};this.setDrawingBufferSize=function(e,a,l){ta=e;J=a;xa=l;A.width=e*l;A.height=a*l;this.setViewport(0,0,e,a)};this.setViewport=function(e,a,l,b){la.set(e,
J-a-b,l,b);ba.viewport(ra.copy(la).multiplyScalar(xa))};this.setScissor=function(e,a,l,b){aa.set(e,J-a-b,l,b);ba.scissor(Y.copy(aa).multiplyScalar(xa))};this.setScissorTest=function(e){ba.setScissorTest(ia=e)};this.getClearColor=Ja.getClearColor;this.setClearColor=Ja.setClearColor;this.getClearAlpha=Ja.getClearAlpha;this.setClearAlpha=Ja.setClearAlpha;this.clear=function(e,a,l){var b=0;if(void 0===e||e)b|=I.COLOR_BUFFER_BIT;if(void 0===a||a)b|=I.DEPTH_BUFFER_BIT;if(void 0===l||l)b|=I.STENCIL_BUFFER_BIT;
I.clear(b)};this.clearColor=function(){this.clear(!0,!1,!1)};this.clearDepth=function(){this.clear(!1,!0,!1)};this.clearStencil=function(){this.clear(!1,!1,!0)};this.clearTarget=function(e,a,l,b){this.setRenderTarget(e);this.clear(a,l,b)};this.resetGLState=r;this.dispose=function(){A.removeEventListener("webglcontextlost",c,!1);Ka.dispose()};this.renderBufferImmediate=function(e,a,l){ba.initAttributes();var b=Ma.get(e);e.hasPositions&&!b.position&&(b.position=I.createBuffer());e.hasNormals&&!b.normal&&
(b.normal=I.createBuffer());e.hasUvs&&!b.uv&&(b.uv=I.createBuffer());e.hasColors&&!b.color&&(b.color=I.createBuffer());a=a.getAttributes();e.hasPositions&&(I.bindBuffer(I.ARRAY_BUFFER,b.position),I.bufferData(I.ARRAY_BUFFER,e.positionArray,I.DYNAMIC_DRAW),ba.enableAttribute(a.position),I.vertexAttribPointer(a.position,3,I.FLOAT,!1,0,0));if(e.hasNormals){I.bindBuffer(I.ARRAY_BUFFER,b.normal);if(!l.isMeshPhongMaterial&&!l.isMeshStandardMaterial&&!l.isMeshNormalMaterial&&1===l.shading)for(var r=0,c=
3*e.count;r<c;r+=9){var v=e.normalArray,d=(v[r+0]+v[r+3]+v[r+6])/3,f=(v[r+1]+v[r+4]+v[r+7])/3,y=(v[r+2]+v[r+5]+v[r+8])/3;v[r+0]=d;v[r+1]=f;v[r+2]=y;v[r+3]=d;v[r+4]=f;v[r+5]=y;v[r+6]=d;v[r+7]=f;v[r+8]=y}I.bufferData(I.ARRAY_BUFFER,e.normalArray,I.DYNAMIC_DRAW);ba.enableAttribute(a.normal);I.vertexAttribPointer(a.normal,3,I.FLOAT,!1,0,0)}e.hasUvs&&l.map&&(I.bindBuffer(I.ARRAY_BUFFER,b.uv),I.bufferData(I.ARRAY_BUFFER,e.uvArray,I.DYNAMIC_DRAW),ba.enableAttribute(a.uv),I.vertexAttribPointer(Va.uv,2,I.FLOAT,
!1,0,0));e.hasColors&&0!==l.vertexColors&&(I.bindBuffer(I.ARRAY_BUFFER,b.color),I.bufferData(I.ARRAY_BUFFER,e.colorArray,I.DYNAMIC_DRAW),ba.enableAttribute(a.color),I.vertexAttribPointer(a.color,3,I.FLOAT,!1,0,0));ba.disableUnusedAttributes();I.drawArrays(I.TRIANGLES,0,e.count);e.count=0};this.renderBufferDirect=function(e,a,l,b,r,c){ba.setMaterial(b);var v=C(e,a,b,r);e=l.id+"_"+v.id+"_"+(!0===b.wireframe);var d=!1;e!==W&&(W=e,d=!0);var f=r.morphTargetInfluences;if(void 0!==f){var y=[];e=0;for(var g=
f.length;e<g;e++)a=f[e],y.push([a,e]);y.sort(h);8<y.length&&(y.length=8);d=l.morphAttributes;e=0;for(g=y.length;e<g;e++)a=y[e],U[e]=a[0],0!==a[0]?(a=a[1],!0===b.morphTargets&&d.position&&l.addAttribute("morphTarget"+e,d.position[a]),!0===b.morphNormals&&d.normal&&l.addAttribute("morphNormal"+e,d.normal[a])):(!0===b.morphTargets&&l.removeAttribute("morphTarget"+e),!0===b.morphNormals&&l.removeAttribute("morphNormal"+e));e=y.length;for(a=U.length;e<a;e++)U[e]=0;v.getUniforms().setValue(I,"morphTargetInfluences",
U);d=!0}a=l.index;g=l.attributes.position;y=1;!0===b.wireframe&&(a=Ia.getWireframeAttribute(l),y=2);e=Pa;if(null!==a){var D=Va.get(a);e=Ra;e.setIndex(D)}if(d){d=void 0;if(l&&l.isInstancedBufferGeometry&&null===ha.get("ANGLE_instanced_arrays"))console.error("THREE.WebGLRenderer.setupVertexAttributes: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");else{void 0===d&&(d=0);ba.initAttributes();f=l.attributes;v=v.getAttributes();var M=b.defaultAttributeValues;
for(q in v){var k=v[q];if(0<=k){var P=f[q];if(void 0!==P){var n=P.normalized,m=P.itemSize,na=Va.get(P),Ha=na.buffer,ja=na.type;na=na.bytesPerElement;if(P.isInterleavedBufferAttribute){var da=P.data,p=da.stride;P=P.offset;da&&da.isInstancedInterleavedBuffer?(ba.enableAttributeAndDivisor(k,da.meshPerAttribute),void 0===l.maxInstancedCount&&(l.maxInstancedCount=da.meshPerAttribute*da.count)):ba.enableAttribute(k);I.bindBuffer(I.ARRAY_BUFFER,Ha);I.vertexAttribPointer(k,m,ja,n,p*na,(d*p+P)*na)}else P.isInstancedBufferAttribute?
(ba.enableAttributeAndDivisor(k,P.meshPerAttribute),void 0===l.maxInstancedCount&&(l.maxInstancedCount=P.meshPerAttribute*P.count)):ba.enableAttribute(k),I.bindBuffer(I.ARRAY_BUFFER,Ha),I.vertexAttribPointer(k,m,ja,n,0,d*m*na)}else if(void 0!==M&&(n=M[q],void 0!==n))switch(n.length){case 2:I.vertexAttrib2fv(k,n);break;case 3:I.vertexAttrib3fv(k,n);break;case 4:I.vertexAttrib4fv(k,n);break;default:I.vertexAttrib1fv(k,n)}}}ba.disableUnusedAttributes()}null!==a&&I.bindBuffer(I.ELEMENT_ARRAY_BUFFER,D.buffer)}D=
0;null!==a?D=a.count:void 0!==g&&(D=g.count);a=l.drawRange.start*y;g=null!==c?c.start*y:0;var q=Math.max(a,g);c=Math.max(0,Math.min(D,a+l.drawRange.count*y,g+(null!==c?c.count*y:Infinity))-1-q+1);if(0!==c){if(r.isMesh)if(!0===b.wireframe)ba.setLineWidth(b.wireframeLinewidth*(null===O?xa:1)),e.setMode(I.LINES);else switch(r.drawMode){case 0:e.setMode(I.TRIANGLES);break;case 1:e.setMode(I.TRIANGLE_STRIP);break;case 2:e.setMode(I.TRIANGLE_FAN)}else r.isLine?(b=b.linewidth,void 0===b&&(b=1),ba.setLineWidth(b*
(null===O?xa:1)),r.isLineSegments?e.setMode(I.LINES):r.isLineLoop?e.setMode(I.LINE_LOOP):e.setMode(I.LINE_STRIP)):r.isPoints&&e.setMode(I.POINTS);l&&l.isInstancedBufferGeometry?0<l.maxInstancedCount&&e.renderInstances(l,q,c):e.render(q,c)}};this.compile=function(e,a){ea=[];e.traverse(function(e){e.isLight&&ea.push(e)});w(ea,a);e.traverse(function(a){if(a.material)if(Array.isArray(a.material))for(var l=0;l<a.material.length;l++)ja(a.material[l],e.fog,a);else ja(a.material,e.fog,a)})};this.animate=
function(e){function a(){e();(Ga.getDevice()||window).requestAnimationFrame(a)}(Ga.getDevice()||window).requestAnimationFrame(a)};this.render=function(e,a,l,b){if(a&&a.isCamera){W="";V=-1;pa=null;!0===e.autoUpdate&&e.updateMatrixWorld();null===a.parent&&a.updateMatrixWorld();Ga.enabled&&(a=Ga.getCamera(a));sa.multiplyMatrices(a.projectionMatrix,a.matrixWorldInverse);qa.setFromMatrix(sa);ea.length=0;fa.length=0;N.length=0;ma=this.localClippingEnabled;Oa=oa.init(this.clippingPlanes,ma,a);G=Ka.get(e,
a);G.init();k(e,a,Q.sortObjects);G.finish();!0===Q.sortObjects&&G.sort();Oa&&oa.beginShadows();for(var r=ea,c=0,v=0,d=r.length;v<d;v++){var f=r[v];f.castShadow&&(T.shadows[c]=f,c++)}T.shadows.length=c;Qa.render(e,a);w(ea,a);Oa&&oa.endShadows();va.frame++;va.calls=0;va.vertices=0;va.faces=0;va.points=0;void 0===l&&(l=null);this.setRenderTarget(l);Ja.render(e,a,b);b=G.opaque;r=G.transparent;e.overrideMaterial?(c=e.overrideMaterial,b.length&&m(b,e,a,c),r.length&&m(r,e,a,c)):(b.length&&m(b,e,a),r.length&&
m(r,e,a));Sa.render(e,a);Ua.render(e,a,ra);l&&za.updateRenderTargetMipmap(l);ba.buffers.depth.setTest(!0);ba.buffers.depth.setMask(!0);ba.buffers.color.setMask(!0);a.isArrayCamera&&Q.setScissorTest(!1);Ga.enabled&&Ga.submitFrame()}else console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.")};this.setFaceCulling=function(e,a){ba.setCullFace(e);ba.setFlipSided(0===a)};this.allocTextureUnit=function(){var e=Ca;e>=wa.maxTextures&&console.warn("THREE.WebGLRenderer: Trying to use "+
e+" texture units while this GPU supports only "+wa.maxTextures);Ca+=1;return e};this.setTexture2D=function(){var e=!1;return function(a,l){a&&a.isWebGLRenderTarget&&(e||(console.warn("THREE.WebGLRenderer.setTexture2D: don't use render targets as textures. Use their .texture property instead."),e=!0),a=a.texture);za.setTexture2D(a,l)}}();this.setTexture=function(){var e=!1;return function(a,l){e||(console.warn("THREE.WebGLRenderer: .setTexture is deprecated, use setTexture2D instead."),e=!0);za.setTexture2D(a,
l)}}();this.setTextureCube=function(){var e=!1;return function(a,l){a&&a.isWebGLRenderTargetCube&&(e||(console.warn("THREE.WebGLRenderer.setTextureCube: don't use cube render targets as textures. Use their .texture property instead."),e=!0),a=a.texture);a&&a.isCubeTexture||Array.isArray(a.image)&&6===a.image.length?za.setTextureCube(a,l):za.setTextureCubeDynamic(a,l)}}();this.getRenderTarget=function(){return O};this.setRenderTarget=function(e){(O=e)&&void 0===Ma.get(e).__webglFramebuffer&&za.setupRenderTarget(e);
var a=e&&e.isWebGLRenderTargetCube;if(e){var l=Ma.get(e);l=a?l.__webglFramebuffer[e.activeCubeFace]:l.__webglFramebuffer;Y.copy(e.scissor);Z=e.scissorTest;ra.copy(e.viewport)}else l=null,Y.copy(aa).multiplyScalar(xa),Z=ia,ra.copy(la).multiplyScalar(xa);L!==l&&(I.bindFramebuffer(I.FRAMEBUFFER,l),L=l);ba.scissor(Y);ba.setScissorTest(Z);ba.viewport(ra);a&&(a=Ma.get(e.texture),I.framebufferTexture2D(I.FRAMEBUFFER,I.COLOR_ATTACHMENT0,I.TEXTURE_CUBE_MAP_POSITIVE_X+e.activeCubeFace,a.__webglTexture,e.activeMipMapLevel))};
this.readRenderTargetPixels=function(e,a,l,b,r,c){if(e&&e.isWebGLRenderTarget){var v=Ma.get(e).__webglFramebuffer;if(v){var d=!1;v!==L&&(I.bindFramebuffer(I.FRAMEBUFFER,v),d=!0);try{var f=e.texture,y=f.format,g=f.type;1023!==y&&u(y)!==I.getParameter(I.IMPLEMENTATION_COLOR_READ_FORMAT)?console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format."):1009===g||u(g)===I.getParameter(I.IMPLEMENTATION_COLOR_READ_TYPE)||1015===g&&(ha.get("OES_texture_float")||
ha.get("WEBGL_color_buffer_float"))||1016===g&&ha.get("EXT_color_buffer_half_float")?I.checkFramebufferStatus(I.FRAMEBUFFER)===I.FRAMEBUFFER_COMPLETE?0<=a&&a<=e.width-b&&0<=l&&l<=e.height-r&&I.readPixels(a,l,b,r,u(y),u(g),c):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete."):console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.")}finally{d&&I.bindFramebuffer(I.FRAMEBUFFER,
L)}}}else console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.")}}function ub(e,a){this.name="";this.color=new Q(e);this.density=void 0!==a?a:2.5E-4}function ua(e,a,b){this.name="";this.color=new Q(e);this.near=void 0!==a?a:1;this.far=void 0!==b?b:1E3}function wc(){O.call(this);this.type="Scene";this.overrideMaterial=this.fog=this.background=null;this.autoUpdate=!0}function Pb(e,a,r,c,d){O.call(this);this.lensFlares=[];this.positionScreen=new b;this.customUpdateCallback=
void 0;void 0!==e&&this.add(e,a,r,c,d)}function vb(e){qa.call(this);this.type="SpriteMaterial";this.color=new Q(16777215);this.map=null;this.rotation=0;this.lights=this.fog=!1;this.setValues(e)}function Dc(e){O.call(this);this.type="Sprite";this.material=void 0!==e?e:new vb}function pb(){O.call(this);this.type="LOD";Object.defineProperties(this,{levels:{enumerable:!0,value:[]}})}function kc(e,a){e=e||[];this.bones=e.slice(0);this.boneMatrices=new Float32Array(16*this.bones.length);if(void 0===a)this.calculateInverses();
else if(this.bones.length===a.length)this.boneInverses=a.slice(0);else for(console.warn("THREE.Skeleton boneInverses is the wrong length."),this.boneInverses=[],e=0,a=this.bones.length;e<a;e++)this.boneInverses.push(new t)}function Vb(){O.call(this);this.type="Bone"}function Tb(e,a){Ga.call(this,e,a);this.type="SkinnedMesh";this.bindMode="attached";this.bindMatrix=new t;this.bindMatrixInverse=new t;e=this.initBones();e=new kc(e);this.bind(e,this.matrixWorld);this.normalizeSkinWeights()}function Ea(e){qa.call(this);
this.type="LineBasicMaterial";this.color=new Q(16777215);this.linewidth=1;this.linejoin=this.linecap="round";this.lights=!1;this.setValues(e)}function kb(e,a,b){if(1===b)return console.warn("THREE.Line: parameter THREE.LinePieces no longer supported. Created THREE.LineSegments instead."),new va(e,a);O.call(this);this.type="Line";this.geometry=void 0!==e?e:new ca;this.material=void 0!==a?a:new Ea({color:16777215*Math.random()})}function va(e,a){kb.call(this,e,a);this.type="LineSegments"}function xc(e,
a){kb.call(this,e,a);this.type="LineLoop"}function Ka(e){qa.call(this);this.type="PointsMaterial";this.color=new Q(16777215);this.map=null;this.size=1;this.sizeAttenuation=!0;this.lights=!1;this.setValues(e)}function wb(e,a){O.call(this);this.type="Points";this.geometry=void 0!==e?e:new ca;this.material=void 0!==a?a:new Ka({color:16777215*Math.random()})}function rb(){O.call(this);this.type="Group"}function ma(e,a,b,c,d,f,g,h,n){function l(){requestAnimationFrame(l);e.readyState>=e.HAVE_CURRENT_DATA&&
(r.needsUpdate=!0)}k.call(this,e,a,b,c,d,f,g,h,n);this.generateMipmaps=!1;var r=this;l()}function gb(e,a,b,c,d,f,g,h,n,m,da,ja){k.call(this,null,f,g,h,n,m,c,d,da,ja);this.image={width:a,height:b};this.mipmaps=e;this.generateMipmaps=this.flipY=!1}function xb(e,a,b,c,d,f,g,h,n){k.call(this,e,a,b,c,d,f,g,h,n);this.needsUpdate=!0}function Gb(e,a,b,c,d,f,g,h,n,m){m=void 0!==m?m:1026;if(1026!==m&&1027!==m)throw Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===
b&&1026===m&&(b=1012);void 0===b&&1027===m&&(b=1020);k.call(this,null,c,d,f,g,h,m,b,n);this.image={width:e,height:a};this.magFilter=void 0!==g?g:1003;this.minFilter=void 0!==h?h:1003;this.generateMipmaps=this.flipY=!1}function Fb(e){ca.call(this);this.type="WireframeGeometry";var a=[],r,c,d,f=[0,0],g={},h=["a","b","c"];if(e&&e.isGeometry){var k=e.faces;var n=0;for(c=k.length;n<c;n++){var m=k[n];for(r=0;3>r;r++){var ja=m[h[r]];var C=m[h[(r+1)%3]];f[0]=Math.min(ja,C);f[1]=Math.max(ja,C);ja=f[0]+","+
f[1];void 0===g[ja]&&(g[ja]={index1:f[0],index2:f[1]})}}for(ja in g)n=g[ja],h=e.vertices[n.index1],a.push(h.x,h.y,h.z),h=e.vertices[n.index2],a.push(h.x,h.y,h.z)}else if(e&&e.isBufferGeometry)if(h=new b,null!==e.index){k=e.attributes.position;m=e.index;var p=e.groups;0===p.length&&(p=[{start:0,count:m.count,materialIndex:0}]);e=0;for(d=p.length;e<d;++e)for(n=p[e],r=n.start,c=n.count,n=r,c=r+c;n<c;n+=3)for(r=0;3>r;r++)ja=m.getX(n+r),C=m.getX(n+(r+1)%3),f[0]=Math.min(ja,C),f[1]=Math.max(ja,C),ja=f[0]+
","+f[1],void 0===g[ja]&&(g[ja]={index1:f[0],index2:f[1]});for(ja in g)n=g[ja],h.fromBufferAttribute(k,n.index1),a.push(h.x,h.y,h.z),h.fromBufferAttribute(k,n.index2),a.push(h.x,h.y,h.z)}else for(k=e.attributes.position,n=0,c=k.count/3;n<c;n++)for(r=0;3>r;r++)g=3*n+r,h.fromBufferAttribute(k,g),a.push(h.x,h.y,h.z),g=3*n+(r+1)%3,h.fromBufferAttribute(k,g),a.push(h.x,h.y,h.z);this.addAttribute("position",new W(a,3))}function Qb(e,a,b){ia.call(this);this.type="ParametricGeometry";this.parameters={func:e,
slices:a,stacks:b};this.fromBufferGeometry(new Ia(e,a,b));this.mergeVertices()}function Ia(e,a,r){ca.call(this);this.type="ParametricBufferGeometry";this.parameters={func:e,slices:a,stacks:r};var l=[],c=[],d=[],f=[],g=new b,h=new b,k=new b,n=new b,m=new b,C,p,q=a+1;for(C=0;C<=r;C++){var t=C/r;for(p=0;p<=a;p++){var w=p/a;h=e(w,t,h);c.push(h.x,h.y,h.z);0<=w-1E-5?(k=e(w-1E-5,t,k),n.subVectors(h,k)):(k=e(w+1E-5,t,k),n.subVectors(k,h));0<=t-1E-5?(k=e(w,t-1E-5,k),m.subVectors(h,k)):(k=e(w,t+1E-5,k),m.subVectors(k,
h));g.crossVectors(n,m).normalize();d.push(g.x,g.y,g.z);f.push(w,t)}}for(C=0;C<r;C++)for(p=0;p<a;p++)e=C*q+p+1,g=(C+1)*q+p+1,h=(C+1)*q+p,l.push(C*q+p,e,h),l.push(e,g,h);this.setIndex(l);this.addAttribute("position",new W(c,3));this.addAttribute("normal",new W(d,3));this.addAttribute("uv",new W(f,2))}function Jc(e,a,b,c){ia.call(this);this.type="PolyhedronGeometry";this.parameters={vertices:e,indices:a,radius:b,detail:c};this.fromBufferGeometry(new Ja(e,a,b,c));this.mergeVertices()}function Ja(e,a,
r,c){function l(e){g.push(e.x,e.y,e.z)}function v(a,l){a*=3;l.x=e[a+0];l.y=e[a+1];l.z=e[a+2]}function d(e,a,l,b){0>b&&1===e.x&&(h[a]=e.x-1);0===l.x&&0===l.z&&(h[a]=b/2/Math.PI+.5)}ca.call(this);this.type="PolyhedronBufferGeometry";this.parameters={vertices:e,indices:a,radius:r,detail:c};r=r||1;c=c||0;var g=[],h=[];(function(e){for(var r=new b,c=new b,d=new b,f=0;f<a.length;f+=3){v(a[f+0],r);v(a[f+1],c);v(a[f+2],d);var y,g,D=r,h=c,M=d,k=Math.pow(2,e),P=[];for(g=0;g<=k;g++){P[g]=[];var n=D.clone().lerp(M,
g/k),m=h.clone().lerp(M,g/k),na=k-g;for(y=0;y<=na;y++)P[g][y]=0===y&&g===k?n:n.clone().lerp(m,y/na)}for(g=0;g<k;g++)for(y=0;y<2*(k-g)-1;y++)D=Math.floor(y/2),0===y%2?(l(P[g][D+1]),l(P[g+1][D]),l(P[g][D])):(l(P[g][D+1]),l(P[g+1][D+1]),l(P[g+1][D]))}})(c);(function(e){for(var a=new b,l=0;l<g.length;l+=3)a.x=g[l+0],a.y=g[l+1],a.z=g[l+2],a.normalize().multiplyScalar(e),g[l+0]=a.x,g[l+1]=a.y,g[l+2]=a.z})(r);(function(){for(var e=new b,a=0;a<g.length;a+=3)e.x=g[a+0],e.y=g[a+1],e.z=g[a+2],h.push(Math.atan2(e.z,
-e.x)/2/Math.PI+.5,1-(Math.atan2(-e.y,Math.sqrt(e.x*e.x+e.z*e.z))/Math.PI+.5));e=new b;a=new b;for(var l=new b,r=new b,c=new f,v=new f,y=new f,D=0,M=0;D<g.length;D+=9,M+=6){e.set(g[D+0],g[D+1],g[D+2]);a.set(g[D+3],g[D+4],g[D+5]);l.set(g[D+6],g[D+7],g[D+8]);c.set(h[M+0],h[M+1]);v.set(h[M+2],h[M+3]);y.set(h[M+4],h[M+5]);r.copy(e).add(a).add(l).divideScalar(3);var k=Math.atan2(r.z,-r.x);d(c,M+0,e,k);d(v,M+2,a,k);d(y,M+4,l,k)}for(e=0;e<h.length;e+=6)a=h[e+0],l=h[e+2],r=h[e+4],c=Math.min(a,l,r),.9<Math.max(a,
l,r)&&.1>c&&(.2>a&&(h[e+0]+=1),.2>l&&(h[e+2]+=1),.2>r&&(h[e+4]+=1))})();this.addAttribute("position",new W(g,3));this.addAttribute("normal",new W(g.slice(),3));this.addAttribute("uv",new W(h,2));0===c?this.computeVertexNormals():this.normalizeNormals()}function Oc(e,a){ia.call(this);this.type="TetrahedronGeometry";this.parameters={radius:e,detail:a};this.fromBufferGeometry(new mc(e,a));this.mergeVertices()}function mc(e,a){Ja.call(this,[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],[2,1,0,0,3,2,1,3,0,2,3,1],e,a);
this.type="TetrahedronBufferGeometry";this.parameters={radius:e,detail:a}}function wa(e,a){ia.call(this);this.type="OctahedronGeometry";this.parameters={radius:e,detail:a};this.fromBufferGeometry(new sb(e,a));this.mergeVertices()}function sb(e,a){Ja.call(this,[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2],e,a);this.type="OctahedronBufferGeometry";this.parameters={radius:e,detail:a}}function Db(e,a){ia.call(this);this.type="IcosahedronGeometry";this.parameters=
{radius:e,detail:a};this.fromBufferGeometry(new Wb(e,a));this.mergeVertices()}function Wb(e,a){var l=(1+Math.sqrt(5))/2;Ja.call(this,[-1,l,0,1,l,0,-1,-l,0,1,-l,0,0,-1,l,0,1,l,0,-1,-l,0,1,-l,l,0,-1,l,0,1,-l,0,-1,-l,0,1],[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1],e,a);this.type="IcosahedronBufferGeometry";this.parameters={radius:e,detail:a}}function dc(e,a){ia.call(this);this.type="DodecahedronGeometry";this.parameters=
{radius:e,detail:a};this.fromBufferGeometry(new nc(e,a));this.mergeVertices()}function nc(e,a){var l=(1+Math.sqrt(5))/2,b=1/l;Ja.call(this,[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-b,-l,0,-b,l,0,b,-l,0,b,l,-b,-l,0,-b,l,0,b,-l,0,b,l,0,-l,0,-b,l,0,-b,-l,0,b,l,0,b],[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,
19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9],e,a);this.type="DodecahedronBufferGeometry";this.parameters={radius:e,detail:a}}function Cb(e,a,b,c,d,f){ia.call(this);this.type="TubeGeometry";this.parameters={path:e,tubularSegments:a,radius:b,radialSegments:c,closed:d};void 0!==f&&console.warn("THREE.TubeGeometry: taper has been removed.");e=new Mb(e,a,b,c,d);this.tangents=e.tangents;this.normals=e.normals;this.binormals=e.binormals;this.fromBufferGeometry(e);this.mergeVertices()}function Mb(e,
a,r,c,d){function l(l){var b=e.getPointAt(l/a),d=v.normals[l];l=v.binormals[l];for(n=0;n<=c;n++){var f=n/c*Math.PI*2,D=Math.sin(f);f=-Math.cos(f);g.x=f*d.x+D*l.x;g.y=f*d.y+D*l.y;g.z=f*d.z+D*l.z;g.normalize();p.push(g.x,g.y,g.z);y.x=b.x+r*g.x;y.y=b.y+r*g.y;y.z=b.z+r*g.z;m.push(y.x,y.y,y.z)}}ca.call(this);this.type="TubeBufferGeometry";this.parameters={path:e,tubularSegments:a,radius:r,radialSegments:c,closed:d};a=a||64;r=r||1;c=c||8;d=d||!1;var v=e.computeFrenetFrames(a,d);this.tangents=v.tangents;
this.normals=v.normals;this.binormals=v.binormals;var y=new b,g=new b,h=new f,k,n,m=[],p=[],q=[],t=[];for(k=0;k<a;k++)l(k);l(!1===d?a:0);for(k=0;k<=a;k++)for(n=0;n<=c;n++)h.x=k/a,h.y=n/c,q.push(h.x,h.y);(function(){for(n=1;n<=a;n++)for(k=1;k<=c;k++){var e=(c+1)*n+(k-1),l=(c+1)*n+k,b=(c+1)*(n-1)+k;t.push((c+1)*(n-1)+(k-1),e,b);t.push(e,l,b)}})();this.setIndex(t);this.addAttribute("position",new W(m,3));this.addAttribute("normal",new W(p,3));this.addAttribute("uv",new W(q,2))}function oc(e,a,b,c,f,
g,h){ia.call(this);this.type="TorusKnotGeometry";this.parameters={radius:e,tube:a,tubularSegments:b,radialSegments:c,p:f,q:g};void 0!==h&&console.warn("THREE.TorusKnotGeometry: heightScale has been deprecated. Use .scale( x, y, z ) instead.");this.fromBufferGeometry(new d(e,a,b,c,f,g));this.mergeVertices()}function d(e,a,r,c,d,f){function l(e,a,l,b,r){var c=Math.sin(e);a=l/a*e;l=Math.cos(a);r.x=b*(2+l)*.5*Math.cos(e);r.y=b*(2+l)*c*.5;r.z=b*Math.sin(a)*.5}ca.call(this);this.type="TorusKnotBufferGeometry";
this.parameters={radius:e,tube:a,tubularSegments:r,radialSegments:c,p:d,q:f};e=e||100;a=a||40;r=Math.floor(r)||64;c=Math.floor(c)||8;d=d||2;f=f||3;var v=[],y=[],g=[],D=[],h,k=new b,n=new b,m=new b,p=new b,q=new b,t=new b,w=new b;for(h=0;h<=r;++h){var u=h/r*d*Math.PI*2;l(u,d,f,e,m);l(u+.01,d,f,e,p);t.subVectors(p,m);w.addVectors(p,m);q.crossVectors(t,w);w.crossVectors(q,t);q.normalize();w.normalize();for(u=0;u<=c;++u){var x=u/c*Math.PI*2,A=-a*Math.cos(x);x=a*Math.sin(x);k.x=m.x+(A*w.x+x*q.x);k.y=m.y+
(A*w.y+x*q.y);k.z=m.z+(A*w.z+x*q.z);y.push(k.x,k.y,k.z);n.subVectors(k,m).normalize();g.push(n.x,n.y,n.z);D.push(h/r);D.push(u/c)}}for(u=1;u<=r;u++)for(h=1;h<=c;h++)e=(c+1)*u+(h-1),a=(c+1)*u+h,d=(c+1)*(u-1)+h,v.push((c+1)*(u-1)+(h-1),e,d),v.push(e,a,d);this.setIndex(v);this.addAttribute("position",new W(y,3));this.addAttribute("normal",new W(g,3));this.addAttribute("uv",new W(D,2))}function g(e,a,b,c,d){ia.call(this);this.type="TorusGeometry";this.parameters={radius:e,tube:a,radialSegments:b,tubularSegments:c,
arc:d};this.fromBufferGeometry(new u(e,a,b,c,d));this.mergeVertices()}function u(e,a,r,c,d){ca.call(this);this.type="TorusBufferGeometry";this.parameters={radius:e,tube:a,radialSegments:r,tubularSegments:c,arc:d};e=e||100;a=a||40;r=Math.floor(r)||8;c=Math.floor(c)||6;d=d||2*Math.PI;var l=[],v=[],f=[],y=[],g=new b,h=new b,k=new b,n,m;for(n=0;n<=r;n++)for(m=0;m<=c;m++){var p=m/c*d,q=n/r*Math.PI*2;h.x=(e+a*Math.cos(q))*Math.cos(p);h.y=(e+a*Math.cos(q))*Math.sin(p);h.z=a*Math.sin(q);v.push(h.x,h.y,h.z);
g.x=e*Math.cos(p);g.y=e*Math.sin(p);k.subVectors(h,g).normalize();f.push(k.x,k.y,k.z);y.push(m/c);y.push(n/r)}for(n=1;n<=r;n++)for(m=1;m<=c;m++)e=(c+1)*(n-1)+m-1,a=(c+1)*(n-1)+m,d=(c+1)*n+m,l.push((c+1)*n+m-1,e,d),l.push(e,a,d);this.setIndex(l);this.addAttribute("position",new W(v,3));this.addAttribute("normal",new W(f,3));this.addAttribute("uv",new W(y,2))}function R(a,l){ia.call(this);this.type="ExtrudeGeometry";this.parameters={shapes:a,options:l};this.fromBufferGeometry(new Y(a,l));this.mergeVertices()}
function Y(a,l){"undefined"!==typeof a&&(ca.call(this),this.type="ExtrudeBufferGeometry",a=Array.isArray(a)?a:[a],this.addShapeList(a,l),this.computeVertexNormals())}function Ua(a,l){ia.call(this);this.type="TextGeometry";this.parameters={text:a,parameters:l};this.fromBufferGeometry(new Pc(a,l));this.mergeVertices()}function Pc(a,l){l=l||{};var e=l.font;if(!e||!e.isFont)return console.error("THREE.TextGeometry: font parameter is not an instance of THREE.Font."),new ia;a=e.generateShapes(a,l.size,
l.curveSegments);l.amount=void 0!==l.height?l.height:50;void 0===l.bevelThickness&&(l.bevelThickness=10);void 0===l.bevelSize&&(l.bevelSize=8);void 0===l.bevelEnabled&&(l.bevelEnabled=!1);Y.call(this,a,l);this.type="TextBufferGeometry"}function od(a,l,b,c,d,f,g){ia.call(this);this.type="SphereGeometry";this.parameters={radius:a,widthSegments:l,heightSegments:b,phiStart:c,phiLength:d,thetaStart:f,thetaLength:g};this.fromBufferGeometry(new Qc(a,l,b,c,d,f,g));this.mergeVertices()}function Qc(a,l,r,c,
d,f,g){ca.call(this);this.type="SphereBufferGeometry";this.parameters={radius:a,widthSegments:l,heightSegments:r,phiStart:c,phiLength:d,thetaStart:f,thetaLength:g};a=a||50;l=Math.max(3,Math.floor(l)||8);r=Math.max(2,Math.floor(r)||6);c=void 0!==c?c:0;d=void 0!==d?d:2*Math.PI;f=void 0!==f?f:0;g=void 0!==g?g:Math.PI;var e=f+g,v,y,D=0,h=[],M=new b,k=new b,n=[],m=[],p=[],q=[];for(y=0;y<=r;y++){var t=[],w=y/r;for(v=0;v<=l;v++){var u=v/l;M.x=-a*Math.cos(c+u*d)*Math.sin(f+w*g);M.y=a*Math.cos(f+w*g);M.z=
a*Math.sin(c+u*d)*Math.sin(f+w*g);m.push(M.x,M.y,M.z);k.set(M.x,M.y,M.z).normalize();p.push(k.x,k.y,k.z);q.push(u,1-w);t.push(D++)}h.push(t)}for(y=0;y<r;y++)for(v=0;v<l;v++)a=h[y][v+1],c=h[y][v],d=h[y+1][v],g=h[y+1][v+1],(0!==y||0<f)&&n.push(a,c,g),(y!==r-1||e<Math.PI)&&n.push(c,d,g);this.setIndex(n);this.addAttribute("position",new W(m,3));this.addAttribute("normal",new W(p,3));this.addAttribute("uv",new W(q,2))}function Rc(a,l,b,c,d,f){ia.call(this);this.type="RingGeometry";this.parameters={innerRadius:a,
outerRadius:l,thetaSegments:b,phiSegments:c,thetaStart:d,thetaLength:f};this.fromBufferGeometry(new Sc(a,l,b,c,d,f));this.mergeVertices()}function Sc(a,l,r,c,d,g){ca.call(this);this.type="RingBufferGeometry";this.parameters={innerRadius:a,outerRadius:l,thetaSegments:r,phiSegments:c,thetaStart:d,thetaLength:g};a=a||20;l=l||50;d=void 0!==d?d:0;g=void 0!==g?g:2*Math.PI;r=void 0!==r?Math.max(3,r):8;c=void 0!==c?Math.max(1,c):1;var e=[],v=[],y=[],D=[],h=a,k=(l-a)/c,n=new b,m=new f,p,q;for(p=0;p<=c;p++){for(q=
0;q<=r;q++)a=d+q/r*g,n.x=h*Math.cos(a),n.y=h*Math.sin(a),v.push(n.x,n.y,n.z),y.push(0,0,1),m.x=(n.x/l+1)/2,m.y=(n.y/l+1)/2,D.push(m.x,m.y);h+=k}for(p=0;p<c;p++)for(l=p*(r+1),q=0;q<r;q++)a=q+l,d=a+r+1,g=a+r+2,h=a+1,e.push(a,d,h),e.push(d,g,h);this.setIndex(e);this.addAttribute("position",new W(v,3));this.addAttribute("normal",new W(y,3));this.addAttribute("uv",new W(D,2))}function cd(a,l,b,c){ia.call(this);this.type="LatheGeometry";this.parameters={points:a,segments:l,phiStart:b,phiLength:c};this.fromBufferGeometry(new Gc(a,
l,b,c));this.mergeVertices()}function Gc(a,l,r,c){ca.call(this);this.type="LatheBufferGeometry";this.parameters={points:a,segments:l,phiStart:r,phiLength:c};l=Math.floor(l)||12;r=r||0;c=c||2*Math.PI;c=Fa.clamp(c,0,2*Math.PI);var e=[],d=[],v=[],g=1/l,h=new b,k=new f,n;for(n=0;n<=l;n++){var m=r+n*g*c;var p=Math.sin(m),q=Math.cos(m);for(m=0;m<=a.length-1;m++)h.x=a[m].x*p,h.y=a[m].y,h.z=a[m].x*q,d.push(h.x,h.y,h.z),k.x=n/l,k.y=m/(a.length-1),v.push(k.x,k.y)}for(n=0;n<l;n++)for(m=0;m<a.length-1;m++)r=
m+n*a.length,g=r+a.length,h=r+a.length+1,k=r+1,e.push(r,g,k),e.push(g,h,k);this.setIndex(e);this.addAttribute("position",new W(d,3));this.addAttribute("uv",new W(v,2));this.computeVertexNormals();if(c===2*Math.PI)for(c=this.attributes.normal.array,e=new b,d=new b,v=new b,r=l*a.length*3,m=n=0;n<a.length;n++,m+=3)e.x=c[m+0],e.y=c[m+1],e.z=c[m+2],d.x=c[r+m+0],d.y=c[r+m+1],d.z=c[r+m+2],v.addVectors(e,d).normalize(),c[m+0]=c[r+m+0]=v.x,c[m+1]=c[r+m+1]=v.y,c[m+2]=c[r+m+2]=v.z}function Ab(a,l){ia.call(this);
this.type="ShapeGeometry";"object"===typeof l&&(console.warn("THREE.ShapeGeometry: Options parameter has been removed."),l=l.curveSegments);this.parameters={shapes:a,curveSegments:l};this.fromBufferGeometry(new Tc(a,l));this.mergeVertices()}function Tc(a,l){function e(a){var e,r=c.length/3;a=a.extractPoints(l);var v=a.shape,y=a.holes;if(!1===gd.isClockWise(v))for(v=v.reverse(),a=0,e=y.length;a<e;a++){var g=y[a];!0===gd.isClockWise(g)&&(y[a]=g.reverse())}var D=gd.triangulateShape(v,y);a=0;for(e=y.length;a<
e;a++)g=y[a],v=v.concat(g);a=0;for(e=v.length;a<e;a++)g=v[a],c.push(g.x,g.y,0),d.push(0,0,1),f.push(g.x,g.y);a=0;for(e=D.length;a<e;a++)v=D[a],b.push(v[0]+r,v[1]+r,v[2]+r),h+=3}ca.call(this);this.type="ShapeBufferGeometry";this.parameters={shapes:a,curveSegments:l};l=l||12;var b=[],c=[],d=[],f=[],g=0,h=0;if(!1===Array.isArray(a))e(a);else for(var k=0;k<a.length;k++)e(a[k]),this.addGroup(g,h,k),g+=h,h=0;this.setIndex(b);this.addAttribute("position",new W(c,3));this.addAttribute("normal",new W(d,3));
this.addAttribute("uv",new W(f,2))}function L(a,l){ca.call(this);this.type="EdgesGeometry";this.parameters={thresholdAngle:l};var e=[];l=Math.cos(Fa.DEG2RAD*(void 0!==l?l:1));var b=[0,0],c={},d=["a","b","c"];if(a.isBufferGeometry){var f=new ia;f.fromBufferGeometry(a)}else f=a.clone();f.mergeVertices();f.computeFaceNormals();a=f.vertices;f=f.faces;for(var g=0,h=f.length;g<h;g++)for(var k=f[g],n=0;3>n;n++){var m=k[d[n]];var p=k[d[(n+1)%3]];b[0]=Math.min(m,p);b[1]=Math.max(m,p);m=b[0]+","+b[1];void 0===
c[m]?c[m]={index1:b[0],index2:b[1],face1:g,face2:void 0}:c[m].face2=g}for(m in c)if(b=c[m],void 0===b.face2||f[b.face1].normal.dot(f[b.face2].normal)<=l)d=a[b.index1],e.push(d.x,d.y,d.z),d=a[b.index2],e.push(d.x,d.y,d.z);this.addAttribute("position",new W(e,3))}function Ba(a,l,b,c,d,f,g,h){ia.call(this);this.type="CylinderGeometry";this.parameters={radiusTop:a,radiusBottom:l,height:b,radialSegments:c,heightSegments:d,openEnded:f,thetaStart:g,thetaLength:h};this.fromBufferGeometry(new fb(a,l,b,c,d,
f,g,h));this.mergeVertices()}function fb(a,l,c,d,y,g,h,k){function e(e){var c,y=new f,g=new b,P=0,Ha=!0===e?a:l,na=!0===e?1:-1;var C=m;for(c=1;c<=d;c++)D.push(0,p*na,0),M.push(0,na,0),n.push(.5,.5),m++;var ja=m;for(c=0;c<=d;c++){var t=c/d*k+h,da=Math.cos(t);t=Math.sin(t);g.x=Ha*t;g.y=p*na;g.z=Ha*da;D.push(g.x,g.y,g.z);M.push(0,na,0);y.x=.5*da+.5;y.y=.5*t*na+.5;n.push(y.x,y.y);m++}for(c=0;c<d;c++)y=C+c,g=ja+c,!0===e?v.push(g,g+1,y):v.push(g+1,g,y),P+=3;r.addGroup(q,P,!0===e?1:2);q+=P}ca.call(this);
this.type="CylinderBufferGeometry";this.parameters={radiusTop:a,radiusBottom:l,height:c,radialSegments:d,heightSegments:y,openEnded:g,thetaStart:h,thetaLength:k};var r=this;a=void 0!==a?a:20;l=void 0!==l?l:20;c=void 0!==c?c:100;d=Math.floor(d)||8;y=Math.floor(y)||1;g=void 0!==g?g:!1;h=void 0!==h?h:0;k=void 0!==k?k:2*Math.PI;var v=[],D=[],M=[],n=[],m=0,P=[],p=c/2,q=0;(function(){var e,f,g=new b,Ha=new b,na=0,C=(l-a)/c;for(f=0;f<=y;f++){var ja=[],t=f/y,da=t*(l-a)+a;for(e=0;e<=d;e++){var w=e/d,Ta=w*
k+h,u=Math.sin(Ta);Ta=Math.cos(Ta);Ha.x=da*u;Ha.y=-t*c+p;Ha.z=da*Ta;D.push(Ha.x,Ha.y,Ha.z);g.set(u,C,Ta).normalize();M.push(g.x,g.y,g.z);n.push(w,1-t);ja.push(m++)}P.push(ja)}for(e=0;e<d;e++)for(f=0;f<y;f++)g=P[f+1][e],Ha=P[f+1][e+1],C=P[f][e+1],v.push(P[f][e],g,C),v.push(g,Ha,C),na+=6;r.addGroup(q,na,0);q+=na})();!1===g&&(0<a&&e(!0),0<l&&e(!1));this.setIndex(v);this.addAttribute("position",new W(D,3));this.addAttribute("normal",new W(M,3));this.addAttribute("uv",new W(n,2))}function Uc(a,l,b,c,d,
f,g){Ba.call(this,0,a,l,b,c,d,f,g);this.type="ConeGeometry";this.parameters={radius:a,height:l,radialSegments:b,heightSegments:c,openEnded:d,thetaStart:f,thetaLength:g}}function dd(a,l,b,c,d,f,g){fb.call(this,0,a,l,b,c,d,f,g);this.type="ConeBufferGeometry";this.parameters={radius:a,height:l,radialSegments:b,heightSegments:c,openEnded:d,thetaStart:f,thetaLength:g}}function vd(a,l,b,c){ia.call(this);this.type="CircleGeometry";this.parameters={radius:a,segments:l,thetaStart:b,thetaLength:c};this.fromBufferGeometry(new ld(a,
l,b,c));this.mergeVertices()}function ld(a,l,c,d){ca.call(this);this.type="CircleBufferGeometry";this.parameters={radius:a,segments:l,thetaStart:c,thetaLength:d};a=a||50;l=void 0!==l?Math.max(3,l):8;c=void 0!==c?c:0;d=void 0!==d?d:2*Math.PI;var e=[],r=[],v=[],g=[],h,k=new b,n=new f;r.push(0,0,0);v.push(0,0,1);g.push(.5,.5);var m=0;for(h=3;m<=l;m++,h+=3){var p=c+m/l*d;k.x=a*Math.cos(p);k.y=a*Math.sin(p);r.push(k.x,k.y,k.z);v.push(0,0,1);n.x=(r[h]/a+1)/2;n.y=(r[h+1]/a+1)/2;g.push(n.x,n.y)}for(h=1;h<=
l;h++)e.push(h,h+1,0);this.setIndex(e);this.addAttribute("position",new W(r,3));this.addAttribute("normal",new W(v,3));this.addAttribute("uv",new W(g,2))}function pc(a){Ra.call(this,{uniforms:qc.merge([Aa.lights,{opacity:{value:1}}]),vertexShader:Pa.shadow_vert,fragmentShader:Pa.shadow_frag});this.transparent=this.lights=!0;Object.defineProperties(this,{opacity:{enumerable:!0,get:function(){return this.uniforms.opacity.value},set:function(a){this.uniforms.opacity.value=a}}});this.setValues(a)}function ed(a){Ra.call(this,
a);this.type="RawShaderMaterial"}function ec(a){qa.call(this);this.defines={STANDARD:""};this.type="MeshStandardMaterial";this.color=new Q(16777215);this.metalness=this.roughness=.5;this.lightMap=this.map=null;this.lightMapIntensity=1;this.aoMap=null;this.aoMapIntensity=1;this.emissive=new Q(0);this.emissiveIntensity=1;this.bumpMap=this.emissiveMap=null;this.bumpScale=1;this.normalMap=null;this.normalScale=new f(1,1);this.displacementMap=null;this.displacementScale=1;this.displacementBias=0;this.envMap=
this.alphaMap=this.metalnessMap=this.roughnessMap=null;this.envMapIntensity=1;this.refractionRatio=.98;this.wireframe=!1;this.wireframeLinewidth=1;this.wireframeLinejoin=this.wireframeLinecap="round";this.morphNormals=this.morphTargets=this.skinning=!1;this.setValues(a)}function jd(a){ec.call(this);this.defines={PHYSICAL:""};this.type="MeshPhysicalMaterial";this.reflectivity=.5;this.clearCoatRoughness=this.clearCoat=0;this.setValues(a)}function rc(a){qa.call(this);this.type="MeshPhongMaterial";this.color=
new Q(16777215);this.specular=new Q(1118481);this.shininess=30;this.lightMap=this.map=null;this.lightMapIntensity=1;this.aoMap=null;this.aoMapIntensity=1;this.emissive=new Q(0);this.emissiveIntensity=1;this.bumpMap=this.emissiveMap=null;this.bumpScale=1;this.normalMap=null;this.normalScale=new f(1,1);this.displacementMap=null;this.displacementScale=1;this.displacementBias=0;this.envMap=this.alphaMap=this.specularMap=null;this.combine=0;this.reflectivity=1;this.refractionRatio=.98;this.wireframe=!1;
this.wireframeLinewidth=1;this.wireframeLinejoin=this.wireframeLinecap="round";this.morphNormals=this.morphTargets=this.skinning=!1;this.setValues(a)}function rd(a){rc.call(this);this.defines={TOON:""};this.type="MeshToonMaterial";this.gradientMap=null;this.setValues(a)}function sd(a){qa.call(this);this.type="MeshNormalMaterial";this.bumpMap=null;this.bumpScale=1;this.normalMap=null;this.normalScale=new f(1,1);this.displacementMap=null;this.displacementScale=1;this.displacementBias=0;this.wireframe=
!1;this.wireframeLinewidth=1;this.morphNormals=this.morphTargets=this.skinning=this.lights=this.fog=!1;this.setValues(a)}function Wc(a){qa.call(this);this.type="MeshLambertMaterial";this.color=new Q(16777215);this.lightMap=this.map=null;this.lightMapIntensity=1;this.aoMap=null;this.aoMapIntensity=1;this.emissive=new Q(0);this.emissiveIntensity=1;this.envMap=this.alphaMap=this.specularMap=this.emissiveMap=null;this.combine=0;this.reflectivity=1;this.refractionRatio=.98;this.wireframe=!1;this.wireframeLinewidth=
1;this.wireframeLinejoin=this.wireframeLinecap="round";this.morphNormals=this.morphTargets=this.skinning=!1;this.setValues(a)}function gc(a){qa.call(this);this.type="LineDashedMaterial";this.color=new Q(16777215);this.scale=this.linewidth=1;this.dashSize=3;this.gapSize=1;this.lights=!1;this.setValues(a)}function ce(a,l,b){var e=this,c=!1,r=0,d=0;this.onStart=void 0;this.onLoad=a;this.onProgress=l;this.onError=b;this.itemStart=function(a){d++;if(!1===c&&void 0!==e.onStart)e.onStart(a,r,d);c=!0};this.itemEnd=
function(a){r++;if(void 0!==e.onProgress)e.onProgress(a,r,d);if(r===d&&(c=!1,void 0!==e.onLoad))e.onLoad()};this.itemError=function(a){if(void 0!==e.onError)e.onError(a)}}function sc(a){this.manager=void 0!==a?a:Hc}function Xc(a){this.manager=void 0!==a?a:Hc;this._parser=null}function ic(a){this.manager=void 0!==a?a:Hc;this._parser=null}function ud(a){this.manager=void 0!==a?a:Hc}function Da(a){this.manager=void 0!==a?a:Hc}function Od(a){this.manager=void 0!==a?a:Hc}function B(a,l){O.call(this);this.type=
"Light";this.color=new Q(a);this.intensity=void 0!==l?l:1;this.receiveShadow=void 0}function Z(a,l,b){B.call(this,a,b);this.type="HemisphereLight";this.castShadow=void 0;this.position.copy(O.DefaultUp);this.updateMatrix();this.groundColor=new Q(l)}function ya(a){this.camera=a;this.bias=0;this.radius=1;this.mapSize=new f(512,512);this.map=null;this.matrix=new t}function ab(){ya.call(this,new Qa(50,1,.5,500))}function Dd(a,l,b,c,d,f){B.call(this,a,l);this.type="SpotLight";this.position.copy(O.DefaultUp);
this.updateMatrix();this.target=new O;Object.defineProperty(this,"power",{get:function(){return this.intensity*Math.PI},set:function(a){this.intensity=a/Math.PI}});this.distance=void 0!==b?b:0;this.angle=void 0!==c?c:Math.PI/3;this.penumbra=void 0!==d?d:0;this.decay=void 0!==f?f:1;this.shadow=new ab}function Pd(a,l,b,c){B.call(this,a,l);this.type="PointLight";Object.defineProperty(this,"power",{get:function(){return 4*this.intensity*Math.PI},set:function(a){this.intensity=a/(4*Math.PI)}});this.distance=
void 0!==b?b:0;this.decay=void 0!==c?c:1;this.shadow=new ya(new Qa(90,1,.5,500))}function Ec(){ya.call(this,new S(-5,5,5,-5,.5,500))}function te(a,l){B.call(this,a,l);this.type="DirectionalLight";this.position.copy(O.DefaultUp);this.updateMatrix();this.target=new O;this.shadow=new Ec}function qe(a,l){B.call(this,a,l);this.type="AmbientLight";this.castShadow=void 0}function re(a,l,b,c){B.call(this,a,l);this.type="RectAreaLight";this.position.set(0,1,0);this.updateMatrix();this.width=void 0!==b?b:10;
this.height=void 0!==c?c:10}function Fc(a,l,b,c){this.parameterPositions=a;this._cachedIndex=0;this.resultBuffer=void 0!==c?c:new l.constructor(b);this.sampleValues=l;this.valueSize=b}function se(a,l,b,c){Fc.call(this,a,l,b,c);this._offsetNext=this._weightNext=this._offsetPrev=this._weightPrev=-0}function de(a,l,b,c){Fc.call(this,a,l,b,c)}function xe(a,l,b,c){Fc.call(this,a,l,b,c)}function Jd(a,l,b,c){if(void 0===a)throw Error("track name is undefined");if(void 0===l||0===l.length)throw Error("no keyframes in track named "+
a);this.name=a;this.times=Yb.convertArray(l,this.TimeBufferType);this.values=Yb.convertArray(b,this.ValueBufferType);this.setInterpolation(c||this.DefaultInterpolation);this.validate();this.optimize()}function Td(a,l,b,c){Jd.call(this,a,l,b,c)}function ye(a,l,b,c){Fc.call(this,a,l,b,c)}function ge(a,l,b,c){Jd.call(this,a,l,b,c)}function Ud(a,l,b,c){Jd.call(this,a,l,b,c)}function ze(a,l,b,c){Jd.call(this,a,l,b,c)}function Ae(a,l,b){Jd.call(this,a,l,b)}function Be(a,l,b,c){Jd.call(this,a,l,b,c)}function Id(a,
l,b,c){Jd.apply(this,arguments)}function Vc(a,l,b){this.name=a;this.tracks=b;this.duration=void 0!==l?l:-1;this.uuid=Fa.generateUUID();0>this.duration&&this.resetDuration();this.optimize()}function ue(a){this.manager=void 0!==a?a:Hc;this.textures={}}function Qe(a){this.manager=void 0!==a?a:Hc}function Vd(){this.onLoadStart=function(){};this.onLoadProgress=function(){};this.onLoadComplete=function(){}}function Ke(a){"boolean"===typeof a&&(console.warn("THREE.JSONLoader: showStatus parameter has been removed from constructor."),
a=void 0);this.manager=void 0!==a?a:Hc;this.withCredentials=!1}function lf(a){this.manager=void 0!==a?a:Hc;this.texturePath=""}function gf(a,l,b,c,d){l=.5*(c-l);d=.5*(d-b);var e=a*a;return(2*b-2*c+l+d)*a*e+(-3*b+3*c-2*l-d)*e+l*a+b}function Kd(a,l,b,c){var e=1-a;return e*e*l+2*(1-a)*a*b+a*a*c}function ba(a,l,b,c,d){var e=1-a,r=1-a;return e*e*e*l+3*r*r*a*b+3*(1-a)*a*a*c+a*a*a*d}function fc(){this.arcLengthDivisions=200}function fd(a,l){this.arcLengthDivisions=200;this.v1=a;this.v2=l}function ee(){this.arcLengthDivisions=
200;this.curves=[];this.autoClose=!1}function pd(a,l,b,c,d,f,g,h){this.arcLengthDivisions=200;this.aX=a;this.aY=l;this.xRadius=b;this.yRadius=c;this.aStartAngle=d;this.aEndAngle=f;this.aClockwise=g;this.aRotation=h||0}function Ed(a){this.arcLengthDivisions=200;this.points=void 0===a?[]:a}function Qd(a,l,b,c){this.arcLengthDivisions=200;this.v0=a;this.v1=l;this.v2=b;this.v3=c}function Rd(a,l,b){this.arcLengthDivisions=200;this.v0=a;this.v1=l;this.v2=b}function fe(a){ee.call(this);this.currentPoint=
new f;a&&this.fromPoints(a)}function Hd(){fe.apply(this,arguments);this.holes=[]}function Je(){this.subPaths=[];this.currentPath=null}function ve(a){this.data=a}function hf(a){this.manager=void 0!==a?a:Hc}function Le(a){this.manager=void 0!==a?a:Hc}function jf(){this.type="StereoCamera";this.aspect=1;this.eyeSep=.064;this.cameraL=new Qa;this.cameraL.layers.enable(1);this.cameraL.matrixAutoUpdate=!1;this.cameraR=new Qa;this.cameraR.layers.enable(2);this.cameraR.matrixAutoUpdate=!1}function we(a,l,
c){O.call(this);this.type="CubeCamera";var e=new Qa(90,1,a,l);e.up.set(0,-1,0);e.lookAt(new b(1,0,0));this.add(e);var r=new Qa(90,1,a,l);r.up.set(0,-1,0);r.lookAt(new b(-1,0,0));this.add(r);var d=new Qa(90,1,a,l);d.up.set(0,0,1);d.lookAt(new b(0,1,0));this.add(d);var f=new Qa(90,1,a,l);f.up.set(0,0,-1);f.lookAt(new b(0,-1,0));this.add(f);var g=new Qa(90,1,a,l);g.up.set(0,-1,0);g.lookAt(new b(0,0,1));this.add(g);var h=new Qa(90,1,a,l);h.up.set(0,-1,0);h.lookAt(new b(0,0,-1));this.add(h);this.renderTarget=
new z(c,c,{format:1022,magFilter:1006,minFilter:1006});this.renderTarget.texture.name="CubeCamera";this.updateCubeMap=function(a,l){null===this.parent&&this.updateMatrixWorld();var b=this.renderTarget,c=b.texture.generateMipmaps;b.texture.generateMipmaps=!1;b.activeCubeFace=0;a.render(l,e,b);b.activeCubeFace=1;a.render(l,r,b);b.activeCubeFace=2;a.render(l,d,b);b.activeCubeFace=3;a.render(l,f,b);b.activeCubeFace=4;a.render(l,g,b);b.texture.generateMipmaps=c;b.activeCubeFace=5;a.render(l,h,b);a.setRenderTarget(null)}}
function Me(){O.call(this);this.type="AudioListener";this.context=Ue.getContext();this.gain=this.context.createGain();this.gain.connect(this.context.destination);this.filter=null}function Sd(a){O.call(this);this.type="Audio";this.context=a.context;this.gain=this.context.createGain();this.gain.connect(a.getInput());this.autoplay=!1;this.buffer=null;this.loop=!1;this.startTime=0;this.playbackRate=1;this.isPlaying=!1;this.hasPlaybackControl=!0;this.sourceType="empty";this.filters=[]}function Ne(a){Sd.call(this,
a);this.panner=this.context.createPanner();this.panner.connect(this.gain)}function Oe(a,l){this.analyser=a.context.createAnalyser();this.analyser.fftSize=void 0!==l?l:2048;this.data=new Uint8Array(this.analyser.frequencyBinCount);a.getOutput().connect(this.analyser)}function Pe(a,l,b){this.binding=a;this.valueSize=b;a=Float64Array;switch(l){case "quaternion":l=this._slerp;break;case "string":case "bool":a=Array;l=this._select;break;default:l=this._lerp}this.buffer=new a(4*b);this._mixBufferRegion=
l;this.referenceCount=this.useCount=this.cumulativeWeight=0}function kf(a,l,b){b=b||Xb.parseTrackName(l);this._targetGroup=a;this._bindings=a.subscribe_(l,b)}function Xb(a,l,b){this.path=l;this.parsedPath=b||Xb.parseTrackName(l);this.node=Xb.findNode(a,this.parsedPath.nodeName)||a;this.rootNode=a}function sf(a){this.uuid=Fa.generateUUID();this._objects=Array.prototype.slice.call(arguments);this.nCachedObjects_=0;var e={};this._indicesByUUID=e;for(var b=0,c=arguments.length;b!==c;++b)e[arguments[b].uuid]=
b;this._paths=[];this._parsedPaths=[];this._bindings=[];this._bindingsIndicesByPath={};var d=this;this.stats={objects:{get total(){return d._objects.length},get inUse(){return this.total-d.nCachedObjects_}},get bindingsPerObject(){return d._bindings.length}}}function tf(a,l,b){this._mixer=a;this._clip=l;this._localRoot=b||null;a=l.tracks;l=a.length;b=Array(l);for(var e={endingStart:2400,endingEnd:2400},c=0;c!==l;++c){var r=a[c].createInterpolant(null);b[c]=r;r.settings=e}this._interpolantSettings=
e;this._interpolants=b;this._propertyBindings=Array(l);this._weightInterpolant=this._timeScaleInterpolant=this._byClipCacheIndex=this._cacheIndex=null;this.loop=2201;this._loopCount=-1;this._startTime=null;this.time=0;this._effectiveWeight=this.weight=this._effectiveTimeScale=this.timeScale=1;this.repetitions=Infinity;this.paused=!1;this.enabled=!0;this.clampWhenFinished=!1;this.zeroSlopeAtEnd=this.zeroSlopeAtStart=!0}function uf(a){this._root=a;this._initMemoryManager();this.time=this._accuIndex=
0;this.timeScale=1}function Ce(a,l){"string"===typeof a&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),a=l);this.value=a}function Ve(){ca.call(this);this.type="InstancedBufferGeometry";this.maxInstancedCount=void 0}function We(a,l,b,c){this.uuid=Fa.generateUUID();this.data=a;this.itemSize=l;this.offset=b;this.normalized=!0===c}function Wd(a,l){this.uuid=Fa.generateUUID();this.array=a;this.stride=l;this.count=void 0!==a?a.length/l:0;this.dynamic=!1;this.updateRange={offset:0,
count:-1};this.onUploadCallback=function(){};this.version=0}function Xe(a,l,b){Wd.call(this,a,l);this.meshPerAttribute=b||1}function Ye(a,l,b){sa.call(this,a,l);this.meshPerAttribute=b||1}function vf(a,l,b,c){this.ray=new Ub(a,l);this.near=b||0;this.far=c||Infinity;this.params={Mesh:{},Line:{},LOD:{},Points:{threshold:1},Sprite:{}};Object.defineProperties(this.params,{PointCloud:{get:function(){console.warn("THREE.Raycaster: params.PointCloud has been renamed to params.Points.");return this.Points}}})}
function wf(a,l){return a.distance-l.distance}function Ze(a,l,b,c){if(!1!==a.visible&&(a.raycast(l,b),!0===c)){a=a.children;c=0;for(var e=a.length;c<e;c++)Ze(a[c],l,b,!0)}}function xf(a){this.autoStart=void 0!==a?a:!0;this.elapsedTime=this.oldTime=this.startTime=0;this.running=!1}function yf(a,l,b){this.radius=void 0!==a?a:1;this.phi=void 0!==l?l:0;this.theta=void 0!==b?b:0;return this}function zf(a,l,b){this.radius=void 0!==a?a:1;this.theta=void 0!==l?l:0;this.y=void 0!==b?b:0;return this}function Nb(a,
l){Ga.call(this,a,l);this.animationsMap={};this.animationsList=[];a=this.geometry.morphTargets.length;this.createAnimation("__default",0,a-1,a/1);this.setAnimationWeight("__default",1)}function he(a){O.call(this);this.material=a;this.render=function(a){}}function ie(a,l,b,c){this.object=a;this.size=void 0!==l?l:1;a=void 0!==b?b:16711680;c=void 0!==c?c:1;l=0;(b=this.object.geometry)&&b.isGeometry?l=3*b.faces.length:b&&b.isBufferGeometry&&(l=b.attributes.normal.count);b=new ca;l=new W(6*l,3);b.addAttribute("position",
l);va.call(this,b,new Ea({color:a,linewidth:c}));this.matrixAutoUpdate=!1;this.update()}function Xd(a){O.call(this);this.light=a;this.light.updateMatrixWorld();this.matrix=a.matrixWorld;this.matrixAutoUpdate=!1;a=new ca;for(var e=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1],b=0,c=1;32>b;b++,c++){var d=b/32*Math.PI*2,f=c/32*Math.PI*2;e.push(Math.cos(d),Math.sin(d),1,Math.cos(f),Math.sin(f),1)}a.addAttribute("position",new W(e,3));e=new Ea({fog:!1});this.cone=new va(a,e);this.add(this.cone);
this.update()}function Af(a){var e=[];a&&a.isBone&&e.push(a);for(var b=0;b<a.children.length;b++)e.push.apply(e,Af(a.children[b]));return e}function Yd(a){for(var e=Af(a),b=new ca,c=[],d=[],f=new Q(0,0,1),g=new Q(0,1,0),h=0;h<e.length;h++){var k=e[h];k.parent&&k.parent.isBone&&(c.push(0,0,0),c.push(0,0,0),d.push(f.r,f.g,f.b),d.push(g.r,g.g,g.b))}b.addAttribute("position",new W(c,3));b.addAttribute("color",new W(d,3));c=new Ea({vertexColors:2,depthTest:!1,depthWrite:!1,transparent:!0});va.call(this,
b,c);this.root=a;this.bones=e;this.matrix=a.matrixWorld;this.matrixAutoUpdate=!1;this.onBeforeRender()}function Zd(a,b){this.light=a;this.light.updateMatrixWorld();a=new Qc(b,4,2);b=new mb({wireframe:!0,fog:!1});b.color.copy(this.light.color);Ga.call(this,a,b);this.matrix=this.light.matrixWorld;this.matrixAutoUpdate=!1}function $d(a){O.call(this);this.light=a;this.light.updateMatrixWorld();this.matrix=a.matrixWorld;this.matrixAutoUpdate=!1;a=new Ea({color:a.color});var e=new ca;e.addAttribute("position",
new sa(new Float32Array(15),3));this.add(new kb(e,a));this.update()}function ae(a,b){O.call(this);this.light=a;this.light.updateMatrixWorld();this.matrix=a.matrixWorld;this.matrixAutoUpdate=!1;a=new sb(b);a.rotateY(.5*Math.PI);b=new mb({vertexColors:2,wireframe:!0});var e=a.getAttribute("position");e=new Float32Array(3*e.count);a.addAttribute("color",new sa(e,3));this.add(new Ga(a,b));this.update()}function je(a,b,c,d){a=a||10;b=b||10;c=new Q(void 0!==c?c:4473924);d=new Q(void 0!==d?d:8947848);var e=
b/2,l=a/b,r=a/2;a=[];for(var f=[],v=0,g=0,h=-r;v<=b;v++,h+=l){a.push(-r,0,h,r,0,h);a.push(h,0,-r,h,0,r);var k=v===e?c:d;k.toArray(f,g);g+=3;k.toArray(f,g);g+=3;k.toArray(f,g);g+=3;k.toArray(f,g);g+=3}b=new ca;b.addAttribute("position",new W(a,3));b.addAttribute("color",new W(f,3));c=new Ea({vertexColors:2});va.call(this,b,c)}function De(a,b,c,d,f,g){a=a||10;b=b||16;c=c||8;d=d||64;f=new Q(void 0!==f?f:4473924);g=new Q(void 0!==g?g:8947848);var e=[],l=[],r;for(r=0;r<=b;r++){var v=r/b*2*Math.PI;var y=
Math.sin(v)*a;v=Math.cos(v)*a;e.push(0,0,0);e.push(y,0,v);var h=r&1?f:g;l.push(h.r,h.g,h.b);l.push(h.r,h.g,h.b)}for(r=0;r<=c;r++){h=r&1?f:g;var D=a-a/c*r;for(b=0;b<d;b++)v=b/d*2*Math.PI,y=Math.sin(v)*D,v=Math.cos(v)*D,e.push(y,0,v),l.push(h.r,h.g,h.b),v=(b+1)/d*2*Math.PI,y=Math.sin(v)*D,v=Math.cos(v)*D,e.push(y,0,v),l.push(h.r,h.g,h.b)}a=new ca;a.addAttribute("position",new W(e,3));a.addAttribute("color",new W(l,3));e=new Ea({vertexColors:2});va.call(this,a,e)}function ke(a,b,c,d){this.object=a;this.size=
void 0!==b?b:1;a=void 0!==c?c:16776960;d=void 0!==d?d:1;b=0;(c=this.object.geometry)&&c.isGeometry?b=c.faces.length:console.warn("THREE.FaceNormalsHelper: only THREE.Geometry is supported. Use THREE.VertexNormalsHelper, instead.");c=new ca;b=new W(6*b,3);c.addAttribute("position",b);va.call(this,c,new Ea({color:a,linewidth:d}));this.matrixAutoUpdate=!1;this.update()}function be(a,b){O.call(this);this.light=a;this.light.updateMatrixWorld();this.matrix=a.matrixWorld;this.matrixAutoUpdate=!1;void 0===
b&&(b=1);a=new ca;a.addAttribute("position",new W([-b,b,0,b,b,0,b,-b,0,-b,-b,0,-b,b,0],3));b=new Ea({fog:!1});this.add(new kb(a,b));a=new ca;a.addAttribute("position",new W([0,0,0,0,0,1],3));this.add(new kb(a,b));this.update()}function le(a){function e(a,e,l){b(a,l);b(e,l)}function b(a,e){f.push(0,0,0);g.push(e.r,e.g,e.b);void 0===h[a]&&(h[a]=[]);h[a].push(f.length/3-1)}var c=new ca,d=new Ea({color:16777215,vertexColors:1}),f=[],g=[],h={},k=new Q(16755200),n=new Q(16711680),m=new Q(43775),p=new Q(16777215),
C=new Q(3355443);e("n1","n2",k);e("n2","n4",k);e("n4","n3",k);e("n3","n1",k);e("f1","f2",k);e("f2","f4",k);e("f4","f3",k);e("f3","f1",k);e("n1","f1",k);e("n2","f2",k);e("n3","f3",k);e("n4","f4",k);e("p","n1",n);e("p","n2",n);e("p","n3",n);e("p","n4",n);e("u1","u2",m);e("u2","u3",m);e("u3","u1",m);e("c","t",p);e("p","c",C);e("cn1","cn2",C);e("cn3","cn4",C);e("cf1","cf2",C);e("cf3","cf4",C);c.addAttribute("position",new W(f,3));c.addAttribute("color",new W(g,3));va.call(this,c,d);this.camera=a;this.camera.updateProjectionMatrix&&
this.camera.updateProjectionMatrix();this.matrix=a.matrixWorld;this.matrixAutoUpdate=!1;this.pointMap=h;this.update()}function Md(a,b){this.object=a;void 0===b&&(b=16776960);a=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]);var e=new Float32Array(24),l=new ca;l.setIndex(new sa(a,1));l.addAttribute("position",new sa(e,3));va.call(this,l,new Ea({color:b}));this.matrixAutoUpdate=!1;this.update()}function Nd(a,b,c,d,f,g){O.call(this);void 0===d&&(d=16776960);void 0===c&&(c=1);void 0===
f&&(f=.2*c);void 0===g&&(g=.2*f);void 0===Ee&&(Ee=new ca,Ee.addAttribute("position",new W([0,0,0,0,1,0],3)),$e=new fb(0,.5,1,5,1),$e.translate(0,-.5,0));this.position.copy(b);this.line=new kb(Ee,new Ea({color:d}));this.line.matrixAutoUpdate=!1;this.add(this.line);this.cone=new Ga($e,new mb({color:d}));this.cone.matrixAutoUpdate=!1;this.add(this.cone);this.setDirection(a);this.setLength(c,f,g)}function Fe(a){a=a||1;var e=[0,0,0,a,0,0,0,0,0,0,a,0,0,0,0,0,0,a];a=new ca;a.addAttribute("position",new W(e,
3));a.addAttribute("color",new W([1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],3));e=new Ea({vertexColors:2});va.call(this,a,e)}function af(){var a=0,b=0,c=0,d=0;return{initCatmullRom:function(e,l,r,f,v){e=v*(r-e);f=v*(f-l);a=l;b=e;c=-3*l+3*r-2*e-f;d=2*l-2*r+e+f},initNonuniformCatmullRom:function(e,l,r,f,v,g,h){e=((l-e)/v-(r-e)/(v+g)+(r-l)/g)*g;f=((r-l)/g-(f-l)/(g+h)+(f-r)/h)*g;a=l;b=e;c=-3*l+3*r-2*e-f;d=2*l-2*r+e+f},calc:function(e){var l=e*e;return a+b*e+c*l+d*l*e}}}function hd(a){this.arcLengthDivisions=
200;2>a.length&&console.warn("THREE.CatmullRomCurve3: Points array needs at least two entries.");this.points=a||[];this.closed=!1}function me(a,b,c,d){this.arcLengthDivisions=200;this.v0=a;this.v1=b;this.v2=c;this.v3=d}function ne(a,b,c){this.arcLengthDivisions=200;this.v0=a;this.v1=b;this.v2=c}function oe(a,b){this.arcLengthDivisions=200;this.v1=a;this.v2=b}function Ge(a,b,c,d,f,g){pd.call(this,a,b,c,c,d,f,g)}function Bf(a){console.warn("THREE.ClosedSplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead.");
hd.call(this,a);this.type="catmullrom";this.closed=!0}function Cf(a){console.warn("THREE.SplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead.");hd.call(this,a);this.type="catmullrom"}function bf(a){console.warn("THREE.Spline has been removed. Use THREE.CatmullRomCurve3 instead.");hd.call(this,a);this.type="catmullrom"}void 0===Number.EPSILON&&(Number.EPSILON=Math.pow(2,-52));void 0===Number.isInteger&&(Number.isInteger=function(a){return"number"===typeof a&&isFinite(a)&&Math.floor(a)===
a});void 0===Math.sign&&(Math.sign=function(a){return 0>a?-1:0<a?1:+a});void 0===Function.prototype.name&&Object.defineProperty(Function.prototype,"name",{get:function(){return this.toString().match(/^\s*function\s*([^\(\s]*)/)[1]}});void 0===Object.assign&&function(){Object.assign=function(a){if(void 0===a||null===a)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(a),b=1;b<arguments.length;b++){var c=arguments[b];if(void 0!==c&&null!==c)for(var d in c)Object.prototype.hasOwnProperty.call(c,
d)&&(e[d]=c[d])}return e}}();Object.assign(m.prototype,{addEventListener:function(a,b){void 0===this._listeners&&(this._listeners={});var e=this._listeners;void 0===e[a]&&(e[a]=[]);-1===e[a].indexOf(b)&&e[a].push(b)},hasEventListener:function(a,b){if(void 0===this._listeners)return!1;var e=this._listeners;return void 0!==e[a]&&-1!==e[a].indexOf(b)},removeEventListener:function(a,b){void 0!==this._listeners&&(a=this._listeners[a],void 0!==a&&(b=a.indexOf(b),-1!==b&&a.splice(b,1)))},dispatchEvent:function(a){if(void 0!==
this._listeners){var e=this._listeners[a.type];if(void 0!==e){a.target=this;e=e.slice(0);for(var b=0,c=e.length;b<c;b++)e[b].call(this,a)}}}});var Fa={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){var a="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),b=Array(36),c=0,d;return function(){for(var e=0;36>e;e++)8===e||13===e||18===e||23===e?b[e]="-":14===e?b[e]="4":(2>=c&&(c=33554432+16777216*Math.random()|0),d=c&15,c>>=4,b[e]=a[19===e?d&3|8:d]);return b.join("")}}(),
clamp:function(a,b,c){return Math.max(b,Math.min(c,a))},euclideanModulo:function(a,b){return(a%b+b)%b},mapLinear:function(a,b,c,d,f){return d+(a-b)*(f-d)/(c-b)},lerp:function(a,b,c){return(1-c)*a+c*b},smoothstep:function(a,b,c){if(a<=b)return 0;if(a>=c)return 1;a=(a-b)/(c-b);return a*a*(3-2*a)},smootherstep:function(a,b,c){if(a<=b)return 0;if(a>=c)return 1;a=(a-b)/(c-b);return a*a*a*(a*(6*a-15)+10)},randInt:function(a,b){return a+Math.floor(Math.random()*(b-a+1))},randFloat:function(a,b){return a+
Math.random()*(b-a)},randFloatSpread:function(a){return a*(.5-Math.random())},degToRad:function(a){return a*Fa.DEG2RAD},radToDeg:function(a){return a*Fa.RAD2DEG},isPowerOfTwo:function(a){return 0===(a&a-1)&&0!==a},nearestPowerOfTwo:function(a){return Math.pow(2,Math.round(Math.log(a)/Math.LN2))},nextPowerOfTwo:function(a){a--;a|=a>>1;a|=a>>2;a|=a>>4;a|=a>>8;a|=a>>16;a++;return a}};Object.defineProperties(f.prototype,{width:{get:function(){return this.x},set:function(a){this.x=a}},height:{get:function(){return this.y},
set:function(a){this.y=a}}});Object.assign(f.prototype,{isVector2:!0,set:function(a,b){this.x=a;this.y=b;return this},setScalar:function(a){this.y=this.x=a;return this},setX:function(a){this.x=a;return this},setY:function(a){this.y=a;return this},setComponent:function(a,b){switch(a){case 0:this.x=b;break;case 1:this.y=b;break;default:throw Error("index is out of range: "+a);}return this},getComponent:function(a){switch(a){case 0:return this.x;case 1:return this.y;default:throw Error("index is out of range: "+
a);}},clone:function(){return new this.constructor(this.x,this.y)},copy:function(a){this.x=a.x;this.y=a.y;return this},add:function(a,b){if(void 0!==b)return console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(a,b);this.x+=a.x;this.y+=a.y;return this},addScalar:function(a){this.x+=a;this.y+=a;return this},addVectors:function(a,b){this.x=a.x+b.x;this.y=a.y+b.y;return this},addScaledVector:function(a,b){this.x+=a.x*b;this.y+=a.y*b;return this},
sub:function(a,b){if(void 0!==b)return console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(a,b);this.x-=a.x;this.y-=a.y;return this},subScalar:function(a){this.x-=a;this.y-=a;return this},subVectors:function(a,b){this.x=a.x-b.x;this.y=a.y-b.y;return this},multiply:function(a){this.x*=a.x;this.y*=a.y;return this},multiplyScalar:function(a){this.x*=a;this.y*=a;return this},divide:function(a){this.x/=a.x;this.y/=a.y;return this},divideScalar:function(a){return this.multiplyScalar(1/
a)},min:function(a){this.x=Math.min(this.x,a.x);this.y=Math.min(this.y,a.y);return this},max:function(a){this.x=Math.max(this.x,a.x);this.y=Math.max(this.y,a.y);return this},clamp:function(a,b){this.x=Math.max(a.x,Math.min(b.x,this.x));this.y=Math.max(a.y,Math.min(b.y,this.y));return this},clampScalar:function(){var a=new f,b=new f;return function(e,l){a.set(e,e);b.set(l,l);return this.clamp(a,b)}}(),clampLength:function(a,b){var e=this.length();return this.divideScalar(e||1).multiplyScalar(Math.max(a,
Math.min(b,e)))},floor:function(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);return this},ceil:function(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);return this},round:function(){this.x=Math.round(this.x);this.y=Math.round(this.y);return this},roundToZero:function(){this.x=0>this.x?Math.ceil(this.x):Math.floor(this.x);this.y=0>this.y?Math.ceil(this.y):Math.floor(this.y);return this},negate:function(){this.x=-this.x;this.y=-this.y;return this},dot:function(a){return this.x*a.x+this.y*
a.y},lengthSq:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y)},normalize:function(){return this.divideScalar(this.length()||1)},angle:function(){var a=Math.atan2(this.y,this.x);0>a&&(a+=2*Math.PI);return a},distanceTo:function(a){return Math.sqrt(this.distanceToSquared(a))},distanceToSquared:function(a){var e=this.x-a.x;a=this.y-a.y;return e*e+a*a},distanceToManhattan:function(a){return Math.abs(this.x-
a.x)+Math.abs(this.y-a.y)},setLength:function(a){return this.normalize().multiplyScalar(a)},lerp:function(a,b){this.x+=(a.x-this.x)*b;this.y+=(a.y-this.y)*b;return this},lerpVectors:function(a,b,c){return this.subVectors(b,a).multiplyScalar(c).add(a)},equals:function(a){return a.x===this.x&&a.y===this.y},fromArray:function(a,b){void 0===b&&(b=0);this.x=a[b];this.y=a[b+1];return this},toArray:function(a,b){void 0===a&&(a=[]);void 0===b&&(b=0);a[b]=this.x;a[b+1]=this.y;return a},fromBufferAttribute:function(a,
b,c){void 0!==c&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute().");this.x=a.getX(b);this.y=a.getY(b);return this},rotateAround:function(a,b){var e=Math.cos(b);b=Math.sin(b);var l=this.x-a.x,c=this.y-a.y;this.x=l*e-c*b+a.x;this.y=l*b+c*e+a.y;return this}});var Gf=0;k.DEFAULT_IMAGE=void 0;k.DEFAULT_MAPPING=300;Object.defineProperty(k.prototype,"needsUpdate",{set:function(a){!0===a&&this.version++}});Object.assign(k.prototype,m.prototype,{constructor:k,isTexture:!0,
clone:function(){return(new this.constructor).copy(this)},copy:function(a){this.name=a.name;this.image=a.image;this.mipmaps=a.mipmaps.slice(0);this.mapping=a.mapping;this.wrapS=a.wrapS;this.wrapT=a.wrapT;this.magFilter=a.magFilter;this.minFilter=a.minFilter;this.anisotropy=a.anisotropy;this.format=a.format;this.type=a.type;this.offset.copy(a.offset);this.repeat.copy(a.repeat);this.generateMipmaps=a.generateMipmaps;this.premultiplyAlpha=a.premultiplyAlpha;this.flipY=a.flipY;this.unpackAlignment=a.unpackAlignment;
this.encoding=a.encoding;return this},toJSON:function(a){if(void 0!==a.textures[this.uuid])return a.textures[this.uuid];var e={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],wrap:[this.wrapS,this.wrapT],minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY};if(void 0!==this.image){var b=this.image;void 0===b.uuid&&(b.uuid=
Fa.generateUUID());if(void 0===a.images[b.uuid]){var c=a.images,d=b.uuid,f=b.uuid;if(void 0!==b.toDataURL)var g=b;else g=document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),g.width=b.width,g.height=b.height,g.getContext("2d").drawImage(b,0,0,b.width,b.height);g=2048<g.width||2048<g.height?g.toDataURL("image/jpeg",.6):g.toDataURL("image/png");c[d]={uuid:f,url:g}}e.image=b.uuid}return a.textures[this.uuid]=e},dispose:function(){this.dispatchEvent({type:"dispose"})},transformUv:function(a){if(300===
this.mapping){a.multiply(this.repeat);a.add(this.offset);if(0>a.x||1<a.x)switch(this.wrapS){case 1E3:a.x-=Math.floor(a.x);break;case 1001:a.x=0>a.x?0:1;break;case 1002:a.x=1===Math.abs(Math.floor(a.x)%2)?Math.ceil(a.x)-a.x:a.x-Math.floor(a.x)}if(0>a.y||1<a.y)switch(this.wrapT){case 1E3:a.y-=Math.floor(a.y);break;case 1001:a.y=0>a.y?0:1;break;case 1002:a.y=1===Math.abs(Math.floor(a.y)%2)?Math.ceil(a.y)-a.y:a.y-Math.floor(a.y)}this.flipY&&(a.y=1-a.y)}}});Object.assign(n.prototype,{isVector4:!0,set:function(a,
b,c,d){this.x=a;this.y=b;this.z=c;this.w=d;return this},setScalar:function(a){this.w=this.z=this.y=this.x=a;return this},setX:function(a){this.x=a;return this},setY:function(a){this.y=a;return this},setZ:function(a){this.z=a;return this},setW:function(a){this.w=a;return this},setComponent:function(a,b){switch(a){case 0:this.x=b;break;case 1:this.y=b;break;case 2:this.z=b;break;case 3:this.w=b;break;default:throw Error("index is out of range: "+a);}return this},getComponent:function(a){switch(a){case 0:return this.x;
case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw Error("index is out of range: "+a);}},clone:function(){return new this.constructor(this.x,this.y,this.z,this.w)},copy:function(a){this.x=a.x;this.y=a.y;this.z=a.z;this.w=void 0!==a.w?a.w:1;return this},add:function(a,b){if(void 0!==b)return console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(a,b);this.x+=a.x;this.y+=a.y;this.z+=a.z;this.w+=a.w;return this},
addScalar:function(a){this.x+=a;this.y+=a;this.z+=a;this.w+=a;return this},addVectors:function(a,b){this.x=a.x+b.x;this.y=a.y+b.y;this.z=a.z+b.z;this.w=a.w+b.w;return this},addScaledVector:function(a,b){this.x+=a.x*b;this.y+=a.y*b;this.z+=a.z*b;this.w+=a.w*b;return this},sub:function(a,b){if(void 0!==b)return console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(a,b);this.x-=a.x;this.y-=a.y;this.z-=a.z;this.w-=a.w;return this},subScalar:function(a){this.x-=
a;this.y-=a;this.z-=a;this.w-=a;return this},subVectors:function(a,b){this.x=a.x-b.x;this.y=a.y-b.y;this.z=a.z-b.z;this.w=a.w-b.w;return this},multiplyScalar:function(a){this.x*=a;this.y*=a;this.z*=a;this.w*=a;return this},applyMatrix4:function(a){var e=this.x,b=this.y,c=this.z,d=this.w;a=a.elements;this.x=a[0]*e+a[4]*b+a[8]*c+a[12]*d;this.y=a[1]*e+a[5]*b+a[9]*c+a[13]*d;this.z=a[2]*e+a[6]*b+a[10]*c+a[14]*d;this.w=a[3]*e+a[7]*b+a[11]*c+a[15]*d;return this},divideScalar:function(a){return this.multiplyScalar(1/
a)},setAxisAngleFromQuaternion:function(a){this.w=2*Math.acos(a.w);var e=Math.sqrt(1-a.w*a.w);1E-4>e?(this.x=1,this.z=this.y=0):(this.x=a.x/e,this.y=a.y/e,this.z=a.z/e);return this},setAxisAngleFromRotationMatrix:function(a){a=a.elements;var e=a[0];var b=a[4];var c=a[8],d=a[1],f=a[5],g=a[9];var h=a[2];var k=a[6];var n=a[10];if(.01>Math.abs(b-d)&&.01>Math.abs(c-h)&&.01>Math.abs(g-k)){if(.1>Math.abs(b+d)&&.1>Math.abs(c+h)&&.1>Math.abs(g+k)&&.1>Math.abs(e+f+n-3))return this.set(1,0,0,0),this;a=Math.PI;
e=(e+1)/2;f=(f+1)/2;n=(n+1)/2;b=(b+d)/4;c=(c+h)/4;g=(g+k)/4;e>f&&e>n?.01>e?(k=0,b=h=.707106781):(k=Math.sqrt(e),h=b/k,b=c/k):f>n?.01>f?(k=.707106781,h=0,b=.707106781):(h=Math.sqrt(f),k=b/h,b=g/h):.01>n?(h=k=.707106781,b=0):(b=Math.sqrt(n),k=c/b,h=g/b);this.set(k,h,b,a);return this}a=Math.sqrt((k-g)*(k-g)+(c-h)*(c-h)+(d-b)*(d-b));.001>Math.abs(a)&&(a=1);this.x=(k-g)/a;this.y=(c-h)/a;this.z=(d-b)/a;this.w=Math.acos((e+f+n-1)/2);return this},min:function(a){this.x=Math.min(this.x,a.x);this.y=Math.min(this.y,
a.y);this.z=Math.min(this.z,a.z);this.w=Math.min(this.w,a.w);return this},max:function(a){this.x=Math.max(this.x,a.x);this.y=Math.max(this.y,a.y);this.z=Math.max(this.z,a.z);this.w=Math.max(this.w,a.w);return this},clamp:function(a,b){this.x=Math.max(a.x,Math.min(b.x,this.x));this.y=Math.max(a.y,Math.min(b.y,this.y));this.z=Math.max(a.z,Math.min(b.z,this.z));this.w=Math.max(a.w,Math.min(b.w,this.w));return this},clampScalar:function(){var a,b;return function(e,l){void 0===a&&(a=new n,b=new n);a.set(e,
e,e,e);b.set(l,l,l,l);return this.clamp(a,b)}}(),clampLength:function(a,b){var e=this.length();return this.divideScalar(e||1).multiplyScalar(Math.max(a,Math.min(b,e)))},floor:function(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);this.z=Math.floor(this.z);this.w=Math.floor(this.w);return this},ceil:function(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);this.z=Math.ceil(this.z);this.w=Math.ceil(this.w);return this},round:function(){this.x=Math.round(this.x);this.y=Math.round(this.y);
this.z=Math.round(this.z);this.w=Math.round(this.w);return this},roundToZero:function(){this.x=0>this.x?Math.ceil(this.x):Math.floor(this.x);this.y=0>this.y?Math.ceil(this.y):Math.floor(this.y);this.z=0>this.z?Math.ceil(this.z):Math.floor(this.z);this.w=0>this.w?Math.ceil(this.w):Math.floor(this.w);return this},negate:function(){this.x=-this.x;this.y=-this.y;this.z=-this.z;this.w=-this.w;return this},dot:function(a){return this.x*a.x+this.y*a.y+this.z*a.z+this.w*a.w},lengthSq:function(){return this.x*
this.x+this.y*this.y+this.z*this.z+this.w*this.w},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(a){return this.normalize().multiplyScalar(a)},lerp:function(a,b){this.x+=(a.x-this.x)*b;this.y+=(a.y-this.y)*b;this.z+=(a.z-this.z)*b;this.w+=(a.w-this.w)*b;return this},lerpVectors:function(a,
b,c){return this.subVectors(b,a).multiplyScalar(c).add(a)},equals:function(a){return a.x===this.x&&a.y===this.y&&a.z===this.z&&a.w===this.w},fromArray:function(a,b){void 0===b&&(b=0);this.x=a[b];this.y=a[b+1];this.z=a[b+2];this.w=a[b+3];return this},toArray:function(a,b){void 0===a&&(a=[]);void 0===b&&(b=0);a[b]=this.x;a[b+1]=this.y;a[b+2]=this.z;a[b+3]=this.w;return a},fromBufferAttribute:function(a,b,c){void 0!==c&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute().");
this.x=a.getX(b);this.y=a.getY(b);this.z=a.getZ(b);this.w=a.getW(b);return this}});Object.assign(p.prototype,m.prototype,{isWebGLRenderTarget:!0,setSize:function(a,b){if(this.width!==a||this.height!==b)this.width=a,this.height=b,this.dispose();this.viewport.set(0,0,a,b);this.scissor.set(0,0,a,b)},clone:function(){return(new this.constructor).copy(this)},copy:function(a){this.width=a.width;this.height=a.height;this.viewport.copy(a.viewport);this.texture=a.texture.clone();this.depthBuffer=a.depthBuffer;
this.stencilBuffer=a.stencilBuffer;this.depthTexture=a.depthTexture;return this},dispose:function(){this.dispatchEvent({type:"dispose"})}});z.prototype=Object.create(p.prototype);z.prototype.constructor=z;z.prototype.isWebGLRenderTargetCube=!0;Object.assign(w,{slerp:function(a,b,c,d){return c.copy(a).slerp(b,d)},slerpFlat:function(a,b,c,d,f,g,h){var e=c[d+0],l=c[d+1],r=c[d+2];c=c[d+3];d=f[g+0];var v=f[g+1],y=f[g+2];f=f[g+3];if(c!==f||e!==d||l!==v||r!==y){g=1-h;var D=e*d+l*v+r*y+c*f,k=0<=D?1:-1,M=
1-D*D;M>Number.EPSILON&&(M=Math.sqrt(M),D=Math.atan2(M,D*k),g=Math.sin(g*D)/M,h=Math.sin(h*D)/M);k*=h;e=e*g+d*k;l=l*g+v*k;r=r*g+y*k;c=c*g+f*k;g===1-h&&(h=1/Math.sqrt(e*e+l*l+r*r+c*c),e*=h,l*=h,r*=h,c*=h)}a[b]=e;a[b+1]=l;a[b+2]=r;a[b+3]=c}});Object.defineProperties(w.prototype,{x:{get:function(){return this._x},set:function(a){this._x=a;this.onChangeCallback()}},y:{get:function(){return this._y},set:function(a){this._y=a;this.onChangeCallback()}},z:{get:function(){return this._z},set:function(a){this._z=
a;this.onChangeCallback()}},w:{get:function(){return this._w},set:function(a){this._w=a;this.onChangeCallback()}}});Object.assign(w.prototype,{set:function(a,b,c,d){this._x=a;this._y=b;this._z=c;this._w=d;this.onChangeCallback();return this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._w)},copy:function(a){this._x=a.x;this._y=a.y;this._z=a.z;this._w=a.w;this.onChangeCallback();return this},setFromEuler:function(a,b){if(!a||!a.isEuler)throw Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");
var e=a._x,l=a._y,c=a._z;a=a.order;var d=Math.cos,f=Math.sin,g=d(e/2),h=d(l/2);d=d(c/2);e=f(e/2);l=f(l/2);c=f(c/2);"XYZ"===a?(this._x=e*h*d+g*l*c,this._y=g*l*d-e*h*c,this._z=g*h*c+e*l*d,this._w=g*h*d-e*l*c):"YXZ"===a?(this._x=e*h*d+g*l*c,this._y=g*l*d-e*h*c,this._z=g*h*c-e*l*d,this._w=g*h*d+e*l*c):"ZXY"===a?(this._x=e*h*d-g*l*c,this._y=g*l*d+e*h*c,this._z=g*h*c+e*l*d,this._w=g*h*d-e*l*c):"ZYX"===a?(this._x=e*h*d-g*l*c,this._y=g*l*d+e*h*c,this._z=g*h*c-e*l*d,this._w=g*h*d+e*l*c):"YZX"===a?(this._x=
e*h*d+g*l*c,this._y=g*l*d+e*h*c,this._z=g*h*c-e*l*d,this._w=g*h*d-e*l*c):"XZY"===a&&(this._x=e*h*d-g*l*c,this._y=g*l*d-e*h*c,this._z=g*h*c+e*l*d,this._w=g*h*d+e*l*c);if(!1!==b)this.onChangeCallback();return this},setFromAxisAngle:function(a,b){b/=2;var e=Math.sin(b);this._x=a.x*e;this._y=a.y*e;this._z=a.z*e;this._w=Math.cos(b);this.onChangeCallback();return this},setFromRotationMatrix:function(a){var e=a.elements,b=e[0];a=e[4];var c=e[8],d=e[1],f=e[5],g=e[9],h=e[2],k=e[6];e=e[10];var n=b+f+e;0<n?
(b=.5/Math.sqrt(n+1),this._w=.25/b,this._x=(k-g)*b,this._y=(c-h)*b,this._z=(d-a)*b):b>f&&b>e?(b=2*Math.sqrt(1+b-f-e),this._w=(k-g)/b,this._x=.25*b,this._y=(a+d)/b,this._z=(c+h)/b):f>e?(b=2*Math.sqrt(1+f-b-e),this._w=(c-h)/b,this._x=(a+d)/b,this._y=.25*b,this._z=(g+k)/b):(b=2*Math.sqrt(1+e-b-f),this._w=(d-a)/b,this._x=(c+h)/b,this._y=(g+k)/b,this._z=.25*b);this.onChangeCallback();return this},setFromUnitVectors:function(){var a=new b,l;return function(e,c){void 0===a&&(a=new b);l=e.dot(c)+1;1E-6>l?
(l=0,Math.abs(e.x)>Math.abs(e.z)?a.set(-e.y,e.x,0):a.set(0,-e.z,e.y)):a.crossVectors(e,c);this._x=a.x;this._y=a.y;this._z=a.z;this._w=l;return this.normalize()}}(),inverse:function(){return this.conjugate().normalize()},conjugate:function(){this._x*=-1;this._y*=-1;this._z*=-1;this.onChangeCallback();return this},dot:function(a){return this._x*a._x+this._y*a._y+this._z*a._z+this._w*a._w},lengthSq:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w},length:function(){return Math.sqrt(this._x*
this._x+this._y*this._y+this._z*this._z+this._w*this._w)},normalize:function(){var a=this.length();0===a?(this._z=this._y=this._x=0,this._w=1):(a=1/a,this._x*=a,this._y*=a,this._z*=a,this._w*=a);this.onChangeCallback();return this},multiply:function(a,b){return void 0!==b?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(a,b)):this.multiplyQuaternions(this,a)},premultiply:function(a){return this.multiplyQuaternions(a,
this)},multiplyQuaternions:function(a,b){var e=a._x,l=a._y,c=a._z;a=a._w;var d=b._x,f=b._y,g=b._z;b=b._w;this._x=e*b+a*d+l*g-c*f;this._y=l*b+a*f+c*d-e*g;this._z=c*b+a*g+e*f-l*d;this._w=a*b-e*d-l*f-c*g;this.onChangeCallback();return this},slerp:function(a,b){if(0===b)return this;if(1===b)return this.copy(a);var e=this._x,l=this._y,c=this._z,d=this._w,f=d*a._w+e*a._x+l*a._y+c*a._z;0>f?(this._w=-a._w,this._x=-a._x,this._y=-a._y,this._z=-a._z,f=-f):this.copy(a);if(1<=f)return this._w=d,this._x=e,this._y=
l,this._z=c,this;a=Math.sqrt(1-f*f);if(.001>Math.abs(a))return this._w=.5*(d+this._w),this._x=.5*(e+this._x),this._y=.5*(l+this._y),this._z=.5*(c+this._z),this;var g=Math.atan2(a,f);f=Math.sin((1-b)*g)/a;b=Math.sin(b*g)/a;this._w=d*f+this._w*b;this._x=e*f+this._x*b;this._y=l*f+this._y*b;this._z=c*f+this._z*b;this.onChangeCallback();return this},equals:function(a){return a._x===this._x&&a._y===this._y&&a._z===this._z&&a._w===this._w},fromArray:function(a,b){void 0===b&&(b=0);this._x=a[b];this._y=a[b+
1];this._z=a[b+2];this._w=a[b+3];this.onChangeCallback();return this},toArray:function(a,b){void 0===a&&(a=[]);void 0===b&&(b=0);a[b]=this._x;a[b+1]=this._y;a[b+2]=this._z;a[b+3]=this._w;return a},onChange:function(a){this.onChangeCallback=a;return this},onChangeCallback:function(){}});Object.assign(b.prototype,{isVector3:!0,set:function(a,b,c){this.x=a;this.y=b;this.z=c;return this},setScalar:function(a){this.z=this.y=this.x=a;return this},setX:function(a){this.x=a;return this},setY:function(a){this.y=
a;return this},setZ:function(a){this.z=a;return this},setComponent:function(a,b){switch(a){case 0:this.x=b;break;case 1:this.y=b;break;case 2:this.z=b;break;default:throw Error("index is out of range: "+a);}return this},getComponent:function(a){switch(a){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw Error("index is out of range: "+a);}},clone:function(){return new this.constructor(this.x,this.y,this.z)},copy:function(a){this.x=a.x;this.y=a.y;this.z=a.z;return this},
add:function(a,b){if(void 0!==b)return console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(a,b);this.x+=a.x;this.y+=a.y;this.z+=a.z;return this},addScalar:function(a){this.x+=a;this.y+=a;this.z+=a;return this},addVectors:function(a,b){this.x=a.x+b.x;this.y=a.y+b.y;this.z=a.z+b.z;return this},addScaledVector:function(a,b){this.x+=a.x*b;this.y+=a.y*b;this.z+=a.z*b;return this},sub:function(a,b){if(void 0!==b)return console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),
this.subVectors(a,b);this.x-=a.x;this.y-=a.y;this.z-=a.z;return this},subScalar:function(a){this.x-=a;this.y-=a;this.z-=a;return this},subVectors:function(a,b){this.x=a.x-b.x;this.y=a.y-b.y;this.z=a.z-b.z;return this},multiply:function(a,b){if(void 0!==b)return console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(a,b);this.x*=a.x;this.y*=a.y;this.z*=a.z;return this},multiplyScalar:function(a){this.x*=a;this.y*=a;this.z*=
a;return this},multiplyVectors:function(a,b){this.x=a.x*b.x;this.y=a.y*b.y;this.z=a.z*b.z;return this},applyEuler:function(){var a=new w;return function(e){e&&e.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order.");return this.applyQuaternion(a.setFromEuler(e))}}(),applyAxisAngle:function(){var a=new w;return function(e,b){return this.applyQuaternion(a.setFromAxisAngle(e,b))}}(),applyMatrix3:function(a){var e=this.x,b=this.y,c=this.z;
a=a.elements;this.x=a[0]*e+a[3]*b+a[6]*c;this.y=a[1]*e+a[4]*b+a[7]*c;this.z=a[2]*e+a[5]*b+a[8]*c;return this},applyMatrix4:function(a){var e=this.x,b=this.y,c=this.z;a=a.elements;var d=1/(a[3]*e+a[7]*b+a[11]*c+a[15]);this.x=(a[0]*e+a[4]*b+a[8]*c+a[12])*d;this.y=(a[1]*e+a[5]*b+a[9]*c+a[13])*d;this.z=(a[2]*e+a[6]*b+a[10]*c+a[14])*d;return this},applyQuaternion:function(a){var e=this.x,b=this.y,c=this.z,d=a.x,f=a.y,g=a.z;a=a.w;var h=a*e+f*c-g*b,k=a*b+g*e-d*c,n=a*c+d*b-f*e;e=-d*e-f*b-g*c;this.x=h*a+e*
-d+k*-g-n*-f;this.y=k*a+e*-f+n*-d-h*-g;this.z=n*a+e*-g+h*-f-k*-d;return this},project:function(){var a=new t;return function(e){a.multiplyMatrices(e.projectionMatrix,a.getInverse(e.matrixWorld));return this.applyMatrix4(a)}}(),unproject:function(){var a=new t;return function(e){a.multiplyMatrices(e.matrixWorld,a.getInverse(e.projectionMatrix));return this.applyMatrix4(a)}}(),transformDirection:function(a){var e=this.x,b=this.y,c=this.z;a=a.elements;this.x=a[0]*e+a[4]*b+a[8]*c;this.y=a[1]*e+a[5]*b+
a[9]*c;this.z=a[2]*e+a[6]*b+a[10]*c;return this.normalize()},divide:function(a){this.x/=a.x;this.y/=a.y;this.z/=a.z;return this},divideScalar:function(a){return this.multiplyScalar(1/a)},min:function(a){this.x=Math.min(this.x,a.x);this.y=Math.min(this.y,a.y);this.z=Math.min(this.z,a.z);return this},max:function(a){this.x=Math.max(this.x,a.x);this.y=Math.max(this.y,a.y);this.z=Math.max(this.z,a.z);return this},clamp:function(a,b){this.x=Math.max(a.x,Math.min(b.x,this.x));this.y=Math.max(a.y,Math.min(b.y,
this.y));this.z=Math.max(a.z,Math.min(b.z,this.z));return this},clampScalar:function(){var a=new b,l=new b;return function(e,b){a.set(e,e,e);l.set(b,b,b);return this.clamp(a,l)}}(),clampLength:function(a,b){var e=this.length();return this.divideScalar(e||1).multiplyScalar(Math.max(a,Math.min(b,e)))},floor:function(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);this.z=Math.floor(this.z);return this},ceil:function(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);this.z=Math.ceil(this.z);return this},
round:function(){this.x=Math.round(this.x);this.y=Math.round(this.y);this.z=Math.round(this.z);return this},roundToZero:function(){this.x=0>this.x?Math.ceil(this.x):Math.floor(this.x);this.y=0>this.y?Math.ceil(this.y):Math.floor(this.y);this.z=0>this.z?Math.ceil(this.z):Math.floor(this.z);return this},negate:function(){this.x=-this.x;this.y=-this.y;this.z=-this.z;return this},dot:function(a){return this.x*a.x+this.y*a.y+this.z*a.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},
length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(a){return this.normalize().multiplyScalar(a)},lerp:function(a,b){this.x+=(a.x-this.x)*b;this.y+=(a.y-this.y)*b;this.z+=(a.z-this.z)*b;return this},lerpVectors:function(a,b,c){return this.subVectors(b,a).multiplyScalar(c).add(a)},cross:function(a,b){if(void 0!==
b)return console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(a,b);b=this.x;var e=this.y,l=this.z;this.x=e*a.z-l*a.y;this.y=l*a.x-b*a.z;this.z=b*a.y-e*a.x;return this},crossVectors:function(a,b){var e=a.x,l=a.y;a=a.z;var c=b.x,d=b.y;b=b.z;this.x=l*b-a*d;this.y=a*c-e*b;this.z=e*d-l*c;return this},projectOnVector:function(a){var e=a.dot(this)/a.lengthSq();return this.copy(a).multiplyScalar(e)},projectOnPlane:function(){var a=new b;
return function(e){a.copy(this).projectOnVector(e);return this.sub(a)}}(),reflect:function(){var a=new b;return function(e){return this.sub(a.copy(e).multiplyScalar(2*this.dot(e)))}}(),angleTo:function(a){a=this.dot(a)/Math.sqrt(this.lengthSq()*a.lengthSq());return Math.acos(Fa.clamp(a,-1,1))},distanceTo:function(a){return Math.sqrt(this.distanceToSquared(a))},distanceToSquared:function(a){var e=this.x-a.x,b=this.y-a.y;a=this.z-a.z;return e*e+b*b+a*a},distanceToManhattan:function(a){return Math.abs(this.x-
a.x)+Math.abs(this.y-a.y)+Math.abs(this.z-a.z)},setFromSpherical:function(a){var e=Math.sin(a.phi)*a.radius;this.x=e*Math.sin(a.theta);this.y=Math.cos(a.phi)*a.radius;this.z=e*Math.cos(a.theta);return this},setFromCylindrical:function(a){this.x=a.radius*Math.sin(a.theta);this.y=a.y;this.z=a.radius*Math.cos(a.theta);return this},setFromMatrixPosition:function(a){a=a.elements;this.x=a[12];this.y=a[13];this.z=a[14];return this},setFromMatrixScale:function(a){var e=this.setFromMatrixColumn(a,0).length(),
b=this.setFromMatrixColumn(a,1).length();a=this.setFromMatrixColumn(a,2).length();this.x=e;this.y=b;this.z=a;return this},setFromMatrixColumn:function(a,b){return this.fromArray(a.elements,4*b)},equals:function(a){return a.x===this.x&&a.y===this.y&&a.z===this.z},fromArray:function(a,b){void 0===b&&(b=0);this.x=a[b];this.y=a[b+1];this.z=a[b+2];return this},toArray:function(a,b){void 0===a&&(a=[]);void 0===b&&(b=0);a[b]=this.x;a[b+1]=this.y;a[b+2]=this.z;return a},fromBufferAttribute:function(a,b,c){void 0!==
c&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute().");this.x=a.getX(b);this.y=a.getY(b);this.z=a.getZ(b);return this}});Object.assign(t.prototype,{isMatrix4:!0,set:function(a,b,c,d,f,g,h,k,n,m,p,q,C,t,w,u){var e=this.elements;e[0]=a;e[4]=b;e[8]=c;e[12]=d;e[1]=f;e[5]=g;e[9]=h;e[13]=k;e[2]=n;e[6]=m;e[10]=p;e[14]=q;e[3]=C;e[7]=t;e[11]=w;e[15]=u;return this},identity:function(){this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1);return this},clone:function(){return(new t).fromArray(this.elements)},
copy:function(a){var e=this.elements;a=a.elements;e[0]=a[0];e[1]=a[1];e[2]=a[2];e[3]=a[3];e[4]=a[4];e[5]=a[5];e[6]=a[6];e[7]=a[7];e[8]=a[8];e[9]=a[9];e[10]=a[10];e[11]=a[11];e[12]=a[12];e[13]=a[13];e[14]=a[14];e[15]=a[15];return this},copyPosition:function(a){var e=this.elements;a=a.elements;e[12]=a[12];e[13]=a[13];e[14]=a[14];return this},extractBasis:function(a,b,c){a.setFromMatrixColumn(this,0);b.setFromMatrixColumn(this,1);c.setFromMatrixColumn(this,2);return this},makeBasis:function(a,b,c){this.set(a.x,
b.x,c.x,0,a.y,b.y,c.y,0,a.z,b.z,c.z,0,0,0,0,1);return this},extractRotation:function(){var a=new b;return function(e){var b=this.elements,l=e.elements,c=1/a.setFromMatrixColumn(e,0).length(),d=1/a.setFromMatrixColumn(e,1).length();e=1/a.setFromMatrixColumn(e,2).length();b[0]=l[0]*c;b[1]=l[1]*c;b[2]=l[2]*c;b[4]=l[4]*d;b[5]=l[5]*d;b[6]=l[6]*d;b[8]=l[8]*e;b[9]=l[9]*e;b[10]=l[10]*e;return this}}(),makeRotationFromEuler:function(a){a&&a.isEuler||console.error("THREE.Matrix: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");
var e=this.elements,b=a.x,c=a.y,d=a.z,f=Math.cos(b);b=Math.sin(b);var g=Math.cos(c);c=Math.sin(c);var h=Math.cos(d);d=Math.sin(d);if("XYZ"===a.order){var k=f*h;var n=f*d;var m=b*h;a=b*d;e[0]=g*h;e[4]=-g*d;e[8]=c;e[1]=n+m*c;e[5]=k-a*c;e[9]=-b*g;e[2]=a-k*c;e[6]=m+n*c;e[10]=f*g}else"YXZ"===a.order?(k=g*h,n=g*d,m=c*h,a=c*d,e[0]=k+a*b,e[4]=m*b-n,e[8]=f*c,e[1]=f*d,e[5]=f*h,e[9]=-b,e[2]=n*b-m,e[6]=a+k*b,e[10]=f*g):"ZXY"===a.order?(k=g*h,n=g*d,m=c*h,a=c*d,e[0]=k-a*b,e[4]=-f*d,e[8]=m+n*b,e[1]=n+m*b,e[5]=f*
h,e[9]=a-k*b,e[2]=-f*c,e[6]=b,e[10]=f*g):"ZYX"===a.order?(k=f*h,n=f*d,m=b*h,a=b*d,e[0]=g*h,e[4]=m*c-n,e[8]=k*c+a,e[1]=g*d,e[5]=a*c+k,e[9]=n*c-m,e[2]=-c,e[6]=b*g,e[10]=f*g):"YZX"===a.order?(k=f*g,n=f*c,m=b*g,a=b*c,e[0]=g*h,e[4]=a-k*d,e[8]=m*d+n,e[1]=d,e[5]=f*h,e[9]=-b*h,e[2]=-c*h,e[6]=n*d+m,e[10]=k-a*d):"XZY"===a.order&&(k=f*g,n=f*c,m=b*g,a=b*c,e[0]=g*h,e[4]=-d,e[8]=c*h,e[1]=k*d+a,e[5]=f*h,e[9]=n*d-m,e[2]=m*d-n,e[6]=b*h,e[10]=a*d+k);e[3]=0;e[7]=0;e[11]=0;e[12]=0;e[13]=0;e[14]=0;e[15]=1;return this},
makeRotationFromQuaternion:function(a){var e=this.elements,b=a._x,c=a._y,d=a._z,f=a._w,g=b+b,h=c+c,k=d+d;a=b*g;var n=b*h;b*=k;var m=c*h;c*=k;d*=k;g*=f;h*=f;f*=k;e[0]=1-(m+d);e[4]=n-f;e[8]=b+h;e[1]=n+f;e[5]=1-(a+d);e[9]=c-g;e[2]=b-h;e[6]=c+g;e[10]=1-(a+m);e[3]=0;e[7]=0;e[11]=0;e[12]=0;e[13]=0;e[14]=0;e[15]=1;return this},lookAt:function(){var a=new b,l=new b,c=new b;return function(e,b,d){var f=this.elements;c.subVectors(e,b);0===c.lengthSq()&&(c.z=1);c.normalize();a.crossVectors(d,c);0===a.lengthSq()&&
(1===Math.abs(d.z)?c.x+=1E-4:c.z+=1E-4,c.normalize(),a.crossVectors(d,c));a.normalize();l.crossVectors(c,a);f[0]=a.x;f[4]=l.x;f[8]=c.x;f[1]=a.y;f[5]=l.y;f[9]=c.y;f[2]=a.z;f[6]=l.z;f[10]=c.z;return this}}(),multiply:function(a,b){return void 0!==b?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(a,b)):this.multiplyMatrices(this,a)},premultiply:function(a){return this.multiplyMatrices(a,this)},multiplyMatrices:function(a,
b){var e=a.elements,l=b.elements;b=this.elements;a=e[0];var c=e[4],d=e[8],f=e[12],g=e[1],h=e[5],k=e[9],n=e[13],m=e[2],p=e[6],q=e[10],t=e[14],w=e[3],u=e[7],x=e[11];e=e[15];var A=l[0],K=l[4],z=l[8],B=l[12],E=l[1],H=l[5],F=l[9],ea=l[13],G=l[2],ka=l[6],Q=l[10],U=l[14],fa=l[3],N=l[7],R=l[11];l=l[15];b[0]=a*A+c*E+d*G+f*fa;b[4]=a*K+c*H+d*ka+f*N;b[8]=a*z+c*F+d*Q+f*R;b[12]=a*B+c*ea+d*U+f*l;b[1]=g*A+h*E+k*G+n*fa;b[5]=g*K+h*H+k*ka+n*N;b[9]=g*z+h*F+k*Q+n*R;b[13]=g*B+h*ea+k*U+n*l;b[2]=m*A+p*E+q*G+t*fa;b[6]=m*
K+p*H+q*ka+t*N;b[10]=m*z+p*F+q*Q+t*R;b[14]=m*B+p*ea+q*U+t*l;b[3]=w*A+u*E+x*G+e*fa;b[7]=w*K+u*H+x*ka+e*N;b[11]=w*z+u*F+x*Q+e*R;b[15]=w*B+u*ea+x*U+e*l;return this},multiplyScalar:function(a){var e=this.elements;e[0]*=a;e[4]*=a;e[8]*=a;e[12]*=a;e[1]*=a;e[5]*=a;e[9]*=a;e[13]*=a;e[2]*=a;e[6]*=a;e[10]*=a;e[14]*=a;e[3]*=a;e[7]*=a;e[11]*=a;e[15]*=a;return this},applyToBufferAttribute:function(){var a=new b;return function(e){for(var b=0,l=e.count;b<l;b++)a.x=e.getX(b),a.y=e.getY(b),a.z=e.getZ(b),a.applyMatrix4(this),
e.setXYZ(b,a.x,a.y,a.z);return e}}(),determinant:function(){var a=this.elements,b=a[0],c=a[4],d=a[8],f=a[12],g=a[1],h=a[5],k=a[9],n=a[13],m=a[2],p=a[6],q=a[10],C=a[14];return a[3]*(+f*k*p-d*n*p-f*h*q+c*n*q+d*h*C-c*k*C)+a[7]*(+b*k*C-b*n*q+f*g*q-d*g*C+d*n*m-f*k*m)+a[11]*(+b*n*p-b*h*C-f*g*p+c*g*C+f*h*m-c*n*m)+a[15]*(-d*h*m-b*k*p+b*h*q+d*g*p-c*g*q+c*k*m)},transpose:function(){var a=this.elements;var b=a[1];a[1]=a[4];a[4]=b;b=a[2];a[2]=a[8];a[8]=b;b=a[6];a[6]=a[9];a[9]=b;b=a[3];a[3]=a[12];a[12]=b;b=a[7];
a[7]=a[13];a[13]=b;b=a[11];a[11]=a[14];a[14]=b;return this},setPosition:function(a){var e=this.elements;e[12]=a.x;e[13]=a.y;e[14]=a.z;return this},getInverse:function(a,b){var e=this.elements,l=a.elements;a=l[0];var c=l[1],d=l[2],f=l[3],g=l[4],h=l[5],k=l[6],n=l[7],m=l[8],p=l[9],q=l[10],t=l[11],w=l[12],u=l[13],x=l[14];l=l[15];var A=p*x*n-u*q*n+u*k*t-h*x*t-p*k*l+h*q*l,K=w*q*n-m*x*n-w*k*t+g*x*t+m*k*l-g*q*l,z=m*u*n-w*p*n+w*h*t-g*u*t-m*h*l+g*p*l,B=w*p*k-m*u*k-w*h*q+g*u*q+m*h*x-g*p*x,E=a*A+c*K+d*z+f*B;
if(0===E){if(!0===b)throw Error("THREE.Matrix4.getInverse(): can't invert matrix, determinant is 0");console.warn("THREE.Matrix4.getInverse(): can't invert matrix, determinant is 0");return this.identity()}b=1/E;e[0]=A*b;e[1]=(u*q*f-p*x*f-u*d*t+c*x*t+p*d*l-c*q*l)*b;e[2]=(h*x*f-u*k*f+u*d*n-c*x*n-h*d*l+c*k*l)*b;e[3]=(p*k*f-h*q*f-p*d*n+c*q*n+h*d*t-c*k*t)*b;e[4]=K*b;e[5]=(m*x*f-w*q*f+w*d*t-a*x*t-m*d*l+a*q*l)*b;e[6]=(w*k*f-g*x*f-w*d*n+a*x*n+g*d*l-a*k*l)*b;e[7]=(g*q*f-m*k*f+m*d*n-a*q*n-g*d*t+a*k*t)*b;e[8]=
z*b;e[9]=(w*p*f-m*u*f-w*c*t+a*u*t+m*c*l-a*p*l)*b;e[10]=(g*u*f-w*h*f+w*c*n-a*u*n-g*c*l+a*h*l)*b;e[11]=(m*h*f-g*p*f-m*c*n+a*p*n+g*c*t-a*h*t)*b;e[12]=B*b;e[13]=(m*u*d-w*p*d+w*c*q-a*u*q-m*c*x+a*p*x)*b;e[14]=(w*h*d-g*u*d-w*c*k+a*u*k+g*c*x-a*h*x)*b;e[15]=(g*p*d-m*h*d+m*c*k-a*p*k-g*c*q+a*h*q)*b;return this},scale:function(a){var e=this.elements,b=a.x,c=a.y;a=a.z;e[0]*=b;e[4]*=c;e[8]*=a;e[1]*=b;e[5]*=c;e[9]*=a;e[2]*=b;e[6]*=c;e[10]*=a;e[3]*=b;e[7]*=c;e[11]*=a;return this},getMaxScaleOnAxis:function(){var a=
this.elements;return Math.sqrt(Math.max(a[0]*a[0]+a[1]*a[1]+a[2]*a[2],a[4]*a[4]+a[5]*a[5]+a[6]*a[6],a[8]*a[8]+a[9]*a[9]+a[10]*a[10]))},makeTranslation:function(a,b,c){this.set(1,0,0,a,0,1,0,b,0,0,1,c,0,0,0,1);return this},makeRotationX:function(a){var e=Math.cos(a);a=Math.sin(a);this.set(1,0,0,0,0,e,-a,0,0,a,e,0,0,0,0,1);return this},makeRotationY:function(a){var e=Math.cos(a);a=Math.sin(a);this.set(e,0,a,0,0,1,0,0,-a,0,e,0,0,0,0,1);return this},makeRotationZ:function(a){var e=Math.cos(a);a=Math.sin(a);
this.set(e,-a,0,0,a,e,0,0,0,0,1,0,0,0,0,1);return this},makeRotationAxis:function(a,b){var e=Math.cos(b);b=Math.sin(b);var l=1-e,c=a.x,d=a.y;a=a.z;var f=l*c,g=l*d;this.set(f*c+e,f*d-b*a,f*a+b*d,0,f*d+b*a,g*d+e,g*a-b*c,0,f*a-b*d,g*a+b*c,l*a*a+e,0,0,0,0,1);return this},makeScale:function(a,b,c){this.set(a,0,0,0,0,b,0,0,0,0,c,0,0,0,0,1);return this},makeShear:function(a,b,c){this.set(1,b,c,0,a,1,c,0,a,b,1,0,0,0,0,1);return this},compose:function(a,b,c){this.makeRotationFromQuaternion(b);this.scale(c);
this.setPosition(a);return this},decompose:function(){var a=new b,l=new t;return function(e,b,c){var d=this.elements,f=a.set(d[0],d[1],d[2]).length(),r=a.set(d[4],d[5],d[6]).length(),g=a.set(d[8],d[9],d[10]).length();0>this.determinant()&&(f=-f);e.x=d[12];e.y=d[13];e.z=d[14];l.copy(this);e=1/f;d=1/r;var v=1/g;l.elements[0]*=e;l.elements[1]*=e;l.elements[2]*=e;l.elements[4]*=d;l.elements[5]*=d;l.elements[6]*=d;l.elements[8]*=v;l.elements[9]*=v;l.elements[10]*=v;b.setFromRotationMatrix(l);c.x=f;c.y=
r;c.z=g;return this}}(),makePerspective:function(a,b,c,d,f,g){void 0===g&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");var e=this.elements;e[0]=2*f/(b-a);e[4]=0;e[8]=(b+a)/(b-a);e[12]=0;e[1]=0;e[5]=2*f/(c-d);e[9]=(c+d)/(c-d);e[13]=0;e[2]=0;e[6]=0;e[10]=-(g+f)/(g-f);e[14]=-2*g*f/(g-f);e[3]=0;e[7]=0;e[11]=-1;e[15]=0;return this},makeOrthographic:function(a,b,c,d,f,g){var e=this.elements,l=1/(b-a),r=1/(c-d),v=1/(g-f);e[0]=2*l;e[4]=
0;e[8]=0;e[12]=-((b+a)*l);e[1]=0;e[5]=2*r;e[9]=0;e[13]=-((c+d)*r);e[2]=0;e[6]=0;e[10]=-2*v;e[14]=-((g+f)*v);e[3]=0;e[7]=0;e[11]=0;e[15]=1;return this},equals:function(a){var e=this.elements;a=a.elements;for(var b=0;16>b;b++)if(e[b]!==a[b])return!1;return!0},fromArray:function(a,b){void 0===b&&(b=0);for(var e=0;16>e;e++)this.elements[e]=a[e+b];return this},toArray:function(a,b){void 0===a&&(a=[]);void 0===b&&(b=0);var e=this.elements;a[b]=e[0];a[b+1]=e[1];a[b+2]=e[2];a[b+3]=e[3];a[b+4]=e[4];a[b+5]=
e[5];a[b+6]=e[6];a[b+7]=e[7];a[b+8]=e[8];a[b+9]=e[9];a[b+10]=e[10];a[b+11]=e[11];a[b+12]=e[12];a[b+13]=e[13];a[b+14]=e[14];a[b+15]=e[15];return a}});x.prototype=Object.create(k.prototype);x.prototype.constructor=x;x.prototype.isDataTexture=!0;H.prototype=Object.create(k.prototype);H.prototype.constructor=H;H.prototype.isCubeTexture=!0;Object.defineProperty(H.prototype,"images",{get:function(){return this.image},set:function(a){this.image=a}});var qf=new k,rf=new H,mf=[],nf=[],pf=new Float32Array(16),
of=new Float32Array(9);pa.prototype.setValue=function(a,b){for(var e=this.seq,l=0,c=e.length;l!==c;++l){var d=e[l];d.setValue(a,b[d.id])}};var Re=/([\w\d_]+)(\])?(\[|\.)?/g;ka.prototype.setValue=function(a,b,c){b=this.map[b];void 0!==b&&b.setValue(a,c,this.renderer)};ka.prototype.setOptional=function(a,b,c){b=b[c];void 0!==b&&this.setValue(a,c,b)};ka.upload=function(a,b,c,d){for(var e=0,l=b.length;e!==l;++e){var f=b[e],r=c[f.id];!1!==r.needsUpdate&&f.setValue(a,r.value,d)}};ka.seqWithValue=function(a,
b){for(var e=[],l=0,c=a.length;l!==c;++l){var d=a[l];d.id in b&&e.push(d)}return e};var Mf={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,
darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,
gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,
lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,
orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,
springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Object.assign(Q.prototype,{isColor:!0,r:1,g:1,b:1,set:function(a){a&&a.isColor?this.copy(a):"number"===typeof a?this.setHex(a):"string"===typeof a&&this.setStyle(a);return this},setScalar:function(a){this.b=this.g=this.r=a;return this},setHex:function(a){a=Math.floor(a);this.r=(a>>16&255)/
255;this.g=(a>>8&255)/255;this.b=(a&255)/255;return this},setRGB:function(a,b,c){this.r=a;this.g=b;this.b=c;return this},setHSL:function(){function a(a,e,b){0>b&&(b+=1);1<b&&--b;return b<1/6?a+6*(e-a)*b:.5>b?e:b<2/3?a+6*(e-a)*(2/3-b):a}return function(e,b,c){e=Fa.euclideanModulo(e,1);b=Fa.clamp(b,0,1);c=Fa.clamp(c,0,1);0===b?this.r=this.g=this.b=c:(b=.5>=c?c*(1+b):c+b-c*b,c=2*c-b,this.r=a(c,b,e+1/3),this.g=a(c,b,e),this.b=a(c,b,e-1/3));return this}}(),setStyle:function(a){function e(e){void 0!==e&&
1>parseFloat(e)&&console.warn("THREE.Color: Alpha component of "+a+" will be ignored.")}var b;if(b=/^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(a)){var c=b[2];switch(b[1]){case "rgb":case "rgba":if(b=/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(c))return this.r=Math.min(255,parseInt(b[1],10))/255,this.g=Math.min(255,parseInt(b[2],10))/255,this.b=Math.min(255,parseInt(b[3],10))/255,e(b[5]),this;if(b=/^(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(c))return this.r=
Math.min(100,parseInt(b[1],10))/100,this.g=Math.min(100,parseInt(b[2],10))/100,this.b=Math.min(100,parseInt(b[3],10))/100,e(b[5]),this;break;case "hsl":case "hsla":if(b=/^([0-9]*\.?[0-9]+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(c)){c=parseFloat(b[1])/360;var d=parseInt(b[2],10)/100,f=parseInt(b[3],10)/100;e(b[5]);return this.setHSL(c,d,f)}}}else if(b=/^\#([A-Fa-f0-9]+)$/.exec(a)){b=b[1];c=b.length;if(3===c)return this.r=parseInt(b.charAt(0)+b.charAt(0),16)/255,this.g=parseInt(b.charAt(1)+
b.charAt(1),16)/255,this.b=parseInt(b.charAt(2)+b.charAt(2),16)/255,this;if(6===c)return this.r=parseInt(b.charAt(0)+b.charAt(1),16)/255,this.g=parseInt(b.charAt(2)+b.charAt(3),16)/255,this.b=parseInt(b.charAt(4)+b.charAt(5),16)/255,this}a&&0<a.length&&(b=Mf[a],void 0!==b?this.setHex(b):console.warn("THREE.Color: Unknown color "+a));return this},clone:function(){return new this.constructor(this.r,this.g,this.b)},copy:function(a){this.r=a.r;this.g=a.g;this.b=a.b;return this},copyGammaToLinear:function(a,
b){void 0===b&&(b=2);this.r=Math.pow(a.r,b);this.g=Math.pow(a.g,b);this.b=Math.pow(a.b,b);return this},copyLinearToGamma:function(a,b){void 0===b&&(b=2);b=0<b?1/b:1;this.r=Math.pow(a.r,b);this.g=Math.pow(a.g,b);this.b=Math.pow(a.b,b);return this},convertGammaToLinear:function(){var a=this.r,b=this.g,c=this.b;this.r=a*a;this.g=b*b;this.b=c*c;return this},convertLinearToGamma:function(){this.r=Math.sqrt(this.r);this.g=Math.sqrt(this.g);this.b=Math.sqrt(this.b);return this},getHex:function(){return 255*
this.r<<16^255*this.g<<8^255*this.b<<0},getHexString:function(){return("000000"+this.getHex().toString(16)).slice(-6)},getHSL:function(a){a=a||{h:0,s:0,l:0};var e=this.r,b=this.g,c=this.b,d=Math.max(e,b,c),f=Math.min(e,b,c),g,h=(f+d)/2;if(f===d)f=g=0;else{var k=d-f;f=.5>=h?k/(d+f):k/(2-d-f);switch(d){case e:g=(b-c)/k+(b<c?6:0);break;case b:g=(c-e)/k+2;break;case c:g=(e-b)/k+4}g/=6}a.h=g;a.s=f;a.l=h;return a},getStyle:function(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"},
offsetHSL:function(a,b,c){var e=this.getHSL();e.h+=a;e.s+=b;e.l+=c;this.setHSL(e.h,e.s,e.l);return this},add:function(a){this.r+=a.r;this.g+=a.g;this.b+=a.b;return this},addColors:function(a,b){this.r=a.r+b.r;this.g=a.g+b.g;this.b=a.b+b.b;return this},addScalar:function(a){this.r+=a;this.g+=a;this.b+=a;return this},sub:function(a){this.r=Math.max(0,this.r-a.r);this.g=Math.max(0,this.g-a.g);this.b=Math.max(0,this.b-a.b);return this},multiply:function(a){this.r*=a.r;this.g*=a.g;this.b*=a.b;return this},
multiplyScalar:function(a){this.r*=a;this.g*=a;this.b*=a;return this},lerp:function(a,b){this.r+=(a.r-this.r)*b;this.g+=(a.g-this.g)*b;this.b+=(a.b-this.b)*b;return this},equals:function(a){return a.r===this.r&&a.g===this.g&&a.b===this.b},fromArray:function(a,b){void 0===b&&(b=0);this.r=a[b];this.g=a[b+1];this.b=a[b+2];return this},toArray:function(a,b){void 0===a&&(a=[]);void 0===b&&(b=0);a[b]=this.r;a[b+1]=this.g;a[b+2]=this.b;return a},toJSON:function(){return this.getHex()}});var Aa={common:{diffuse:{value:new Q(15658734)},
opacity:{value:1},map:{value:null},offsetRepeat:{value:new n(0,0,1,1)},specularMap:{value:null},alphaMap:{value:null},envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new f(1,1)}},displacementmap:{displacementMap:{value:null},
displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:2.5E-4},fogNear:{value:1},fogFar:{value:2E3},fogColor:{value:new Q(16777215)}},lights:{ambientLightColor:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},
spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],
properties:{color:{},position:{},width:{},height:{}}}},points:{diffuse:{value:new Q(15658734)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},offsetRepeat:{value:new n(0,0,1,1)}}},qc={merge:function(a){for(var e={},b=0;b<a.length;b++){var c=this.clone(a[b]),d;for(d in c)e[d]=c[d]}return e},clone:function(a){var e={},b;for(b in a){e[b]={};for(var c in a[b]){var d=a[b][c];d&&(d.isColor||d.isMatrix3||d.isMatrix4||d.isVector2||d.isVector3||d.isVector4||d.isTexture)?e[b][c]=d.clone():
Array.isArray(d)?e[b][c]=d.slice():e[b][c]=d}}return e}},Pa={alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif\n",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif\n",alphatest_fragment:"#ifdef ALPHATEST\n\tif ( diffuseColor.a < ALPHATEST ) discard;\n#endif\n",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\n\t#endif\n#endif\n",
aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"\nvec3 transformed = vec3( position );\n",beginnormal_vertex:"\nvec3 objectNormal = vec3( normal );\n",bsdfs:"float punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\tif( decayExponent > 0.0 ) {\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\t\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\t\tfloat maxDistanceCutoffFactor = pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t\treturn distanceFalloff * maxDistanceCutoffFactor;\n#else\n\t\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\n#endif\n\t}\n\treturn 1.0;\n}\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\n\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\n}\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\treturn 1.0 / ( gl * gv );\n}\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNL = saturate( dot( geometry.normal, incidentLight.direction ) );\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( G * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE  = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS  = 0.5 / LUT_SIZE;\n\tfloat theta = acos( dot( N, V ) );\n\tvec2 uv = vec2(\n\t\tsqrt( saturate( roughness ) ),\n\t\tsaturate( theta / ( 0.5 * PI ) ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.86267 + (0.49788 + 0.01436 * y ) * y;\n\tfloat b = 3.45068 + (4.18814 + y) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = (x > 0.0) ? v : 0.5 * inversesqrt( 1.0 - x * x ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transpose( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tvec3 result = vec3( LTC_ClippedSphereFormFactor( vectorFormFactor ) );\n\treturn result;\n}\nvec3 BRDF_Specular_GGX_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 AB = vec2( -1.04, 1.04 ) * a004 + r.zw;\n\treturn specularColor * AB.x + AB.y;\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\n\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\n}\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\n\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\n}\n",
bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\n\t\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\n\t\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 );\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif\n",
clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; ++ i ) {\n\t\tvec4 plane = clippingPlanes[ i ];\n\t\tif ( dot( vViewPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t\t\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; ++ i ) {\n\t\t\tvec4 plane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vViewPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\tif ( clipped ) discard;\n\t\n\t#endif\n#endif\n",
clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\t#if ! defined( PHYSICAL ) && ! defined( PHONG )\n\t\tvarying vec3 vViewPosition;\n\t#endif\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif\n",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG )\n\tvarying vec3 vViewPosition;\n#endif\n",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n",
color_fragment:"#ifdef USE_COLOR\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif\n",color_pars_vertex:"#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif",color_vertex:"#ifdef USE_COLOR\n\tvColor.xyz = color.xyz;\n#endif",common:"#define PI 3.14159265359\n#define PI2 6.28318530718\n#define PI_HALF 1.5707963267949\n#define RECIPROCAL_PI 0.31830988618\n#define RECIPROCAL_PI2 0.15915494\n#define LOG2 1.442695\n#define EPSILON 1e-6\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#define whiteCompliment(a) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract(sin(sn) * c);\n}\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\tfloat distance = dot( planeNormal, point - pointOnPlane );\n\treturn - distance * planeNormal + point;\n}\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn sign( dot( point - pointOnPlane, planeNormal ) );\n}\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\n}\nmat3 transpose( const in mat3 v ) {\n\tmat3 tmp;\n\ttmp[0] = vec3(v[0].x, v[1].x, v[2].x);\n\ttmp[1] = vec3(v[0].y, v[1].y, v[2].y);\n\ttmp[2] = vec3(v[0].z, v[1].z, v[2].z);\n\treturn tmp;\n}\n",
cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n#define cubeUV_textureSize (1024.0)\nint getFaceFromDirection(vec3 direction) {\n\tvec3 absDirection = abs(direction);\n\tint face = -1;\n\tif( absDirection.x > absDirection.z ) {\n\t\tif(absDirection.x > absDirection.y )\n\t\t\tface = direction.x > 0.0 ? 0 : 3;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\telse {\n\t\tif(absDirection.z > absDirection.y )\n\t\t\tface = direction.z > 0.0 ? 2 : 5;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\treturn face;\n}\n#define cubeUV_maxLods1  (log2(cubeUV_textureSize*0.25) - 1.0)\n#define cubeUV_rangeClamp (exp2((6.0 - 1.0) * 2.0))\nvec2 MipLevelInfo( vec3 vec, float roughnessLevel, float roughness ) {\n\tfloat scale = exp2(cubeUV_maxLods1 - roughnessLevel);\n\tfloat dxRoughness = dFdx(roughness);\n\tfloat dyRoughness = dFdy(roughness);\n\tvec3 dx = dFdx( vec * scale * dxRoughness );\n\tvec3 dy = dFdy( vec * scale * dyRoughness );\n\tfloat d = max( dot( dx, dx ), dot( dy, dy ) );\n\td = clamp(d, 1.0, cubeUV_rangeClamp);\n\tfloat mipLevel = 0.5 * log2(d);\n\treturn vec2(floor(mipLevel), fract(mipLevel));\n}\n#define cubeUV_maxLods2 (log2(cubeUV_textureSize*0.25) - 2.0)\n#define cubeUV_rcpTextureSize (1.0 / cubeUV_textureSize)\nvec2 getCubeUV(vec3 direction, float roughnessLevel, float mipLevel) {\n\tmipLevel = roughnessLevel > cubeUV_maxLods2 - 3.0 ? 0.0 : mipLevel;\n\tfloat a = 16.0 * cubeUV_rcpTextureSize;\n\tvec2 exp2_packed = exp2( vec2( roughnessLevel, mipLevel ) );\n\tvec2 rcp_exp2_packed = vec2( 1.0 ) / exp2_packed;\n\tfloat powScale = exp2_packed.x * exp2_packed.y;\n\tfloat scale = rcp_exp2_packed.x * rcp_exp2_packed.y * 0.25;\n\tfloat mipOffset = 0.75*(1.0 - rcp_exp2_packed.y) * rcp_exp2_packed.x;\n\tbool bRes = mipLevel == 0.0;\n\tscale =  bRes && (scale < a) ? a : scale;\n\tvec3 r;\n\tvec2 offset;\n\tint face = getFaceFromDirection(direction);\n\tfloat rcpPowScale = 1.0 / powScale;\n\tif( face == 0) {\n\t\tr = vec3(direction.x, -direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 1) {\n\t\tr = vec3(direction.y, direction.x, direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 2) {\n\t\tr = vec3(direction.z, direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 3) {\n\t\tr = vec3(direction.x, direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\telse if( face == 4) {\n\t\tr = vec3(direction.y, direction.x, -direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\telse {\n\t\tr = vec3(direction.z, -direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\tr = normalize(r);\n\tfloat texelOffset = 0.5 * cubeUV_rcpTextureSize;\n\tvec2 s = ( r.yz / abs( r.x ) + vec2( 1.0 ) ) * 0.5;\n\tvec2 base = offset + vec2( texelOffset );\n\treturn base + s * ( scale - 2.0 * texelOffset );\n}\n#define cubeUV_maxLods3 (log2(cubeUV_textureSize*0.25) - 3.0)\nvec4 textureCubeUV(vec3 reflectedDirection, float roughness ) {\n\tfloat roughnessVal = roughness* cubeUV_maxLods3;\n\tfloat r1 = floor(roughnessVal);\n\tfloat r2 = r1 + 1.0;\n\tfloat t = fract(roughnessVal);\n\tvec2 mipInfo = MipLevelInfo(reflectedDirection, r1, roughness);\n\tfloat s = mipInfo.y;\n\tfloat level0 = mipInfo.x;\n\tfloat level1 = level0 + 1.0;\n\tlevel1 = level1 > 5.0 ? 5.0 : level1;\n\tlevel0 += min( floor( s + 0.5 ), 5.0 );\n\tvec2 uv_10 = getCubeUV(reflectedDirection, r1, level0);\n\tvec4 color10 = envMapTexelToLinear(texture2D(envMap, uv_10));\n\tvec2 uv_20 = getCubeUV(reflectedDirection, r2, level0);\n\tvec4 color20 = envMapTexelToLinear(texture2D(envMap, uv_20));\n\tvec4 result = mix(color10, color20, t);\n\treturn vec4(result.rgb, 1.0);\n}\n#endif\n",
defaultnormal_vertex:"vec3 transformedNormal = normalMatrix * objectNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif\n",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, uv ).x * displacementScale + displacementBias );\n#endif\n",
emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif\n",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif\n",encodings_fragment:"  gl_FragColor = linearToOutputTexel( gl_FragColor );\n",encodings_pars_fragment:"\nvec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.xyz, vec3( gammaFactor ) ), value.w );\n}\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.xyz, vec3( 1.0 / gammaFactor ) ), value.w );\n}\nvec4 sRGBToLinear( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.w );\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.w );\n}\nvec4 RGBEToLinear( in vec4 value ) {\n\treturn vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\n}\nvec4 LinearToRGBE( in vec4 value ) {\n\tfloat maxComponent = max( max( value.r, value.g ), value.b );\n\tfloat fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\n\treturn vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\n}\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.xyz * value.w * maxRange, 1.0 );\n}\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.x, max( value.g, value.b ) );\n\tfloat M      = clamp( maxRGB / maxRange, 0.0, 1.0 );\n\tM            = ceil( M * 255.0 ) / 255.0;\n\treturn vec4( value.rgb / ( M * maxRange ), M );\n}\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\n}\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.x, max( value.g, value.b ) );\n\tfloat D      = max( maxRange / maxRGB, 1.0 );\n\tD            = min( floor( D ) / 255.0, 1.0 );\n\treturn vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\n}\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\nvec4 LinearToLogLuv( in vec4 value )  {\n\tvec3 Xp_Y_XYZp = value.rgb * cLogLuvM;\n\tXp_Y_XYZp = max(Xp_Y_XYZp, vec3(1e-6, 1e-6, 1e-6));\n\tvec4 vResult;\n\tvResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\n\tfloat Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\n\tvResult.w = fract(Le);\n\tvResult.z = (Le - (floor(vResult.w*255.0))/255.0)/255.0;\n\treturn vResult;\n}\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\nvec4 LogLuvToLinear( in vec4 value ) {\n\tfloat Le = value.z * 255.0 + value.w;\n\tvec3 Xp_Y_XYZp;\n\tXp_Y_XYZp.y = exp2((Le - 127.0) / 2.0);\n\tXp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\n\tXp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\n\tvec3 vRGB = Xp_Y_XYZp.rgb * cLogLuvInverseM;\n\treturn vec4( max(vRGB, 0.0), 1.0 );\n}\n",
envmap_fragment:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvec3 cameraToVertex = normalize( vWorldPosition - cameraPosition );\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, flipNormal * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\tvec2 sampleUV;\n\t\tsampleUV.y = asin( flipNormal * reflectVec.y ) * RECIPROCAL_PI + 0.5;\n\t\tsampleUV.x = atan( flipNormal * reflectVec.z, flipNormal * reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\tvec4 envColor = texture2D( envMap, sampleUV );\n\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\tvec3 reflectView = flipNormal * normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0, 0.0, 1.0 ) );\n\t\tvec4 envColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5 );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\tenvColor = envMapTexelToLinear( envColor );\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif\n",
envmap_pars_fragment:"#if defined( USE_ENVMAP ) || defined( PHYSICAL )\n\tuniform float reflectivity;\n\tuniform float envMapIntensity;\n#endif\n#ifdef USE_ENVMAP\n\t#if ! defined( PHYSICAL ) && ( defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) )\n\t\tvarying vec3 vWorldPosition;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\tuniform float flipEnvMap;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( PHYSICAL )\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif\n",
envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif\n",envmap_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif\n",
fog_vertex:"\n#ifdef USE_FOG\nfogDepth = -mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n  varying float fogDepth;\n#endif\n",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = whiteCompliment( exp2( - fogDensity * fogDensity * fogDepth * fogDepth * LOG2 ) );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, fogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif\n",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float fogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif\n",
gradientmap_pars_fragment:"#ifdef TOON\n\tuniform sampler2D gradientMap;\n\tvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\t\tfloat dotNL = dot( normal, lightDirection );\n\t\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t\t#ifdef USE_GRADIENTMAP\n\t\t\treturn texture2D( gradientMap, coord ).rgb;\n\t\t#else\n\t\t\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\n\t\t#endif\n\t}\n#endif\n",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\treflectedLight.indirectDiffuse += PI * texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n#endif\n",
lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_vertex:"vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\n#if NUM_POINT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_DIR_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvLightFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\n\t\t#endif\n\t}\n#endif\n",
lights_pars:"uniform vec3 ambientLightColor;\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treturn irradiance;\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tdirectLight.color = directionalLight.color;\n\t\tdirectLight.direction = directionalLight.direction;\n\t\tdirectLight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tdirectLight.color = pointLight.color;\n\t\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\n\t\tdirectLight.visible = ( directLight.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight  ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tfloat angleCos = dot( directLight.direction, spotLight.direction );\n\t\tif ( angleCos > spotLight.coneCos ) {\n\t\t\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\t\tdirectLight.color = spotLight.color;\n\t\t\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tdirectLight.visible = true;\n\t\t} else {\n\t\t\tdirectLight.color = vec3( 0.0 );\n\t\t\tdirectLight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltcMat;\tuniform sampler2D ltcMag;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\n\t\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tirradiance *= PI;\n\t\t#endif\n\t\treturn irradiance;\n\t}\n#endif\n#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\n\t\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\tvec4 envMapColor = textureCubeUV( queryVec, 1.0 );\n\t\t#else\n\t\t\tvec4 envMapColor = vec4( 0.0 );\n\t\t#endif\n\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t}\n\tfloat getSpecularMIPLevel( const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\tfloat maxMIPLevelScalar = float( maxMIPLevel );\n\t\tfloat desiredMIPLevel = maxMIPLevelScalar - 0.79248 - 0.5 * log2( pow2( blinnShininessExponent ) + 1.0 );\n\t\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\n\t}\n\tvec3 getLightProbeIndirectRadiance( const in GeometricContext geometry, const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( -geometry.viewDir, geometry.normal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( -geometry.viewDir, geometry.normal, refractionRatio );\n\t\t#endif\n\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\tfloat specularMIPLevel = getSpecularMIPLevel( blinnShininessExponent, maxMIPLevel );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\tvec4 envMapColor = textureCubeUV(queryReflectVec, BlinnExponentToGGXRoughness(blinnShininessExponent));\n\t\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\t\tvec2 sampleUV;\n\t\t\tsampleUV.y = saturate( reflectVec.y * 0.5 + 0.5 );\n\t\t\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, sampleUV, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, sampleUV, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\t\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0,0.0,1.0 ) );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#endif\n\t\treturn envMapColor.rgb * envMapIntensity;\n\t}\n#endif\n",
lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;\n",lights_phong_pars_fragment:"varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct BlinnPhongMaterial {\n\tvec3\tdiffuseColor;\n\tvec3\tspecularColor;\n\tfloat\tspecularShininess;\n\tfloat\tspecularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\t#ifdef TOON\n\t\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\t#else\n\t\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\t\tvec3 irradiance = dotNL * directLight.color;\n\t#endif\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)\n",
lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nmaterial.specularRoughness = clamp( roughnessFactor, 0.04, 1.0 );\n#ifdef STANDARD\n\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.clearCoat = saturate( clearCoat );\tmaterial.clearCoatRoughness = clamp( clearCoatRoughness, 0.04, 1.0 );\n#endif\n",
lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3\tdiffuseColor;\n\tfloat\tspecularRoughness;\n\tvec3\tspecularColor;\n\t#ifndef STANDARD\n\t\tfloat clearCoat;\n\t\tfloat clearCoatRoughness;\n\t#endif\n};\n#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\n#define DEFAULT_SPECULAR_COEFFICIENT 0.04\nfloat clearCoatDHRApprox( const in float roughness, const in float dotNL ) {\n\treturn DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.specularRoughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos - halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos + halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos + halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos - halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tfloat norm = texture2D( ltcMag, uv ).a;\n\t\tvec4 t = texture2D( ltcMat, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3(   1,   0, t.y ),\n\t\t\tvec3(   0, t.z,   0 ),\n\t\t\tvec3( t.w,   0, t.x )\n\t\t);\n\t\treflectedLight.directSpecular += lightColor * material.specularColor * norm * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\t#ifndef STANDARD\n\t\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\n\t#else\n\t\tfloat clearCoatDHR = 0.0;\n\t#endif\n\treflectedLight.directSpecular += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry, material.specularColor, material.specularRoughness );\n\treflectedLight.directDiffuse += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\t#ifndef STANDARD\n\t\treflectedLight.directSpecular += irradiance * material.clearCoat * BRDF_Specular_GGX( directLight, geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\n\t#endif\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 clearCoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t#ifndef STANDARD\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\tfloat dotNL = dotNV;\n\t\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\n\t#else\n\t\tfloat clearCoatDHR = 0.0;\n\t#endif\n\treflectedLight.indirectSpecular += ( 1.0 - clearCoatDHR ) * radiance * BRDF_Specular_GGX_Environment( geometry, material.specularColor, material.specularRoughness );\n\t#ifndef STANDARD\n\t\treflectedLight.indirectSpecular += clearCoatRadiance * material.clearCoat * BRDF_Specular_GGX_Environment( geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\n\t#endif\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\n#define Material_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.specularRoughness )\n#define Material_ClearCoat_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.clearCoatRoughness )\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}\n",
lights_template:"\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = normalize( vViewPosition );\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( pointLight.shadow, directLight.visible ) ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( spotLight.shadow, directLight.visible ) ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( directionalLight.shadow, directLight.visible ) ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\t#ifdef USE_LIGHTMAP\n\t\tvec3 lightMapIrradiance = texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tlightMapIrradiance *= PI;\n\t\t#endif\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t}\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( PHYSICAL ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tirradiance += getLightProbeIndirectIrradiance( geometry, 8 );\n\t#endif\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tvec3 radiance = getLightProbeIndirectRadiance( geometry, Material_BlinnShininessExponent( material ), 8 );\n\t#ifndef STANDARD\n\t\tvec3 clearCoatRadiance = getLightProbeIndirectRadiance( geometry, Material_ClearCoat_BlinnShininessExponent( material ), 8 );\n\t#else\n\t\tvec3 clearCoatRadiance = vec3( 0.0 );\n\t#endif\n\tRE_IndirectSpecular( radiance, clearCoatRadiance, geometry, material, reflectedLight );\n#endif\n",
logdepthbuf_fragment:"#if defined(USE_LOGDEPTHBUF) && defined(USE_LOGDEPTHBUF_EXT)\n\tgl_FragDepthEXT = log2(vFragDepth) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#ifdef USE_LOGDEPTHBUF\n\tuniform float logDepthBufFC;\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t#endif\n#endif\n",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t#endif\n\tuniform float logDepthBufFC;\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\tgl_Position.z = log2(max( EPSILON, gl_Position.w + 1.0 )) * logDepthBufFC;\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t#else\n\t\tgl_Position.z = (gl_Position.z - 1.0) * gl_Position.w;\n\t#endif\n#endif\n",
map_fragment:"#ifdef USE_MAP\n\tvec4 texelColor = texture2D( map, vUv );\n\ttexelColor = mapTexelToLinear( texelColor );\n\tdiffuseColor *= texelColor;\n#endif\n",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n",map_particle_fragment:"#ifdef USE_MAP\n\tvec4 mapTexel = texture2D( map, vec2( gl_PointCoord.x, 1.0 - gl_PointCoord.y ) * offsetRepeat.zw + offsetRepeat.xy );\n\tdiffuseColor *= mapTexelToLinear( mapTexel );\n#endif\n",map_particle_pars_fragment:"#ifdef USE_MAP\n\tuniform vec4 offsetRepeat;\n\tuniform sampler2D map;\n#endif\n",
metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif\n",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal += ( morphNormal0 - normal ) * morphTargetInfluences[ 0 ];\n\tobjectNormal += ( morphNormal1 - normal ) * morphTargetInfluences[ 1 ];\n\tobjectNormal += ( morphNormal2 - normal ) * morphTargetInfluences[ 2 ];\n\tobjectNormal += ( morphNormal3 - normal ) * morphTargetInfluences[ 3 ];\n#endif\n",
morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\t#ifndef USE_MORPHNORMALS\n\tuniform float morphTargetInfluences[ 8 ];\n\t#else\n\tuniform float morphTargetInfluences[ 4 ];\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed += ( morphTarget0 - position ) * morphTargetInfluences[ 0 ];\n\ttransformed += ( morphTarget1 - position ) * morphTargetInfluences[ 1 ];\n\ttransformed += ( morphTarget2 - position ) * morphTargetInfluences[ 2 ];\n\ttransformed += ( morphTarget3 - position ) * morphTargetInfluences[ 3 ];\n\t#ifndef USE_MORPHNORMALS\n\ttransformed += ( morphTarget4 - position ) * morphTargetInfluences[ 4 ];\n\ttransformed += ( morphTarget5 - position ) * morphTargetInfluences[ 5 ];\n\ttransformed += ( morphTarget6 - position ) * morphTargetInfluences[ 6 ];\n\ttransformed += ( morphTarget7 - position ) * morphTargetInfluences[ 7 ];\n\t#endif\n#endif\n",
normal_flip:"#ifdef DOUBLE_SIDED\n\tfloat flipNormal = ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n#else\n\tfloat flipNormal = 1.0;\n#endif\n",normal_fragment:"#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal ) * flipNormal;\n#endif\n#ifdef USE_NORMALMAP\n\tnormal = perturbNormal2Arb( -vViewPosition, normal );\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\n#endif\n",
normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm ) {\n\t\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\n\t\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\n\t\tvec2 st0 = dFdx( vUv.st );\n\t\tvec2 st1 = dFdy( vUv.st );\n\t\tvec3 S = normalize( q0 * st1.t - q1 * st0.t );\n\t\tvec3 T = normalize( -q0 * st1.s + q1 * st0.s );\n\t\tvec3 N = normalize( surf_norm );\n\t\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t\tmapN.xy = normalScale * mapN.xy;\n\t\tmat3 tsn = mat3( S, T, N );\n\t\treturn normalize( tsn * mapN );\n\t}\n#endif\n",
packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 1.0 - 2.0 * rgb.xyz;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256.,  256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn (( near + viewZ ) * far ) / (( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}\n",
premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif\n",project_vertex:"vec4 mvPosition = modelViewMatrix * vec4( transformed, 1.0 );\ngl_Position = projectionMatrix * mvPosition;\n",dithering_fragment:"#if defined( DITHERING )\n  gl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif\n",dithering_pars_fragment:"#if defined( DITHERING )\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif\n",
roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.g;\n#endif\n",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tfloat texture2DShadowLerp( sampler2D depths, vec2 size, vec2 uv, float compare ) {\n\t\tconst vec2 offset = vec2( 0.0, 1.0 );\n\t\tvec2 texelSize = vec2( 1.0 ) / size;\n\t\tvec2 centroidUV = floor( uv * size + 0.5 ) / size;\n\t\tfloat lb = texture2DCompare( depths, centroidUV + texelSize * offset.xx, compare );\n\t\tfloat lt = texture2DCompare( depths, centroidUV + texelSize * offset.xy, compare );\n\t\tfloat rb = texture2DCompare( depths, centroidUV + texelSize * offset.yx, compare );\n\t\tfloat rt = texture2DCompare( depths, centroidUV + texelSize * offset.yy, compare );\n\t\tvec2 f = fract( uv * size + 0.5 );\n\t\tfloat a = mix( lb, lt, f.y );\n\t\tfloat b = mix( rb, rt, f.y );\n\t\tfloat c = mix( a, b, f.x );\n\t\treturn c;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tshadow = (\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\tfloat dp = ( length( lightToPosition ) - shadowBias ) / 1000.0;\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif\n",
shadowmap_pars_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\t#endif\n#endif\n",
shadowmap_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n#endif\n",
shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\tDirectionalLight directionalLight;\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tshadow *= bool( directionalLight.shadow ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\tSpotLight spotLight;\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tshadow *= bool( spotLight.shadow ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\tPointLight pointLight;\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tshadow *= bool( pointLight.shadow ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#endif\n\treturn shadow;\n}\n",
skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\t#ifdef BONE_TEXTURE\n\t\tuniform sampler2D boneTexture;\n\t\tuniform int boneTextureSize;\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\t\ty = dy * ( y + 0.5 );\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\t\treturn bone;\n\t\t}\n\t#else\n\t\tuniform mat4 boneMatrices[ MAX_BONES ];\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tmat4 bone = boneMatrices[ int(i) ];\n\t\t\treturn bone;\n\t\t}\n\t#endif\n#endif\n",
skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif\n",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix  = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n#endif\n",
specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n  gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif\n",tonemapping_pars_fragment:"#define saturate(a) clamp( a, 0.0, 1.0 )\nuniform float toneMappingExposure;\nuniform float toneMappingWhitePoint;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\n#define Uncharted2Helper( x ) max( ( ( x * ( 0.15 * x + 0.10 * 0.50 ) + 0.20 * 0.02 ) / ( x * ( 0.15 * x + 0.50 ) + 0.20 * 0.30 ) ) - 0.02 / 0.30, vec3( 0.0 ) )\nvec3 Uncharted2ToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( Uncharted2Helper( color ) / Uncharted2Helper( vec3( toneMappingWhitePoint ) ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\n",
uv_pars_fragment:"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n#endif",uv_pars_vertex:"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n\tuniform vec4 offsetRepeat;\n#endif\n",
uv_vertex:"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvUv = uv * offsetRepeat.zw + offsetRepeat.xy;\n#endif",uv2_pars_fragment:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",uv2_pars_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n#endif",
uv2_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = uv2;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( PHONG ) || defined( PHYSICAL ) || defined( LAMBERT ) || defined ( USE_SHADOWMAP )\n\tvec4 worldPosition = modelMatrix * vec4( transformed, 1.0 );\n#endif\n",cube_frag:"uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tgl_FragColor = textureCube( tCube, vec3( tFlip * vWorldPosition.x, vWorldPosition.yz ) );\n\tgl_FragColor.a *= opacity;\n}\n",
cube_vert:"varying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tvWorldPosition = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}\n",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( gl_FragCoord.z ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( gl_FragCoord.z );\n\t#endif\n}\n",
depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n}\n",
distanceRGBA_frag:"uniform vec3 lightPos;\nvarying vec4 vWorldPosition;\n#include <common>\n#include <packing>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tgl_FragColor = packDepthToRGBA( length( vWorldPosition.xyz - lightPos.xyz ) / 1000.0 );\n}\n",distanceRGBA_vert:"varying vec4 vWorldPosition;\n#include <common>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <skinbase_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition;\n}\n",
equirect_frag:"uniform sampler2D tEquirect;\nuniform float tFlip;\nvarying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldPosition );\n\tvec2 sampleUV;\n\tsampleUV.y = saturate( tFlip * direction.y * -0.5 + 0.5 );\n\tsampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n}\n",equirect_vert:"varying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tvWorldPosition = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}\n",
linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",
linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\tvLineDistance = scale * lineDistance;\n\tvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}\n",
meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\treflectedLight.indirectDiffuse += texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <normal_flip>\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",
meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_ENVMAP\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}\n",
meshlambert_frag:"uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <bsdfs>\n#include <lights_pars>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\treflectedLight.indirectDiffuse = getAmbientLightIrradiance( ambientLightColor );\n\t#include <lightmap_fragment>\n\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse = vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <normal_flip>\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}\n",
meshlambert_vert:"#define LAMBERT\nvarying vec3 vLightFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n",
meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_flip>\n\t#include <normal_fragment>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_template>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}\n",
meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n",
meshphysical_frag:"#define PHYSICAL\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifndef STANDARD\n\tuniform float clearCoat;\n\tuniform float clearCoatRoughness;\n#endif\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <cube_uv_reflection_fragment>\n#include <lights_pars>\n#include <lights_physical_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_flip>\n\t#include <normal_fragment>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_template>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}\n",
meshphysical_vert:"#define PHYSICAL\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n",
normal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\nvoid main() {\n\t#include <logdepthbuf_fragment>\n\t#include <normal_flip>\n\t#include <normal_fragment>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n}\n",
normal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}\n",
points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",
points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#ifdef USE_SIZEATTENUATION\n\t\tgl_PointSize = size * ( scale / - mvPosition.z );\n\t#else\n\t\tgl_PointSize = size;\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n",
shadow_frag:"uniform float opacity;\n#include <common>\n#include <packing>\n#include <bsdfs>\n#include <lights_pars>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( 0.0, 0.0, 0.0, opacity * ( 1.0 - getShadowMask() ) );\n}\n",shadow_vert:"#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n}\n"},Fd={basic:{uniforms:qc.merge([Aa.common,
Aa.aomap,Aa.lightmap,Aa.fog]),vertexShader:Pa.meshbasic_vert,fragmentShader:Pa.meshbasic_frag},lambert:{uniforms:qc.merge([Aa.common,Aa.aomap,Aa.lightmap,Aa.emissivemap,Aa.fog,Aa.lights,{emissive:{value:new Q(0)}}]),vertexShader:Pa.meshlambert_vert,fragmentShader:Pa.meshlambert_frag},phong:{uniforms:qc.merge([Aa.common,Aa.aomap,Aa.lightmap,Aa.emissivemap,Aa.bumpmap,Aa.normalmap,Aa.displacementmap,Aa.gradientmap,Aa.fog,Aa.lights,{emissive:{value:new Q(0)},specular:{value:new Q(1118481)},shininess:{value:30}}]),
vertexShader:Pa.meshphong_vert,fragmentShader:Pa.meshphong_frag},standard:{uniforms:qc.merge([Aa.common,Aa.aomap,Aa.lightmap,Aa.emissivemap,Aa.bumpmap,Aa.normalmap,Aa.displacementmap,Aa.roughnessmap,Aa.metalnessmap,Aa.fog,Aa.lights,{emissive:{value:new Q(0)},roughness:{value:.5},metalness:{value:.5},envMapIntensity:{value:1}}]),vertexShader:Pa.meshphysical_vert,fragmentShader:Pa.meshphysical_frag},points:{uniforms:qc.merge([Aa.points,Aa.fog]),vertexShader:Pa.points_vert,fragmentShader:Pa.points_frag},
dashed:{uniforms:qc.merge([Aa.common,Aa.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Pa.linedashed_vert,fragmentShader:Pa.linedashed_frag},depth:{uniforms:qc.merge([Aa.common,Aa.displacementmap]),vertexShader:Pa.depth_vert,fragmentShader:Pa.depth_frag},normal:{uniforms:qc.merge([Aa.common,Aa.bumpmap,Aa.normalmap,Aa.displacementmap,{opacity:{value:1}}]),vertexShader:Pa.normal_vert,fragmentShader:Pa.normal_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},
vertexShader:Pa.cube_vert,fragmentShader:Pa.cube_frag},equirect:{uniforms:{tEquirect:{value:null},tFlip:{value:-1}},vertexShader:Pa.equirect_vert,fragmentShader:Pa.equirect_frag},distanceRGBA:{uniforms:{lightPos:{value:new b}},vertexShader:Pa.distanceRGBA_vert,fragmentShader:Pa.distanceRGBA_frag}};Fd.physical={uniforms:qc.merge([Fd.standard.uniforms,{clearCoat:{value:0},clearCoatRoughness:{value:0}}]),vertexShader:Pa.meshphysical_vert,fragmentShader:Pa.meshphysical_frag};Object.assign(Va.prototype,
{set:function(a,b){this.min.copy(a);this.max.copy(b);return this},setFromPoints:function(a){this.makeEmpty();for(var e=0,b=a.length;e<b;e++)this.expandByPoint(a[e]);return this},setFromCenterAndSize:function(){var a=new f;return function(e,b){b=a.copy(b).multiplyScalar(.5);this.min.copy(e).sub(b);this.max.copy(e).add(b);return this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(a){this.min.copy(a.min);this.max.copy(a.max);return this},makeEmpty:function(){this.min.x=this.min.y=
Infinity;this.max.x=this.max.y=-Infinity;return this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y},getCenter:function(a){a=a||new f;return this.isEmpty()?a.set(0,0):a.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(a){a=a||new f;return this.isEmpty()?a.set(0,0):a.subVectors(this.max,this.min)},expandByPoint:function(a){this.min.min(a);this.max.max(a);return this},expandByVector:function(a){this.min.sub(a);this.max.add(a);return this},expandByScalar:function(a){this.min.addScalar(-a);
this.max.addScalar(a);return this},containsPoint:function(a){return a.x<this.min.x||a.x>this.max.x||a.y<this.min.y||a.y>this.max.y?!1:!0},containsBox:function(a){return this.min.x<=a.min.x&&a.max.x<=this.max.x&&this.min.y<=a.min.y&&a.max.y<=this.max.y},getParameter:function(a,b){return(b||new f).set((a.x-this.min.x)/(this.max.x-this.min.x),(a.y-this.min.y)/(this.max.y-this.min.y))},intersectsBox:function(a){return a.max.x<this.min.x||a.min.x>this.max.x||a.max.y<this.min.y||a.min.y>this.max.y?!1:!0},
clampPoint:function(a,b){return(b||new f).copy(a).clamp(this.min,this.max)},distanceToPoint:function(){var a=new f;return function(e){return a.copy(e).clamp(this.min,this.max).sub(e).length()}}(),intersect:function(a){this.min.max(a.min);this.max.min(a.max);return this},union:function(a){this.min.min(a.min);this.max.max(a.max);return this},translate:function(a){this.min.add(a);this.max.add(a);return this},equals:function(a){return a.min.equals(this.min)&&a.max.equals(this.max)}});var If=0;Object.assign(qa.prototype,
m.prototype,{isMaterial:!0,onBeforeCompile:function(){},setValues:function(a){if(void 0!==a)for(var e in a){var b=a[e];if(void 0===b)console.warn("THREE.Material: '"+e+"' parameter is undefined.");else{var c=this[e];void 0===c?console.warn("THREE."+this.type+": '"+e+"' is not a property of this material."):c&&c.isColor?c.set(b):c&&c.isVector3&&b&&b.isVector3?c.copy(b):this[e]="overdraw"===e?Number(b):b}}},toJSON:function(a){function e(a){var e=[],b;for(b in a){var l=a[b];delete l.metadata;e.push(l)}return e}
var b=void 0===a;b&&(a={textures:{},images:{}});var c={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};c.uuid=this.uuid;c.type=this.type;""!==this.name&&(c.name=this.name);this.color&&this.color.isColor&&(c.color=this.color.getHex());void 0!==this.roughness&&(c.roughness=this.roughness);void 0!==this.metalness&&(c.metalness=this.metalness);this.emissive&&this.emissive.isColor&&(c.emissive=this.emissive.getHex());this.specular&&this.specular.isColor&&(c.specular=this.specular.getHex());
void 0!==this.shininess&&(c.shininess=this.shininess);void 0!==this.clearCoat&&(c.clearCoat=this.clearCoat);void 0!==this.clearCoatRoughness&&(c.clearCoatRoughness=this.clearCoatRoughness);this.map&&this.map.isTexture&&(c.map=this.map.toJSON(a).uuid);this.alphaMap&&this.alphaMap.isTexture&&(c.alphaMap=this.alphaMap.toJSON(a).uuid);this.lightMap&&this.lightMap.isTexture&&(c.lightMap=this.lightMap.toJSON(a).uuid);this.bumpMap&&this.bumpMap.isTexture&&(c.bumpMap=this.bumpMap.toJSON(a).uuid,c.bumpScale=
this.bumpScale);this.normalMap&&this.normalMap.isTexture&&(c.normalMap=this.normalMap.toJSON(a).uuid,c.normalScale=this.normalScale.toArray());this.displacementMap&&this.displacementMap.isTexture&&(c.displacementMap=this.displacementMap.toJSON(a).uuid,c.displacementScale=this.displacementScale,c.displacementBias=this.displacementBias);this.roughnessMap&&this.roughnessMap.isTexture&&(c.roughnessMap=this.roughnessMap.toJSON(a).uuid);this.metalnessMap&&this.metalnessMap.isTexture&&(c.metalnessMap=this.metalnessMap.toJSON(a).uuid);
this.emissiveMap&&this.emissiveMap.isTexture&&(c.emissiveMap=this.emissiveMap.toJSON(a).uuid);this.specularMap&&this.specularMap.isTexture&&(c.specularMap=this.specularMap.toJSON(a).uuid);this.envMap&&this.envMap.isTexture&&(c.envMap=this.envMap.toJSON(a).uuid,c.reflectivity=this.reflectivity);this.gradientMap&&this.gradientMap.isTexture&&(c.gradientMap=this.gradientMap.toJSON(a).uuid);void 0!==this.size&&(c.size=this.size);void 0!==this.sizeAttenuation&&(c.sizeAttenuation=this.sizeAttenuation);1!==
this.blending&&(c.blending=this.blending);2!==this.shading&&(c.shading=this.shading);0!==this.side&&(c.side=this.side);0!==this.vertexColors&&(c.vertexColors=this.vertexColors);1>this.opacity&&(c.opacity=this.opacity);!0===this.transparent&&(c.transparent=this.transparent);c.depthFunc=this.depthFunc;c.depthTest=this.depthTest;c.depthWrite=this.depthWrite;0<this.alphaTest&&(c.alphaTest=this.alphaTest);!0===this.premultipliedAlpha&&(c.premultipliedAlpha=this.premultipliedAlpha);!0===this.wireframe&&
(c.wireframe=this.wireframe);1<this.wireframeLinewidth&&(c.wireframeLinewidth=this.wireframeLinewidth);"round"!==this.wireframeLinecap&&(c.wireframeLinecap=this.wireframeLinecap);"round"!==this.wireframeLinejoin&&(c.wireframeLinejoin=this.wireframeLinejoin);c.skinning=this.skinning;c.morphTargets=this.morphTargets;c.dithering=this.dithering;b&&(b=e(a.textures),a=e(a.images),0<b.length&&(c.textures=b),0<a.length&&(c.images=a));return c},clone:function(){return(new this.constructor).copy(this)},copy:function(a){this.name=
a.name;this.fog=a.fog;this.lights=a.lights;this.blending=a.blending;this.side=a.side;this.shading=a.shading;this.vertexColors=a.vertexColors;this.opacity=a.opacity;this.transparent=a.transparent;this.blendSrc=a.blendSrc;this.blendDst=a.blendDst;this.blendEquation=a.blendEquation;this.blendSrcAlpha=a.blendSrcAlpha;this.blendDstAlpha=a.blendDstAlpha;this.blendEquationAlpha=a.blendEquationAlpha;this.depthFunc=a.depthFunc;this.depthTest=a.depthTest;this.depthWrite=a.depthWrite;this.colorWrite=a.colorWrite;
this.precision=a.precision;this.polygonOffset=a.polygonOffset;this.polygonOffsetFactor=a.polygonOffsetFactor;this.polygonOffsetUnits=a.polygonOffsetUnits;this.dithering=a.dithering;this.alphaTest=a.alphaTest;this.premultipliedAlpha=a.premultipliedAlpha;this.overdraw=a.overdraw;this.visible=a.visible;this.clipShadows=a.clipShadows;this.clipIntersection=a.clipIntersection;a=a.clippingPlanes;var e=null;if(null!==a){var b=a.length;e=Array(b);for(var c=0;c!==b;++c)e[c]=a[c].clone()}this.clippingPlanes=
e;return this},dispose:function(){this.dispatchEvent({type:"dispose"})}});Ra.prototype=Object.create(qa.prototype);Ra.prototype.constructor=Ra;Ra.prototype.isShaderMaterial=!0;Ra.prototype.copy=function(a){qa.prototype.copy.call(this,a);this.fragmentShader=a.fragmentShader;this.vertexShader=a.vertexShader;this.uniforms=qc.clone(a.uniforms);this.defines=a.defines;this.wireframe=a.wireframe;this.wireframeLinewidth=a.wireframeLinewidth;this.lights=a.lights;this.clipping=a.clipping;this.skinning=a.skinning;
this.morphTargets=a.morphTargets;this.morphNormals=a.morphNormals;this.extensions=a.extensions;return this};Ra.prototype.toJSON=function(a){a=qa.prototype.toJSON.call(this,a);a.uniforms=this.uniforms;a.vertexShader=this.vertexShader;a.fragmentShader=this.fragmentShader;return a};lb.prototype=Object.create(qa.prototype);lb.prototype.constructor=lb;lb.prototype.isMeshDepthMaterial=!0;lb.prototype.copy=function(a){qa.prototype.copy.call(this,a);this.depthPacking=a.depthPacking;this.skinning=a.skinning;
this.morphTargets=a.morphTargets;this.map=a.map;this.alphaMap=a.alphaMap;this.displacementMap=a.displacementMap;this.displacementScale=a.displacementScale;this.displacementBias=a.displacementBias;this.wireframe=a.wireframe;this.wireframeLinewidth=a.wireframeLinewidth;return this};Object.assign(db.prototype,{isBox3:!0,set:function(a,b){this.min.copy(a);this.max.copy(b);return this},setFromArray:function(a){for(var e=Infinity,b=Infinity,c=Infinity,d=-Infinity,f=-Infinity,g=-Infinity,h=0,k=a.length;h<
k;h+=3){var n=a[h],m=a[h+1],p=a[h+2];n<e&&(e=n);m<b&&(b=m);p<c&&(c=p);n>d&&(d=n);m>f&&(f=m);p>g&&(g=p)}this.min.set(e,b,c);this.max.set(d,f,g);return this},setFromBufferAttribute:function(a){for(var e=Infinity,b=Infinity,c=Infinity,d=-Infinity,f=-Infinity,g=-Infinity,h=0,k=a.count;h<k;h++){var n=a.getX(h),m=a.getY(h),p=a.getZ(h);n<e&&(e=n);m<b&&(b=m);p<c&&(c=p);n>d&&(d=n);m>f&&(f=m);p>g&&(g=p)}this.min.set(e,b,c);this.max.set(d,f,g);return this},setFromPoints:function(a){this.makeEmpty();for(var e=
0,b=a.length;e<b;e++)this.expandByPoint(a[e]);return this},setFromCenterAndSize:function(){var a=new b;return function(e,b){b=a.copy(b).multiplyScalar(.5);this.min.copy(e).sub(b);this.max.copy(e).add(b);return this}}(),setFromObject:function(a){this.makeEmpty();return this.expandByObject(a)},clone:function(){return(new this.constructor).copy(this)},copy:function(a){this.min.copy(a.min);this.max.copy(a.max);return this},makeEmpty:function(){this.min.x=this.min.y=this.min.z=Infinity;this.max.x=this.max.y=
this.max.z=-Infinity;return this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},getCenter:function(a){a=a||new b;return this.isEmpty()?a.set(0,0,0):a.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(a){a=a||new b;return this.isEmpty()?a.set(0,0,0):a.subVectors(this.max,this.min)},expandByPoint:function(a){this.min.min(a);this.max.max(a);return this},expandByVector:function(a){this.min.sub(a);this.max.add(a);return this},expandByScalar:function(a){this.min.addScalar(-a);
this.max.addScalar(a);return this},expandByObject:function(){var a=new b;return function(e){var b=this;e.updateMatrixWorld(!0);e.traverse(function(e){var c;var l=e.geometry;if(void 0!==l)if(l.isGeometry){var d=l.vertices;l=0;for(c=d.length;l<c;l++)a.copy(d[l]),a.applyMatrix4(e.matrixWorld),b.expandByPoint(a)}else if(l.isBufferGeometry&&(d=l.attributes.position,void 0!==d))for(l=0,c=d.count;l<c;l++)a.fromBufferAttribute(d,l).applyMatrix4(e.matrixWorld),b.expandByPoint(a)});return this}}(),containsPoint:function(a){return a.x<
this.min.x||a.x>this.max.x||a.y<this.min.y||a.y>this.max.y||a.z<this.min.z||a.z>this.max.z?!1:!0},containsBox:function(a){return this.min.x<=a.min.x&&a.max.x<=this.max.x&&this.min.y<=a.min.y&&a.max.y<=this.max.y&&this.min.z<=a.min.z&&a.max.z<=this.max.z},getParameter:function(a,c){return(c||new b).set((a.x-this.min.x)/(this.max.x-this.min.x),(a.y-this.min.y)/(this.max.y-this.min.y),(a.z-this.min.z)/(this.max.z-this.min.z))},intersectsBox:function(a){return a.max.x<this.min.x||a.min.x>this.max.x||
a.max.y<this.min.y||a.min.y>this.max.y||a.max.z<this.min.z||a.min.z>this.max.z?!1:!0},intersectsSphere:function(){var a=new b;return function(e){this.clampPoint(e.center,a);return a.distanceToSquared(e.center)<=e.radius*e.radius}}(),intersectsPlane:function(a){if(0<a.normal.x){var e=a.normal.x*this.min.x;var b=a.normal.x*this.max.x}else e=a.normal.x*this.max.x,b=a.normal.x*this.min.x;0<a.normal.y?(e+=a.normal.y*this.min.y,b+=a.normal.y*this.max.y):(e+=a.normal.y*this.max.y,b+=a.normal.y*this.min.y);
0<a.normal.z?(e+=a.normal.z*this.min.z,b+=a.normal.z*this.max.z):(e+=a.normal.z*this.max.z,b+=a.normal.z*this.min.z);return e<=a.constant&&b>=a.constant},clampPoint:function(a,c){return(c||new b).copy(a).clamp(this.min,this.max)},distanceToPoint:function(){var a=new b;return function(e){return a.copy(e).clamp(this.min,this.max).sub(e).length()}}(),getBoundingSphere:function(){var a=new b;return function(e){e=e||new N;this.getCenter(e.center);e.radius=.5*this.getSize(a).length();return e}}(),intersect:function(a){this.min.max(a.min);
this.max.min(a.max);this.isEmpty()&&this.makeEmpty();return this},union:function(a){this.min.min(a.min);this.max.max(a.max);return this},applyMatrix4:function(){var a=[new b,new b,new b,new b,new b,new b,new b,new b];return function(e){if(this.isEmpty())return this;a[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e);a[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e);a[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e);a[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e);
a[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e);a[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e);a[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e);a[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e);this.setFromPoints(a);return this}}(),translate:function(a){this.min.add(a);this.max.add(a);return this},equals:function(a){return a.min.equals(this.min)&&a.max.equals(this.max)}});Object.assign(N.prototype,{set:function(a,b){this.center.copy(a);this.radius=b;return this},
setFromPoints:function(){var a=new db;return function(e,b){var c=this.center;void 0!==b?c.copy(b):a.setFromPoints(e).getCenter(c);for(var l=b=0,d=e.length;l<d;l++)b=Math.max(b,c.distanceToSquared(e[l]));this.radius=Math.sqrt(b);return this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(a){this.center.copy(a.center);this.radius=a.radius;return this},empty:function(){return 0>=this.radius},containsPoint:function(a){return a.distanceToSquared(this.center)<=this.radius*this.radius},
distanceToPoint:function(a){return a.distanceTo(this.center)-this.radius},intersectsSphere:function(a){var e=this.radius+a.radius;return a.center.distanceToSquared(this.center)<=e*e},intersectsBox:function(a){return a.intersectsSphere(this)},intersectsPlane:function(a){return Math.abs(this.center.dot(a.normal)-a.constant)<=this.radius},clampPoint:function(a,c){var e=this.center.distanceToSquared(a);c=c||new b;c.copy(a);e>this.radius*this.radius&&(c.sub(this.center).normalize(),c.multiplyScalar(this.radius).add(this.center));
return c},getBoundingBox:function(a){a=a||new db;a.set(this.center,this.center);a.expandByScalar(this.radius);return a},applyMatrix4:function(a){this.center.applyMatrix4(a);this.radius*=a.getMaxScaleOnAxis();return this},translate:function(a){this.center.add(a);return this},equals:function(a){return a.center.equals(this.center)&&a.radius===this.radius}});Object.assign(h.prototype,{isMatrix3:!0,set:function(a,b,c,d,f,g,h,k,n){var e=this.elements;e[0]=a;e[1]=d;e[2]=h;e[3]=b;e[4]=f;e[5]=k;e[6]=c;e[7]=
g;e[8]=n;return this},identity:function(){this.set(1,0,0,0,1,0,0,0,1);return this},clone:function(){return(new this.constructor).fromArray(this.elements)},copy:function(a){var e=this.elements;a=a.elements;e[0]=a[0];e[1]=a[1];e[2]=a[2];e[3]=a[3];e[4]=a[4];e[5]=a[5];e[6]=a[6];e[7]=a[7];e[8]=a[8];return this},setFromMatrix4:function(a){a=a.elements;this.set(a[0],a[4],a[8],a[1],a[5],a[9],a[2],a[6],a[10]);return this},applyToBufferAttribute:function(){var a=new b;return function(e){for(var b=0,c=e.count;b<
c;b++)a.x=e.getX(b),a.y=e.getY(b),a.z=e.getZ(b),a.applyMatrix3(this),e.setXYZ(b,a.x,a.y,a.z);return e}}(),multiply:function(a){return this.multiplyMatrices(this,a)},premultiply:function(a){return this.multiplyMatrices(a,this)},multiplyMatrices:function(a,b){var e=a.elements,c=b.elements;b=this.elements;a=e[0];var l=e[3],d=e[6],f=e[1],g=e[4],h=e[7],k=e[2],n=e[5];e=e[8];var m=c[0],p=c[3],q=c[6],t=c[1],w=c[4],u=c[7],x=c[2],A=c[5];c=c[8];b[0]=a*m+l*t+d*x;b[3]=a*p+l*w+d*A;b[6]=a*q+l*u+d*c;b[1]=f*m+g*t+
h*x;b[4]=f*p+g*w+h*A;b[7]=f*q+g*u+h*c;b[2]=k*m+n*t+e*x;b[5]=k*p+n*w+e*A;b[8]=k*q+n*u+e*c;return this},multiplyScalar:function(a){var e=this.elements;e[0]*=a;e[3]*=a;e[6]*=a;e[1]*=a;e[4]*=a;e[7]*=a;e[2]*=a;e[5]*=a;e[8]*=a;return this},determinant:function(){var a=this.elements,b=a[0],c=a[1],d=a[2],f=a[3],g=a[4],h=a[5],k=a[6],n=a[7];a=a[8];return b*g*a-b*h*n-c*f*a+c*h*k+d*f*n-d*g*k},getInverse:function(a,b){a&&a.isMatrix4&&console.error("THREE.Matrix3.getInverse no longer takes a Matrix4 argument.");
var e=a.elements;a=this.elements;var c=e[0],l=e[1],d=e[2],f=e[3],g=e[4],h=e[5],k=e[6],n=e[7];e=e[8];var m=e*g-h*n,p=h*k-e*f,q=n*f-g*k,t=c*m+l*p+d*q;if(0===t){if(!0===b)throw Error("THREE.Matrix3.getInverse(): can't invert matrix, determinant is 0");console.warn("THREE.Matrix3.getInverse(): can't invert matrix, determinant is 0");return this.identity()}b=1/t;a[0]=m*b;a[1]=(d*n-e*l)*b;a[2]=(h*l-d*g)*b;a[3]=p*b;a[4]=(e*c-d*k)*b;a[5]=(d*f-h*c)*b;a[6]=q*b;a[7]=(l*k-n*c)*b;a[8]=(g*c-l*f)*b;return this},
transpose:function(){var a=this.elements;var b=a[1];a[1]=a[3];a[3]=b;b=a[2];a[2]=a[6];a[6]=b;b=a[5];a[5]=a[7];a[7]=b;return this},getNormalMatrix:function(a){return this.setFromMatrix4(a).getInverse(this).transpose()},transposeIntoArray:function(a){var e=this.elements;a[0]=e[0];a[1]=e[3];a[2]=e[6];a[3]=e[1];a[4]=e[4];a[5]=e[7];a[6]=e[2];a[7]=e[5];a[8]=e[8];return this},equals:function(a){var e=this.elements;a=a.elements;for(var b=0;9>b;b++)if(e[b]!==a[b])return!1;return!0},fromArray:function(a,b){void 0===
b&&(b=0);for(var e=0;9>e;e++)this.elements[e]=a[e+b];return this},toArray:function(a,b){void 0===a&&(a=[]);void 0===b&&(b=0);var e=this.elements;a[b]=e[0];a[b+1]=e[1];a[b+2]=e[2];a[b+3]=e[3];a[b+4]=e[4];a[b+5]=e[5];a[b+6]=e[6];a[b+7]=e[7];a[b+8]=e[8];return a}});Object.assign(Xa.prototype,{set:function(a,b){this.normal.copy(a);this.constant=b;return this},setComponents:function(a,b,c,d){this.normal.set(a,b,c);this.constant=d;return this},setFromNormalAndCoplanarPoint:function(a,b){this.normal.copy(a);
this.constant=-b.dot(this.normal);return this},setFromCoplanarPoints:function(){var a=new b,c=new b;return function(e,b,l){b=a.subVectors(l,b).cross(c.subVectors(e,b)).normalize();this.setFromNormalAndCoplanarPoint(b,e);return this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(a){this.normal.copy(a.normal);this.constant=a.constant;return this},normalize:function(){var a=1/this.normal.length();this.normal.multiplyScalar(a);this.constant*=a;return this},negate:function(){this.constant*=
-1;this.normal.negate();return this},distanceToPoint:function(a){return this.normal.dot(a)+this.constant},distanceToSphere:function(a){return this.distanceToPoint(a.center)-a.radius},projectPoint:function(a,b){return this.orthoPoint(a,b).sub(a).negate()},orthoPoint:function(a,c){a=this.distanceToPoint(a);return(c||new b).copy(this.normal).multiplyScalar(a)},intersectLine:function(){var a=new b;return function(e,c){c=c||new b;var l=e.delta(a),d=this.normal.dot(l);if(0===d){if(0===this.distanceToPoint(e.start))return c.copy(e.start)}else if(d=
-(e.start.dot(this.normal)+this.constant)/d,!(0>d||1<d))return c.copy(l).multiplyScalar(d).add(e.start)}}(),intersectsLine:function(a){var e=this.distanceToPoint(a.start);a=this.distanceToPoint(a.end);return 0>e&&0<a||0>a&&0<e},intersectsBox:function(a){return a.intersectsPlane(this)},intersectsSphere:function(a){return a.intersectsPlane(this)},coplanarPoint:function(a){return(a||new b).copy(this.normal).multiplyScalar(-this.constant)},applyMatrix4:function(){var a=new b,c=new h;return function(e,
b){var l=this.coplanarPoint(a).applyMatrix4(e);e=b||c.getNormalMatrix(e);e=this.normal.applyMatrix3(e).normalize();this.constant=-l.dot(e);return this}}(),translate:function(a){this.constant-=a.dot(this.normal);return this},equals:function(a){return a.normal.equals(this.normal)&&a.constant===this.constant}});Object.assign($c.prototype,{set:function(a,b,c,d,f,g){var e=this.planes;e[0].copy(a);e[1].copy(b);e[2].copy(c);e[3].copy(d);e[4].copy(f);e[5].copy(g);return this},clone:function(){return(new this.constructor).copy(this)},
copy:function(a){for(var e=this.planes,b=0;6>b;b++)e[b].copy(a.planes[b]);return this},setFromMatrix:function(a){var e=this.planes,b=a.elements;a=b[0];var c=b[1],d=b[2],f=b[3],g=b[4],h=b[5],k=b[6],n=b[7],m=b[8],p=b[9],q=b[10],t=b[11],w=b[12],u=b[13],x=b[14];b=b[15];e[0].setComponents(f-a,n-g,t-m,b-w).normalize();e[1].setComponents(f+a,n+g,t+m,b+w).normalize();e[2].setComponents(f+c,n+h,t+p,b+u).normalize();e[3].setComponents(f-c,n-h,t-p,b-u).normalize();e[4].setComponents(f-d,n-k,t-q,b-x).normalize();
e[5].setComponents(f+d,n+k,t+q,b+x).normalize();return this},intersectsObject:function(){var a=new N;return function(e){var b=e.geometry;null===b.boundingSphere&&b.computeBoundingSphere();a.copy(b.boundingSphere).applyMatrix4(e.matrixWorld);return this.intersectsSphere(a)}}(),intersectsSprite:function(){var a=new N;return function(e){a.center.set(0,0,0);a.radius=.7071067811865476;a.applyMatrix4(e.matrixWorld);return this.intersectsSphere(a)}}(),intersectsSphere:function(a){var e=this.planes,b=a.center;
a=-a.radius;for(var c=0;6>c;c++)if(e[c].distanceToPoint(b)<a)return!1;return!0},intersectsBox:function(){var a=new b,c=new b;return function(e){for(var b=this.planes,l=0;6>l;l++){var d=b[l];a.x=0<d.normal.x?e.min.x:e.max.x;c.x=0<d.normal.x?e.max.x:e.min.x;a.y=0<d.normal.y?e.min.y:e.max.y;c.y=0<d.normal.y?e.max.y:e.min.y;a.z=0<d.normal.z?e.min.z:e.max.z;c.z=0<d.normal.z?e.max.z:e.min.z;var f=d.distanceToPoint(a);d=d.distanceToPoint(c);if(0>f&&0>d)return!1}return!0}}(),containsPoint:function(a){for(var e=
this.planes,b=0;6>b;b++)if(0>e[b].distanceToPoint(a))return!1;return!0}});hb.RotationOrders="XYZ YZX ZXY XZY YXZ ZYX".split(" ");hb.DefaultOrder="XYZ";Object.defineProperties(hb.prototype,{x:{get:function(){return this._x},set:function(a){this._x=a;this.onChangeCallback()}},y:{get:function(){return this._y},set:function(a){this._y=a;this.onChangeCallback()}},z:{get:function(){return this._z},set:function(a){this._z=a;this.onChangeCallback()}},order:{get:function(){return this._order},set:function(a){this._order=
a;this.onChangeCallback()}}});Object.assign(hb.prototype,{isEuler:!0,set:function(a,b,c,d){this._x=a;this._y=b;this._z=c;this._order=d||this._order;this.onChangeCallback();return this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._order)},copy:function(a){this._x=a._x;this._y=a._y;this._z=a._z;this._order=a._order;this.onChangeCallback();return this},setFromRotationMatrix:function(a,b,c){var e=Fa.clamp,l=a.elements;a=l[0];var d=l[4],f=l[8],g=l[1],r=l[5],h=l[9],k=l[2],
n=l[6];l=l[10];b=b||this._order;"XYZ"===b?(this._y=Math.asin(e(f,-1,1)),.99999>Math.abs(f)?(this._x=Math.atan2(-h,l),this._z=Math.atan2(-d,a)):(this._x=Math.atan2(n,r),this._z=0)):"YXZ"===b?(this._x=Math.asin(-e(h,-1,1)),.99999>Math.abs(h)?(this._y=Math.atan2(f,l),this._z=Math.atan2(g,r)):(this._y=Math.atan2(-k,a),this._z=0)):"ZXY"===b?(this._x=Math.asin(e(n,-1,1)),.99999>Math.abs(n)?(this._y=Math.atan2(-k,l),this._z=Math.atan2(-d,r)):(this._y=0,this._z=Math.atan2(g,a))):"ZYX"===b?(this._y=Math.asin(-e(k,
-1,1)),.99999>Math.abs(k)?(this._x=Math.atan2(n,l),this._z=Math.atan2(g,a)):(this._x=0,this._z=Math.atan2(-d,r))):"YZX"===b?(this._z=Math.asin(e(g,-1,1)),.99999>Math.abs(g)?(this._x=Math.atan2(-h,r),this._y=Math.atan2(-k,a)):(this._x=0,this._y=Math.atan2(f,l))):"XZY"===b?(this._z=Math.asin(-e(d,-1,1)),.99999>Math.abs(d)?(this._x=Math.atan2(n,r),this._y=Math.atan2(f,a)):(this._x=Math.atan2(-h,l),this._y=0)):console.warn("THREE.Euler: .setFromRotationMatrix() given unsupported order: "+b);this._order=
b;if(!1!==c)this.onChangeCallback();return this},setFromQuaternion:function(){var a=new t;return function(e,b,c){a.makeRotationFromQuaternion(e);return this.setFromRotationMatrix(a,b,c)}}(),setFromVector3:function(a,b){return this.set(a.x,a.y,a.z,b||this._order)},reorder:function(){var a=new w;return function(e){a.setFromEuler(this);return this.setFromQuaternion(a,e)}}(),equals:function(a){return a._x===this._x&&a._y===this._y&&a._z===this._z&&a._order===this._order},fromArray:function(a){this._x=
a[0];this._y=a[1];this._z=a[2];void 0!==a[3]&&(this._order=a[3]);this.onChangeCallback();return this},toArray:function(a,b){void 0===a&&(a=[]);void 0===b&&(b=0);a[b]=this._x;a[b+1]=this._y;a[b+2]=this._z;a[b+3]=this._order;return a},toVector3:function(a){return a?a.set(this._x,this._y,this._z):new b(this._x,this._y,this._z)},onChange:function(a){this.onChangeCallback=a;return this},onChangeCallback:function(){}});Object.assign(ac.prototype,{set:function(a){this.mask=1<<a|0},enable:function(a){this.mask=
this.mask|1<<a|0},toggle:function(a){this.mask^=1<<a|0},disable:function(a){this.mask&=~(1<<a|0)},test:function(a){return 0!==(this.mask&a.mask)}});var Jf=0;O.DefaultUp=new b(0,1,0);O.DefaultMatrixAutoUpdate=!0;Object.assign(O.prototype,m.prototype,{isObject3D:!0,onBeforeRender:function(){},onAfterRender:function(){},applyMatrix:function(a){this.matrix.multiplyMatrices(a,this.matrix);this.matrix.decompose(this.position,this.quaternion,this.scale)},applyQuaternion:function(a){this.quaternion.premultiply(a);
return this},setRotationFromAxisAngle:function(a,b){this.quaternion.setFromAxisAngle(a,b)},setRotationFromEuler:function(a){this.quaternion.setFromEuler(a,!0)},setRotationFromMatrix:function(a){this.quaternion.setFromRotationMatrix(a)},setRotationFromQuaternion:function(a){this.quaternion.copy(a)},rotateOnAxis:function(){var a=new w;return function(e,b){a.setFromAxisAngle(e,b);this.quaternion.multiply(a);return this}}(),rotateX:function(){var a=new b(1,0,0);return function(e){return this.rotateOnAxis(a,
e)}}(),rotateY:function(){var a=new b(0,1,0);return function(e){return this.rotateOnAxis(a,e)}}(),rotateZ:function(){var a=new b(0,0,1);return function(e){return this.rotateOnAxis(a,e)}}(),translateOnAxis:function(){var a=new b;return function(e,b){a.copy(e).applyQuaternion(this.quaternion);this.position.add(a.multiplyScalar(b));return this}}(),translateX:function(){var a=new b(1,0,0);return function(e){return this.translateOnAxis(a,e)}}(),translateY:function(){var a=new b(0,1,0);return function(e){return this.translateOnAxis(a,
e)}}(),translateZ:function(){var a=new b(0,0,1);return function(e){return this.translateOnAxis(a,e)}}(),localToWorld:function(a){return a.applyMatrix4(this.matrixWorld)},worldToLocal:function(){var a=new t;return function(e){return e.applyMatrix4(a.getInverse(this.matrixWorld))}}(),lookAt:function(){var a=new t;return function(e){this.isCamera?a.lookAt(this.position,e,this.up):a.lookAt(e,this.position,this.up);this.quaternion.setFromRotationMatrix(a)}}(),add:function(a){if(1<arguments.length){for(var e=
0;e<arguments.length;e++)this.add(arguments[e]);return this}if(a===this)return console.error("THREE.Object3D.add: object can't be added as a child of itself.",a),this;a&&a.isObject3D?(null!==a.parent&&a.parent.remove(a),a.parent=this,a.dispatchEvent({type:"added"}),this.children.push(a)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",a);return this},remove:function(a){if(1<arguments.length){for(var e=0;e<arguments.length;e++)this.remove(arguments[e]);return this}e=this.children.indexOf(a);
-1!==e&&(a.parent=null,a.dispatchEvent({type:"removed"}),this.children.splice(e,1));return this},getObjectById:function(a){return this.getObjectByProperty("id",a)},getObjectByName:function(a){return this.getObjectByProperty("name",a)},getObjectByProperty:function(a,b){if(this[a]===b)return this;for(var e=0,c=this.children.length;e<c;e++){var l=this.children[e].getObjectByProperty(a,b);if(void 0!==l)return l}},getWorldPosition:function(a){a=a||new b;this.updateMatrixWorld(!0);return a.setFromMatrixPosition(this.matrixWorld)},
getWorldQuaternion:function(){var a=new b,c=new b;return function(e){e=e||new w;this.updateMatrixWorld(!0);this.matrixWorld.decompose(a,e,c);return e}}(),getWorldRotation:function(){var a=new w;return function(e){e=e||new hb;this.getWorldQuaternion(a);return e.setFromQuaternion(a,this.rotation.order,!1)}}(),getWorldScale:function(){var a=new b,c=new w;return function(e){e=e||new b;this.updateMatrixWorld(!0);this.matrixWorld.decompose(a,c,e);return e}}(),getWorldDirection:function(){var a=new w;return function(e){e=
e||new b;this.getWorldQuaternion(a);return e.set(0,0,1).applyQuaternion(a)}}(),raycast:function(){},traverse:function(a){a(this);for(var e=this.children,b=0,c=e.length;b<c;b++)e[b].traverse(a)},traverseVisible:function(a){if(!1!==this.visible){a(this);for(var e=this.children,b=0,c=e.length;b<c;b++)e[b].traverseVisible(a)}},traverseAncestors:function(a){var e=this.parent;null!==e&&(a(e),e.traverseAncestors(a))},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale);this.matrixWorldNeedsUpdate=
!0},updateMatrixWorld:function(a){this.matrixAutoUpdate&&this.updateMatrix();if(this.matrixWorldNeedsUpdate||a)null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,a=!0;for(var e=this.children,b=0,c=e.length;b<c;b++)e[b].updateMatrixWorld(a)},toJSON:function(a){function e(e,b){void 0===e[b.uuid]&&(e[b.uuid]=b.toJSON(a));return b.uuid}function b(a){var e=[],b;for(b in a){var c=a[b];delete c.metadata;
e.push(c)}return e}var c=void 0===a||""===a,d={};c&&(a={geometries:{},materials:{},textures:{},images:{}},d.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});var f={};f.uuid=this.uuid;f.type=this.type;""!==this.name&&(f.name=this.name);"{}"!==JSON.stringify(this.userData)&&(f.userData=this.userData);!0===this.castShadow&&(f.castShadow=!0);!0===this.receiveShadow&&(f.receiveShadow=!0);!1===this.visible&&(f.visible=!1);f.matrix=this.matrix.toArray();void 0!==this.geometry&&(f.geometry=
e(a.geometries,this.geometry));if(void 0!==this.material)if(Array.isArray(this.material)){for(var g=[],h=0,k=this.material.length;h<k;h++)g.push(e(a.materials,this.material[h]));f.material=g}else f.material=e(a.materials,this.material);if(0<this.children.length)for(f.children=[],h=0;h<this.children.length;h++)f.children.push(this.children[h].toJSON(a).object);c&&(c=b(a.geometries),g=b(a.materials),h=b(a.textures),k=b(a.images),0<c.length&&(d.geometries=c),0<g.length&&(d.materials=g),0<h.length&&(d.textures=
h),0<k.length&&(d.images=k));d.object=f;return d},clone:function(a){return(new this.constructor).copy(this,a)},copy:function(a,b){void 0===b&&(b=!0);this.name=a.name;this.up.copy(a.up);this.position.copy(a.position);this.quaternion.copy(a.quaternion);this.scale.copy(a.scale);this.matrix.copy(a.matrix);this.matrixWorld.copy(a.matrixWorld);this.matrixAutoUpdate=a.matrixAutoUpdate;this.matrixWorldNeedsUpdate=a.matrixWorldNeedsUpdate;this.layers.mask=a.layers.mask;this.visible=a.visible;this.castShadow=
a.castShadow;this.receiveShadow=a.receiveShadow;this.frustumCulled=a.frustumCulled;this.renderOrder=a.renderOrder;this.userData=JSON.parse(JSON.stringify(a.userData));if(!0===b)for(b=0;b<a.children.length;b++)this.add(a.children[b].clone());return this}});yb.prototype=Object.assign(Object.create(O.prototype),{constructor:yb,isCamera:!0,copy:function(a,b){O.prototype.copy.call(this,a,b);this.matrixWorldInverse.copy(a.matrixWorldInverse);this.projectionMatrix.copy(a.projectionMatrix);return this},getWorldDirection:function(){var a=
new w;return function(e){e=e||new b;this.getWorldQuaternion(a);return e.set(0,0,-1).applyQuaternion(a)}}(),updateMatrixWorld:function(a){O.prototype.updateMatrixWorld.call(this,a);this.matrixWorldInverse.getInverse(this.matrixWorld)},clone:function(){return(new this.constructor).copy(this)}});S.prototype=Object.assign(Object.create(yb.prototype),{constructor:S,isOrthographicCamera:!0,copy:function(a,b){yb.prototype.copy.call(this,a,b);this.left=a.left;this.right=a.right;this.top=a.top;this.bottom=
a.bottom;this.near=a.near;this.far=a.far;this.zoom=a.zoom;this.view=null===a.view?null:Object.assign({},a.view);return this},setViewOffset:function(a,b,c,d,f,g){this.view={fullWidth:a,fullHeight:b,offsetX:c,offsetY:d,width:f,height:g};this.updateProjectionMatrix()},clearViewOffset:function(){this.view=null;this.updateProjectionMatrix()},updateProjectionMatrix:function(){var a=(this.right-this.left)/(2*this.zoom),b=(this.top-this.bottom)/(2*this.zoom),c=(this.right+this.left)/2,d=(this.top+this.bottom)/
2,f=c-a;c+=a;a=d+b;b=d-b;if(null!==this.view){c=this.zoom/(this.view.width/this.view.fullWidth);b=this.zoom/(this.view.height/this.view.fullHeight);var g=(this.right-this.left)/this.view.width;d=(this.top-this.bottom)/this.view.height;f+=this.view.offsetX/c*g;c=f+this.view.width/c*g;a-=this.view.offsetY/b*d;b=a-this.view.height/b*d}this.projectionMatrix.makeOrthographic(f,c,a,b,this.near,this.far)},toJSON:function(a){a=O.prototype.toJSON.call(this,a);a.object.zoom=this.zoom;a.object.left=this.left;
a.object.right=this.right;a.object.top=this.top;a.object.bottom=this.bottom;a.object.near=this.near;a.object.far=this.far;null!==this.view&&(a.object.view=Object.assign({},this.view));return a}});Qa.prototype=Object.assign(Object.create(yb.prototype),{constructor:Qa,isPerspectiveCamera:!0,copy:function(a,b){yb.prototype.copy.call(this,a,b);this.fov=a.fov;this.zoom=a.zoom;this.near=a.near;this.far=a.far;this.focus=a.focus;this.aspect=a.aspect;this.view=null===a.view?null:Object.assign({},a.view);this.filmGauge=
a.filmGauge;this.filmOffset=a.filmOffset;return this},setFocalLength:function(a){a=.5*this.getFilmHeight()/a;this.fov=2*Fa.RAD2DEG*Math.atan(a);this.updateProjectionMatrix()},getFocalLength:function(){var a=Math.tan(.5*Fa.DEG2RAD*this.fov);return.5*this.getFilmHeight()/a},getEffectiveFOV:function(){return 2*Fa.RAD2DEG*Math.atan(Math.tan(.5*Fa.DEG2RAD*this.fov)/this.zoom)},getFilmWidth:function(){return this.filmGauge*Math.min(this.aspect,1)},getFilmHeight:function(){return this.filmGauge/Math.max(this.aspect,
1)},setViewOffset:function(a,b,c,d,f,g){this.aspect=a/b;this.view={fullWidth:a,fullHeight:b,offsetX:c,offsetY:d,width:f,height:g};this.updateProjectionMatrix()},clearViewOffset:function(){this.view=null;this.updateProjectionMatrix()},updateProjectionMatrix:function(){var a=this.near,b=a*Math.tan(.5*Fa.DEG2RAD*this.fov)/this.zoom,c=2*b,d=this.aspect*c,f=-.5*d,g=this.view;if(null!==g){var h=g.fullWidth,k=g.fullHeight;f+=g.offsetX*d/h;b-=g.offsetY*c/k;d*=g.width/h;c*=g.height/k}g=this.filmOffset;0!==
g&&(f+=a*g/this.getFilmWidth());this.projectionMatrix.makePerspective(f,f+d,b,b-c,a,this.far)},toJSON:function(a){a=O.prototype.toJSON.call(this,a);a.object.fov=this.fov;a.object.zoom=this.zoom;a.object.near=this.near;a.object.far=this.far;a.object.focus=this.focus;a.object.aspect=this.aspect;null!==this.view&&(a.object.view=Object.assign({},this.view));a.object.filmGauge=this.filmGauge;a.object.filmOffset=this.filmOffset;return a}});Object.assign(Za.prototype,{clone:function(){return(new this.constructor).copy(this)},
copy:function(a){this.a=a.a;this.b=a.b;this.c=a.c;this.normal.copy(a.normal);this.color.copy(a.color);this.materialIndex=a.materialIndex;for(var e=0,b=a.vertexNormals.length;e<b;e++)this.vertexNormals[e]=a.vertexNormals[e].clone();e=0;for(b=a.vertexColors.length;e<b;e++)this.vertexColors[e]=a.vertexColors[e].clone();return this}});var Se=0;Object.assign(ia.prototype,m.prototype,{isGeometry:!0,applyMatrix:function(a){for(var e=(new h).getNormalMatrix(a),b=0,c=this.vertices.length;b<c;b++)this.vertices[b].applyMatrix4(a);
b=0;for(c=this.faces.length;b<c;b++){a=this.faces[b];a.normal.applyMatrix3(e).normalize();for(var d=0,f=a.vertexNormals.length;d<f;d++)a.vertexNormals[d].applyMatrix3(e).normalize()}null!==this.boundingBox&&this.computeBoundingBox();null!==this.boundingSphere&&this.computeBoundingSphere();this.normalsNeedUpdate=this.verticesNeedUpdate=!0;return this},rotateX:function(){var a=new t;return function(e){a.makeRotationX(e);this.applyMatrix(a);return this}}(),rotateY:function(){var a=new t;return function(e){a.makeRotationY(e);
this.applyMatrix(a);return this}}(),rotateZ:function(){var a=new t;return function(e){a.makeRotationZ(e);this.applyMatrix(a);return this}}(),translate:function(){var a=new t;return function(e,b,c){a.makeTranslation(e,b,c);this.applyMatrix(a);return this}}(),scale:function(){var a=new t;return function(e,b,c){a.makeScale(e,b,c);this.applyMatrix(a);return this}}(),lookAt:function(){var a=new O;return function(e){a.lookAt(e);a.updateMatrix();this.applyMatrix(a.matrix)}}(),fromBufferGeometry:function(a){function e(a,
e,b,l){var d=void 0!==k?[q[a].clone(),q[e].clone(),q[b].clone()]:[],f=void 0!==n?[c.colors[a].clone(),c.colors[e].clone(),c.colors[b].clone()]:[];l=new Za(a,e,b,d,f,l);c.faces.push(l);void 0!==m&&c.faceVertexUvs[0].push([t[a].clone(),t[e].clone(),t[b].clone()]);void 0!==p&&c.faceVertexUvs[1].push([C[a].clone(),C[e].clone(),C[b].clone()])}var c=this,d=null!==a.index?a.index.array:void 0,g=a.attributes,h=g.position.array,k=void 0!==g.normal?g.normal.array:void 0,n=void 0!==g.color?g.color.array:void 0,
m=void 0!==g.uv?g.uv.array:void 0,p=void 0!==g.uv2?g.uv2.array:void 0;void 0!==p&&(this.faceVertexUvs[1]=[]);for(var q=[],t=[],C=[],w=g=0;g<h.length;g+=3,w+=2)c.vertices.push(new b(h[g],h[g+1],h[g+2])),void 0!==k&&q.push(new b(k[g],k[g+1],k[g+2])),void 0!==n&&c.colors.push(new Q(n[g],n[g+1],n[g+2])),void 0!==m&&t.push(new f(m[w],m[w+1])),void 0!==p&&C.push(new f(p[w],p[w+1]));var u=a.groups;if(0<u.length)for(g=0;g<u.length;g++){h=u[g];var x=h.start,A=h.count;w=x;for(x+=A;w<x;w+=3)void 0!==d?e(d[w],
d[w+1],d[w+2],h.materialIndex):e(w,w+1,w+2,h.materialIndex)}else if(void 0!==d)for(g=0;g<d.length;g+=3)e(d[g],d[g+1],d[g+2]);else for(g=0;g<h.length/3;g+=3)e(g,g+1,g+2);this.computeFaceNormals();null!==a.boundingBox&&(this.boundingBox=a.boundingBox.clone());null!==a.boundingSphere&&(this.boundingSphere=a.boundingSphere.clone());return this},center:function(){this.computeBoundingBox();var a=this.boundingBox.getCenter().negate();this.translate(a.x,a.y,a.z);return a},normalize:function(){this.computeBoundingSphere();
var a=this.boundingSphere.center,b=this.boundingSphere.radius;b=0===b?1:1/b;var c=new t;c.set(b,0,0,-b*a.x,0,b,0,-b*a.y,0,0,b,-b*a.z,0,0,0,1);this.applyMatrix(c);return this},computeFaceNormals:function(){for(var a=new b,c=new b,d=0,f=this.faces.length;d<f;d++){var g=this.faces[d],h=this.vertices[g.a],k=this.vertices[g.b];a.subVectors(this.vertices[g.c],k);c.subVectors(h,k);a.cross(c);a.normalize();g.normal.copy(a)}},computeVertexNormals:function(a){void 0===a&&(a=!0);var e;var c=Array(this.vertices.length);
var d=0;for(e=this.vertices.length;d<e;d++)c[d]=new b;if(a){var f=new b,g=new b;a=0;for(d=this.faces.length;a<d;a++){e=this.faces[a];var h=this.vertices[e.a];var k=this.vertices[e.b];var n=this.vertices[e.c];f.subVectors(n,k);g.subVectors(h,k);f.cross(g);c[e.a].add(f);c[e.b].add(f);c[e.c].add(f)}}else for(this.computeFaceNormals(),a=0,d=this.faces.length;a<d;a++)e=this.faces[a],c[e.a].add(e.normal),c[e.b].add(e.normal),c[e.c].add(e.normal);d=0;for(e=this.vertices.length;d<e;d++)c[d].normalize();a=
0;for(d=this.faces.length;a<d;a++)e=this.faces[a],h=e.vertexNormals,3===h.length?(h[0].copy(c[e.a]),h[1].copy(c[e.b]),h[2].copy(c[e.c])):(h[0]=c[e.a].clone(),h[1]=c[e.b].clone(),h[2]=c[e.c].clone());0<this.faces.length&&(this.normalsNeedUpdate=!0)},computeFlatVertexNormals:function(){var a;this.computeFaceNormals();var b=0;for(a=this.faces.length;b<a;b++){var c=this.faces[b];var d=c.vertexNormals;3===d.length?(d[0].copy(c.normal),d[1].copy(c.normal),d[2].copy(c.normal)):(d[0]=c.normal.clone(),d[1]=
c.normal.clone(),d[2]=c.normal.clone())}0<this.faces.length&&(this.normalsNeedUpdate=!0)},computeMorphNormals:function(){var a,c;var d=0;for(c=this.faces.length;d<c;d++){var f=this.faces[d];f.__originalFaceNormal?f.__originalFaceNormal.copy(f.normal):f.__originalFaceNormal=f.normal.clone();f.__originalVertexNormals||(f.__originalVertexNormals=[]);var g=0;for(a=f.vertexNormals.length;g<a;g++)f.__originalVertexNormals[g]?f.__originalVertexNormals[g].copy(f.vertexNormals[g]):f.__originalVertexNormals[g]=
f.vertexNormals[g].clone()}var h=new ia;h.faces=this.faces;g=0;for(a=this.morphTargets.length;g<a;g++){if(!this.morphNormals[g]){this.morphNormals[g]={};this.morphNormals[g].faceNormals=[];this.morphNormals[g].vertexNormals=[];f=this.morphNormals[g].faceNormals;var k=this.morphNormals[g].vertexNormals;d=0;for(c=this.faces.length;d<c;d++){var n=new b;var m={a:new b,b:new b,c:new b};f.push(n);k.push(m)}}k=this.morphNormals[g];h.vertices=this.morphTargets[g].vertices;h.computeFaceNormals();h.computeVertexNormals();
d=0;for(c=this.faces.length;d<c;d++)f=this.faces[d],n=k.faceNormals[d],m=k.vertexNormals[d],n.copy(f.normal),m.a.copy(f.vertexNormals[0]),m.b.copy(f.vertexNormals[1]),m.c.copy(f.vertexNormals[2])}d=0;for(c=this.faces.length;d<c;d++)f=this.faces[d],f.normal=f.__originalFaceNormal,f.vertexNormals=f.__originalVertexNormals},computeLineDistances:function(){for(var a=0,b=this.vertices,c=0,d=b.length;c<d;c++)0<c&&(a+=b[c].distanceTo(b[c-1])),this.lineDistances[c]=a},computeBoundingBox:function(){null===
this.boundingBox&&(this.boundingBox=new db);this.boundingBox.setFromPoints(this.vertices)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new N);this.boundingSphere.setFromPoints(this.vertices)},merge:function(a,b,c){if(a&&a.isGeometry){var e,l=this.vertices.length,d=this.vertices,f=a.vertices,g=this.faces,r=a.faces,k=this.faceVertexUvs[0],n=a.faceVertexUvs[0],m=this.colors,p=a.colors;void 0===c&&(c=0);void 0!==b&&(e=(new h).getNormalMatrix(b));a=0;for(var q=f.length;a<
q;a++){var t=f[a].clone();void 0!==b&&t.applyMatrix4(b);d.push(t)}a=0;for(q=p.length;a<q;a++)m.push(p[a].clone());a=0;for(q=r.length;a<q;a++){f=r[a];var w=f.vertexNormals;p=f.vertexColors;m=new Za(f.a+l,f.b+l,f.c+l);m.normal.copy(f.normal);void 0!==e&&m.normal.applyMatrix3(e).normalize();b=0;for(d=w.length;b<d;b++)t=w[b].clone(),void 0!==e&&t.applyMatrix3(e).normalize(),m.vertexNormals.push(t);m.color.copy(f.color);b=0;for(d=p.length;b<d;b++)t=p[b],m.vertexColors.push(t.clone());m.materialIndex=f.materialIndex+
c;g.push(m)}a=0;for(q=n.length;a<q;a++)if(c=n[a],e=[],void 0!==c){b=0;for(d=c.length;b<d;b++)e.push(c[b].clone());k.push(e)}}else console.error("THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.",a)},mergeMesh:function(a){a&&a.isMesh?(a.matrixAutoUpdate&&a.updateMatrix(),this.merge(a.geometry,a.matrix)):console.error("THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.",a)},mergeVertices:function(){var a={},b=[],c=[],d=Math.pow(10,4),f;var g=0;for(f=this.vertices.length;g<
f;g++){var h=this.vertices[g];h=Math.round(h.x*d)+"_"+Math.round(h.y*d)+"_"+Math.round(h.z*d);void 0===a[h]?(a[h]=g,b.push(this.vertices[g]),c[g]=b.length-1):c[g]=c[a[h]]}a=[];g=0;for(f=this.faces.length;g<f;g++)for(d=this.faces[g],d.a=c[d.a],d.b=c[d.b],d.c=c[d.c],d=[d.a,d.b,d.c],h=0;3>h;h++)if(d[h]===d[(h+1)%3]){a.push(g);break}for(g=a.length-1;0<=g;g--)for(d=a[g],this.faces.splice(d,1),c=0,f=this.faceVertexUvs.length;c<f;c++)this.faceVertexUvs[c].splice(d,1);g=this.vertices.length-b.length;this.vertices=
b;return g},sortFacesByMaterialIndex:function(){for(var a=this.faces,b=a.length,c=0;c<b;c++)a[c]._id=c;a.sort(function(a,b){return a.materialIndex-b.materialIndex});var d=this.faceVertexUvs[0],f=this.faceVertexUvs[1],g,h;d&&d.length===b&&(g=[]);f&&f.length===b&&(h=[]);for(c=0;c<b;c++){var k=a[c]._id;g&&g.push(d[k]);h&&h.push(f[k])}g&&(this.faceVertexUvs[0]=g);h&&(this.faceVertexUvs[1]=h)},toJSON:function(){function a(a,b,e){return e?a|1<<b:a&~(1<<b)}function b(a){var b=a.x.toString()+a.y.toString()+
a.z.toString();if(void 0!==m[b])return m[b];m[b]=n.length/3;n.push(a.x,a.y,a.z);return m[b]}function c(a){var b=a.r.toString()+a.g.toString()+a.b.toString();if(void 0!==q[b])return q[b];q[b]=p.length;p.push(a.getHex());return q[b]}function d(a){var b=a.x.toString()+a.y.toString();if(void 0!==w[b])return w[b];w[b]=t.length/2;t.push(a.x,a.y);return w[b]}var f={metadata:{version:4.5,type:"Geometry",generator:"Geometry.toJSON"}};f.uuid=this.uuid;f.type=this.type;""!==this.name&&(f.name=this.name);if(void 0!==
this.parameters){var g=this.parameters,h;for(h in g)void 0!==g[h]&&(f[h]=g[h]);return f}g=[];for(h=0;h<this.vertices.length;h++){var k=this.vertices[h];g.push(k.x,k.y,k.z)}k=[];var n=[],m={},p=[],q={},t=[],w={};for(h=0;h<this.faces.length;h++){var u=this.faces[h],x=void 0!==this.faceVertexUvs[0][h],A=0<u.normal.length(),K=0<u.vertexNormals.length,z=1!==u.color.r||1!==u.color.g||1!==u.color.b,B=0<u.vertexColors.length,E=0;E=a(E,0,0);E=a(E,1,!0);E=a(E,2,!1);E=a(E,3,x);E=a(E,4,A);E=a(E,5,K);E=a(E,6,
z);E=a(E,7,B);k.push(E);k.push(u.a,u.b,u.c);k.push(u.materialIndex);x&&(x=this.faceVertexUvs[0][h],k.push(d(x[0]),d(x[1]),d(x[2])));A&&k.push(b(u.normal));K&&(A=u.vertexNormals,k.push(b(A[0]),b(A[1]),b(A[2])));z&&k.push(c(u.color));B&&(u=u.vertexColors,k.push(c(u[0]),c(u[1]),c(u[2])))}f.data={};f.data.vertices=g;f.data.normals=n;0<p.length&&(f.data.colors=p);0<t.length&&(f.data.uvs=[t]);f.data.faces=k;return f},clone:function(){return(new ia).copy(this)},copy:function(a){var b,e,c;this.vertices=[];
this.colors=[];this.faces=[];this.faceVertexUvs=[[]];this.morphTargets=[];this.morphNormals=[];this.skinWeights=[];this.skinIndices=[];this.lineDistances=[];this.boundingSphere=this.boundingBox=null;this.name=a.name;var d=a.vertices;var f=0;for(b=d.length;f<b;f++)this.vertices.push(d[f].clone());d=a.colors;f=0;for(b=d.length;f<b;f++)this.colors.push(d[f].clone());d=a.faces;f=0;for(b=d.length;f<b;f++)this.faces.push(d[f].clone());f=0;for(b=a.faceVertexUvs.length;f<b;f++){var g=a.faceVertexUvs[f];void 0===
this.faceVertexUvs[f]&&(this.faceVertexUvs[f]=[]);d=0;for(e=g.length;d<e;d++){var h=g[d],k=[];var n=0;for(c=h.length;n<c;n++)k.push(h[n].clone());this.faceVertexUvs[f].push(k)}}n=a.morphTargets;f=0;for(b=n.length;f<b;f++){c={};c.name=n[f].name;if(void 0!==n[f].vertices)for(c.vertices=[],d=0,e=n[f].vertices.length;d<e;d++)c.vertices.push(n[f].vertices[d].clone());if(void 0!==n[f].normals)for(c.normals=[],d=0,e=n[f].normals.length;d<e;d++)c.normals.push(n[f].normals[d].clone());this.morphTargets.push(c)}n=
a.morphNormals;f=0;for(b=n.length;f<b;f++){c={};if(void 0!==n[f].vertexNormals)for(c.vertexNormals=[],d=0,e=n[f].vertexNormals.length;d<e;d++)g=n[f].vertexNormals[d],h={},h.a=g.a.clone(),h.b=g.b.clone(),h.c=g.c.clone(),c.vertexNormals.push(h);if(void 0!==n[f].faceNormals)for(c.faceNormals=[],d=0,e=n[f].faceNormals.length;d<e;d++)c.faceNormals.push(n[f].faceNormals[d].clone());this.morphNormals.push(c)}d=a.skinWeights;f=0;for(b=d.length;f<b;f++)this.skinWeights.push(d[f].clone());d=a.skinIndices;f=
0;for(b=d.length;f<b;f++)this.skinIndices.push(d[f].clone());d=a.lineDistances;f=0;for(b=d.length;f<b;f++)this.lineDistances.push(d[f]);f=a.boundingBox;null!==f&&(this.boundingBox=f.clone());f=a.boundingSphere;null!==f&&(this.boundingSphere=f.clone());this.elementsNeedUpdate=a.elementsNeedUpdate;this.verticesNeedUpdate=a.verticesNeedUpdate;this.uvsNeedUpdate=a.uvsNeedUpdate;this.normalsNeedUpdate=a.normalsNeedUpdate;this.colorsNeedUpdate=a.colorsNeedUpdate;this.lineDistancesNeedUpdate=a.lineDistancesNeedUpdate;
this.groupsNeedUpdate=a.groupsNeedUpdate;return this},dispose:function(){this.dispatchEvent({type:"dispose"})}});Object.defineProperty(sa.prototype,"needsUpdate",{set:function(a){!0===a&&this.version++}});Object.assign(sa.prototype,{isBufferAttribute:!0,setArray:function(a){if(Array.isArray(a))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.count=void 0!==a?a.length/this.itemSize:0;this.array=a},setDynamic:function(a){this.dynamic=a;return this},copy:function(a){this.array=
new a.array.constructor(a.array);this.itemSize=a.itemSize;this.count=a.count;this.normalized=a.normalized;this.dynamic=a.dynamic;return this},copyAt:function(a,b,c){a*=this.itemSize;c*=b.itemSize;for(var e=0,d=this.itemSize;e<d;e++)this.array[a+e]=b.array[c+e];return this},copyArray:function(a){this.array.set(a);return this},copyColorsArray:function(a){for(var b=this.array,e=0,c=0,d=a.length;c<d;c++){var f=a[c];void 0===f&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",
c),f=new Q);b[e++]=f.r;b[e++]=f.g;b[e++]=f.b}return this},copyIndicesArray:function(a){for(var b=this.array,e=0,c=0,d=a.length;c<d;c++){var f=a[c];b[e++]=f.a;b[e++]=f.b;b[e++]=f.c}return this},copyVector2sArray:function(a){for(var b=this.array,e=0,c=0,d=a.length;c<d;c++){var g=a[c];void 0===g&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",c),g=new f);b[e++]=g.x;b[e++]=g.y}return this},copyVector3sArray:function(a){for(var e=this.array,c=0,d=0,f=a.length;d<f;d++){var g=
a[d];void 0===g&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",d),g=new b);e[c++]=g.x;e[c++]=g.y;e[c++]=g.z}return this},copyVector4sArray:function(a){for(var b=this.array,e=0,c=0,d=a.length;c<d;c++){var f=a[c];void 0===f&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",c),f=new n);b[e++]=f.x;b[e++]=f.y;b[e++]=f.z;b[e++]=f.w}return this},set:function(a,b){void 0===b&&(b=0);this.array.set(a,b);return this},getX:function(a){return this.array[a*
this.itemSize]},setX:function(a,b){this.array[a*this.itemSize]=b;return this},getY:function(a){return this.array[a*this.itemSize+1]},setY:function(a,b){this.array[a*this.itemSize+1]=b;return this},getZ:function(a){return this.array[a*this.itemSize+2]},setZ:function(a,b){this.array[a*this.itemSize+2]=b;return this},getW:function(a){return this.array[a*this.itemSize+3]},setW:function(a,b){this.array[a*this.itemSize+3]=b;return this},setXY:function(a,b,c){a*=this.itemSize;this.array[a+0]=b;this.array[a+
1]=c;return this},setXYZ:function(a,b,c,d){a*=this.itemSize;this.array[a+0]=b;this.array[a+1]=c;this.array[a+2]=d;return this},setXYZW:function(a,b,c,d,f){a*=this.itemSize;this.array[a+0]=b;this.array[a+1]=c;this.array[a+2]=d;this.array[a+3]=f;return this},onUpload:function(a){this.onUploadCallback=a;return this},clone:function(){return(new this.constructor(this.array,this.itemSize)).copy(this)}});ib.prototype=Object.create(sa.prototype);ib.prototype.constructor=ib;yc.prototype=Object.create(sa.prototype);
yc.prototype.constructor=yc;qb.prototype=Object.create(sa.prototype);qb.prototype.constructor=qb;jc.prototype=Object.create(sa.prototype);jc.prototype.constructor=jc;Jb.prototype=Object.create(sa.prototype);Jb.prototype.constructor=Jb;Lc.prototype=Object.create(sa.prototype);Lc.prototype.constructor=Lc;zb.prototype=Object.create(sa.prototype);zb.prototype.constructor=zb;W.prototype=Object.create(sa.prototype);W.prototype.constructor=W;Kb.prototype=Object.create(sa.prototype);Kb.prototype.constructor=
Kb;Object.assign(za.prototype,{computeGroups:function(a){var b=[],e=void 0;a=a.faces;for(var c=0;c<a.length;c++){var d=a[c];if(d.materialIndex!==e){e=d.materialIndex;void 0!==f&&(f.count=3*c-f.start,b.push(f));var f={start:3*c,materialIndex:e}}}void 0!==f&&(f.count=3*c-f.start,b.push(f));this.groups=b},fromGeometry:function(a){var b=a.faces,e=a.vertices,c=a.faceVertexUvs,d=c[0]&&0<c[0].length,g=c[1]&&0<c[1].length,h=a.morphTargets,k=h.length;if(0<k){var n=[];for(var m=0;m<k;m++)n[m]=[];this.morphTargets.position=
n}var p=a.morphNormals,q=p.length;if(0<q){var t=[];for(m=0;m<q;m++)t[m]=[];this.morphTargets.normal=t}var w=a.skinIndices,u=a.skinWeights,x=w.length===e.length,A=u.length===e.length;for(m=0;m<b.length;m++){var K=b[m];this.vertices.push(e[K.a],e[K.b],e[K.c]);var z=K.vertexNormals;3===z.length?this.normals.push(z[0],z[1],z[2]):(z=K.normal,this.normals.push(z,z,z));z=K.vertexColors;3===z.length?this.colors.push(z[0],z[1],z[2]):(z=K.color,this.colors.push(z,z,z));!0===d&&(z=c[0][m],void 0!==z?this.uvs.push(z[0],
z[1],z[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ",m),this.uvs.push(new f,new f,new f)));!0===g&&(z=c[1][m],void 0!==z?this.uvs2.push(z[0],z[1],z[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ",m),this.uvs2.push(new f,new f,new f)));for(z=0;z<k;z++){var E=h[z].vertices;n[z].push(E[K.a],E[K.b],E[K.c])}for(z=0;z<q;z++)E=p[z].vertexNormals[m],t[z].push(E.a,E.b,E.c);x&&this.skinIndices.push(w[K.a],w[K.b],w[K.c]);A&&this.skinWeights.push(u[K.a],
u[K.b],u[K.c])}this.computeGroups(a);this.verticesNeedUpdate=a.verticesNeedUpdate;this.normalsNeedUpdate=a.normalsNeedUpdate;this.colorsNeedUpdate=a.colorsNeedUpdate;this.uvsNeedUpdate=a.uvsNeedUpdate;this.groupsNeedUpdate=a.groupsNeedUpdate;return this}});ca.MaxIndex=65535;Object.assign(ca.prototype,m.prototype,{isBufferGeometry:!0,getIndex:function(){return this.index},setIndex:function(a){Array.isArray(a)?this.index=new (65535<zc(a)?zb:Jb)(a,1):this.index=a},addAttribute:function(a,b,c){if(b&&
b.isBufferAttribute||b&&b.isInterleavedBufferAttribute)if("index"===a)console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(b);else return this.attributes[a]=b,this;else console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.addAttribute(a,new sa(b,c))},getAttribute:function(a){return this.attributes[a]},removeAttribute:function(a){delete this.attributes[a];return this},addGroup:function(a,b,c){this.groups.push({start:a,
count:b,materialIndex:void 0!==c?c:0})},clearGroups:function(){this.groups=[]},setDrawRange:function(a,b){this.drawRange.start=a;this.drawRange.count=b},applyMatrix:function(a){var b=this.attributes.position;void 0!==b&&(a.applyToBufferAttribute(b),b.needsUpdate=!0);b=this.attributes.normal;void 0!==b&&((new h).getNormalMatrix(a).applyToBufferAttribute(b),b.needsUpdate=!0);null!==this.boundingBox&&this.computeBoundingBox();null!==this.boundingSphere&&this.computeBoundingSphere();return this},rotateX:function(){var a=
new t;return function(b){a.makeRotationX(b);this.applyMatrix(a);return this}}(),rotateY:function(){var a=new t;return function(b){a.makeRotationY(b);this.applyMatrix(a);return this}}(),rotateZ:function(){var a=new t;return function(b){a.makeRotationZ(b);this.applyMatrix(a);return this}}(),translate:function(){var a=new t;return function(b,e,c){a.makeTranslation(b,e,c);this.applyMatrix(a);return this}}(),scale:function(){var a=new t;return function(b,e,c){a.makeScale(b,e,c);this.applyMatrix(a);return this}}(),
lookAt:function(){var a=new O;return function(b){a.lookAt(b);a.updateMatrix();this.applyMatrix(a.matrix)}}(),center:function(){this.computeBoundingBox();var a=this.boundingBox.getCenter().negate();this.translate(a.x,a.y,a.z);return a},setFromObject:function(a){var b=a.geometry;if(a.isPoints||a.isLine){a=new W(3*b.vertices.length,3);var e=new W(3*b.colors.length,3);this.addAttribute("position",a.copyVector3sArray(b.vertices));this.addAttribute("color",e.copyColorsArray(b.colors));b.lineDistances&&
b.lineDistances.length===b.vertices.length&&(a=new W(b.lineDistances.length,1),this.addAttribute("lineDistance",a.copyArray(b.lineDistances)));null!==b.boundingSphere&&(this.boundingSphere=b.boundingSphere.clone());null!==b.boundingBox&&(this.boundingBox=b.boundingBox.clone())}else a.isMesh&&b&&b.isGeometry&&this.fromGeometry(b);return this},updateFromObject:function(a){var b=a.geometry;if(a.isMesh){var e=b.__directGeometry;!0===b.elementsNeedUpdate&&(e=void 0,b.elementsNeedUpdate=!1);if(void 0===
e)return this.fromGeometry(b);e.verticesNeedUpdate=b.verticesNeedUpdate;e.normalsNeedUpdate=b.normalsNeedUpdate;e.colorsNeedUpdate=b.colorsNeedUpdate;e.uvsNeedUpdate=b.uvsNeedUpdate;e.groupsNeedUpdate=b.groupsNeedUpdate;b.verticesNeedUpdate=!1;b.normalsNeedUpdate=!1;b.colorsNeedUpdate=!1;b.uvsNeedUpdate=!1;b.groupsNeedUpdate=!1;b=e}!0===b.verticesNeedUpdate&&(e=this.attributes.position,void 0!==e&&(e.copyVector3sArray(b.vertices),e.needsUpdate=!0),b.verticesNeedUpdate=!1);!0===b.normalsNeedUpdate&&
(e=this.attributes.normal,void 0!==e&&(e.copyVector3sArray(b.normals),e.needsUpdate=!0),b.normalsNeedUpdate=!1);!0===b.colorsNeedUpdate&&(e=this.attributes.color,void 0!==e&&(e.copyColorsArray(b.colors),e.needsUpdate=!0),b.colorsNeedUpdate=!1);b.uvsNeedUpdate&&(e=this.attributes.uv,void 0!==e&&(e.copyVector2sArray(b.uvs),e.needsUpdate=!0),b.uvsNeedUpdate=!1);b.lineDistancesNeedUpdate&&(e=this.attributes.lineDistance,void 0!==e&&(e.copyArray(b.lineDistances),e.needsUpdate=!0),b.lineDistancesNeedUpdate=
!1);b.groupsNeedUpdate&&(b.computeGroups(a.geometry),this.groups=b.groups,b.groupsNeedUpdate=!1);return this},fromGeometry:function(a){a.__directGeometry=(new za).fromGeometry(a);return this.fromDirectGeometry(a.__directGeometry)},fromDirectGeometry:function(a){var b=new Float32Array(3*a.vertices.length);this.addAttribute("position",(new sa(b,3)).copyVector3sArray(a.vertices));0<a.normals.length&&(b=new Float32Array(3*a.normals.length),this.addAttribute("normal",(new sa(b,3)).copyVector3sArray(a.normals)));
0<a.colors.length&&(b=new Float32Array(3*a.colors.length),this.addAttribute("color",(new sa(b,3)).copyColorsArray(a.colors)));0<a.uvs.length&&(b=new Float32Array(2*a.uvs.length),this.addAttribute("uv",(new sa(b,2)).copyVector2sArray(a.uvs)));0<a.uvs2.length&&(b=new Float32Array(2*a.uvs2.length),this.addAttribute("uv2",(new sa(b,2)).copyVector2sArray(a.uvs2)));0<a.indices.length&&(b=new (65535<zc(a.indices)?Uint32Array:Uint16Array)(3*a.indices.length),this.setIndex((new sa(b,1)).copyIndicesArray(a.indices)));
this.groups=a.groups;for(var e in a.morphTargets){b=[];for(var c=a.morphTargets[e],d=0,f=c.length;d<f;d++){var g=c[d],h=new W(3*g.length,3);b.push(h.copyVector3sArray(g))}this.morphAttributes[e]=b}0<a.skinIndices.length&&(e=new W(4*a.skinIndices.length,4),this.addAttribute("skinIndex",e.copyVector4sArray(a.skinIndices)));0<a.skinWeights.length&&(e=new W(4*a.skinWeights.length,4),this.addAttribute("skinWeight",e.copyVector4sArray(a.skinWeights)));null!==a.boundingSphere&&(this.boundingSphere=a.boundingSphere.clone());
null!==a.boundingBox&&(this.boundingBox=a.boundingBox.clone());return this},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new db);var a=this.attributes.position;void 0!==a?this.boundingBox.setFromBufferAttribute(a):this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox: Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',
this)},computeBoundingSphere:function(){var a=new db,c=new b;return function(){null===this.boundingSphere&&(this.boundingSphere=new N);var b=this.attributes.position;if(b){var e=this.boundingSphere.center;a.setFromBufferAttribute(b);a.getCenter(e);for(var d=0,l=0,f=b.count;l<f;l++)c.x=b.getX(l),c.y=b.getY(l),c.z=b.getZ(l),d=Math.max(d,e.distanceToSquared(c));this.boundingSphere.radius=Math.sqrt(d);isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',
this)}}}(),computeFaceNormals:function(){},computeVertexNormals:function(){var a=this.index,c=this.attributes,d=this.groups;if(c.position){var f=c.position.array;if(void 0===c.normal)this.addAttribute("normal",new sa(new Float32Array(f.length),3));else for(var g=c.normal.array,h=0,k=g.length;h<k;h++)g[h]=0;g=c.normal.array;var n=new b,m=new b,p=new b,q=new b,t=new b;if(a){a=a.array;0===d.length&&this.addGroup(0,a.length);for(var C=0,w=d.length;C<w;++C){h=d[C];k=h.start;var u=h.count;h=k;for(k+=u;h<
k;h+=3){u=3*a[h+0];var x=3*a[h+1];var A=3*a[h+2];n.fromArray(f,u);m.fromArray(f,x);p.fromArray(f,A);q.subVectors(p,m);t.subVectors(n,m);q.cross(t);g[u]+=q.x;g[u+1]+=q.y;g[u+2]+=q.z;g[x]+=q.x;g[x+1]+=q.y;g[x+2]+=q.z;g[A]+=q.x;g[A+1]+=q.y;g[A+2]+=q.z}}}else for(h=0,k=f.length;h<k;h+=9)n.fromArray(f,h),m.fromArray(f,h+3),p.fromArray(f,h+6),q.subVectors(p,m),t.subVectors(n,m),q.cross(t),g[h]=q.x,g[h+1]=q.y,g[h+2]=q.z,g[h+3]=q.x,g[h+4]=q.y,g[h+5]=q.z,g[h+6]=q.x,g[h+7]=q.y,g[h+8]=q.z;this.normalizeNormals();
c.normal.needsUpdate=!0}},merge:function(a,b){if(a&&a.isBufferGeometry){void 0===b&&(b=0);var e=this.attributes,c;for(c in e)if(void 0!==a.attributes[c]){var d=e[c].array,l=a.attributes[c],f=l.array,g=0;for(l=l.itemSize*b;g<f.length;g++,l++)d[l]=f[g]}return this}console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",a)},normalizeNormals:function(){for(var a=this.attributes.normal,b,c,d,f,g=0,h=a.count;g<h;g++)b=a.getX(g),c=a.getY(g),d=a.getZ(g),f=1/Math.sqrt(b*
b+c*c+d*d),a.setXYZ(g,b*f,c*f,d*f)},toNonIndexed:function(){if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed."),this;var a=new ca,b=this.index.array,c=this.attributes,d;for(d in c){var f=c[d],g=f.array;f=f.itemSize;for(var h=new g.constructor(b.length*f),k,n=0,m=0,p=b.length;m<p;m++){k=b[m]*f;for(var q=0;q<f;q++)h[n++]=g[k++]}a.addAttribute(d,new sa(h,f))}return a},toJSON:function(){var a={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};
a.uuid=this.uuid;a.type=this.type;""!==this.name&&(a.name=this.name);if(void 0!==this.parameters){var b=this.parameters;for(var c in b)void 0!==b[c]&&(a[c]=b[c]);return a}a.data={attributes:{}};var d=this.index;null!==d&&(b=Array.prototype.slice.call(d.array),a.data.index={type:d.array.constructor.name,array:b});d=this.attributes;for(c in d){var f=d[c];b=Array.prototype.slice.call(f.array);a.data.attributes[c]={itemSize:f.itemSize,type:f.array.constructor.name,array:b,normalized:f.normalized}}c=this.groups;
0<c.length&&(a.data.groups=JSON.parse(JSON.stringify(c)));c=this.boundingSphere;null!==c&&(a.data.boundingSphere={center:c.center.toArray(),radius:c.radius});return a},clone:function(){return(new ca).copy(this)},copy:function(a){var b;this.index=null;this.attributes={};this.morphAttributes={};this.groups=[];this.boundingSphere=this.boundingBox=null;this.name=a.name;var e=a.index;null!==e&&this.setIndex(e.clone());e=a.attributes;for(g in e)this.addAttribute(g,e[g].clone());var c=a.morphAttributes;
for(g in c){var d=[],f=c[g];e=0;for(b=f.length;e<b;e++)d.push(f[e].clone());this.morphAttributes[g]=d}var g=a.groups;e=0;for(b=g.length;e<b;e++)c=g[e],this.addGroup(c.start,c.count,c.materialIndex);g=a.boundingBox;null!==g&&(this.boundingBox=g.clone());g=a.boundingSphere;null!==g&&(this.boundingSphere=g.clone());this.drawRange.start=a.drawRange.start;this.drawRange.count=a.drawRange.count;return this},dispose:function(){this.dispatchEvent({type:"dispose"})}});Rb.prototype=Object.create(ia.prototype);
Rb.prototype.constructor=Rb;Sb.prototype=Object.create(ca.prototype);Sb.prototype.constructor=Sb;bc.prototype=Object.create(ia.prototype);bc.prototype.constructor=bc;Ib.prototype=Object.create(ca.prototype);Ib.prototype.constructor=Ib;mb.prototype=Object.create(qa.prototype);mb.prototype.constructor=mb;mb.prototype.isMeshBasicMaterial=!0;mb.prototype.copy=function(a){qa.prototype.copy.call(this,a);this.color.copy(a.color);this.map=a.map;this.lightMap=a.lightMap;this.lightMapIntensity=a.lightMapIntensity;
this.aoMap=a.aoMap;this.aoMapIntensity=a.aoMapIntensity;this.specularMap=a.specularMap;this.alphaMap=a.alphaMap;this.envMap=a.envMap;this.combine=a.combine;this.reflectivity=a.reflectivity;this.refractionRatio=a.refractionRatio;this.wireframe=a.wireframe;this.wireframeLinewidth=a.wireframeLinewidth;this.wireframeLinecap=a.wireframeLinecap;this.wireframeLinejoin=a.wireframeLinejoin;this.skinning=a.skinning;this.morphTargets=a.morphTargets;return this};Object.assign(Ub.prototype,{set:function(a,b){this.origin.copy(a);
this.direction.copy(b);return this},clone:function(){return(new this.constructor).copy(this)},copy:function(a){this.origin.copy(a.origin);this.direction.copy(a.direction);return this},at:function(a,c){return(c||new b).copy(this.direction).multiplyScalar(a).add(this.origin)},lookAt:function(a){this.direction.copy(a).sub(this.origin).normalize();return this},recast:function(){var a=new b;return function(b){this.origin.copy(this.at(b,a));return this}}(),closestPointToPoint:function(a,c){c=c||new b;c.subVectors(a,
this.origin);a=c.dot(this.direction);return 0>a?c.copy(this.origin):c.copy(this.direction).multiplyScalar(a).add(this.origin)},distanceToPoint:function(a){return Math.sqrt(this.distanceSqToPoint(a))},distanceSqToPoint:function(){var a=new b;return function(b){var e=a.subVectors(b,this.origin).dot(this.direction);if(0>e)return this.origin.distanceToSquared(b);a.copy(this.direction).multiplyScalar(e).add(this.origin);return a.distanceToSquared(b)}}(),distanceSqToSegment:function(){var a=new b,c=new b,
d=new b;return function(b,e,f,l){a.copy(b).add(e).multiplyScalar(.5);c.copy(e).sub(b).normalize();d.copy(this.origin).sub(a);var g=.5*b.distanceTo(e),h=-this.direction.dot(c),r=d.dot(this.direction),k=-d.dot(c),v=d.lengthSq(),n=Math.abs(1-h*h);if(0<n){b=h*k-r;e=h*r-k;var y=g*n;0<=b?e>=-y?e<=y?(g=1/n,b*=g,e*=g,h=b*(b+h*e+2*r)+e*(h*b+e+2*k)+v):(e=g,b=Math.max(0,-(h*e+r)),h=-b*b+e*(e+2*k)+v):(e=-g,b=Math.max(0,-(h*e+r)),h=-b*b+e*(e+2*k)+v):e<=-y?(b=Math.max(0,-(-h*g+r)),e=0<b?-g:Math.min(Math.max(-g,
-k),g),h=-b*b+e*(e+2*k)+v):e<=y?(b=0,e=Math.min(Math.max(-g,-k),g),h=e*(e+2*k)+v):(b=Math.max(0,-(h*g+r)),e=0<b?g:Math.min(Math.max(-g,-k),g),h=-b*b+e*(e+2*k)+v)}else e=0<h?-g:g,b=Math.max(0,-(h*e+r)),h=-b*b+e*(e+2*k)+v;f&&f.copy(this.direction).multiplyScalar(b).add(this.origin);l&&l.copy(c).multiplyScalar(e).add(a);return h}}(),intersectSphere:function(){var a=new b;return function(b,e){a.subVectors(b.center,this.origin);var c=a.dot(this.direction),d=a.dot(a)-c*c;b=b.radius*b.radius;if(d>b)return null;
b=Math.sqrt(b-d);d=c-b;c+=b;return 0>d&&0>c?null:0>d?this.at(c,e):this.at(d,e)}}(),intersectsSphere:function(a){return this.distanceToPoint(a.center)<=a.radius},distanceToPlane:function(a){var b=a.normal.dot(this.direction);if(0===b)return 0===a.distanceToPoint(this.origin)?0:null;a=-(this.origin.dot(a.normal)+a.constant)/b;return 0<=a?a:null},intersectPlane:function(a,b){a=this.distanceToPlane(a);return null===a?null:this.at(a,b)},intersectsPlane:function(a){var b=a.distanceToPoint(this.origin);
return 0===b||0>a.normal.dot(this.direction)*b?!0:!1},intersectBox:function(a,b){var e=1/this.direction.x;var c=1/this.direction.y;var d=1/this.direction.z,f=this.origin;if(0<=e){var l=(a.min.x-f.x)*e;e*=a.max.x-f.x}else l=(a.max.x-f.x)*e,e*=a.min.x-f.x;if(0<=c){var g=(a.min.y-f.y)*c;c*=a.max.y-f.y}else g=(a.max.y-f.y)*c,c*=a.min.y-f.y;if(l>c||g>e)return null;if(g>l||l!==l)l=g;if(c<e||e!==e)e=c;0<=d?(g=(a.min.z-f.z)*d,a=(a.max.z-f.z)*d):(g=(a.max.z-f.z)*d,a=(a.min.z-f.z)*d);if(l>a||g>e)return null;
if(g>l||l!==l)l=g;if(a<e||e!==e)e=a;return 0>e?null:this.at(0<=l?l:e,b)},intersectsBox:function(){var a=new b;return function(b){return null!==this.intersectBox(b,a)}}(),intersectTriangle:function(){var a=new b,c=new b,d=new b,f=new b;return function(b,e,l,g,h){c.subVectors(e,b);d.subVectors(l,b);f.crossVectors(c,d);e=this.direction.dot(f);if(0<e){if(g)return null;g=1}else if(0>e)g=-1,e=-e;else return null;a.subVectors(this.origin,b);b=g*this.direction.dot(d.crossVectors(a,d));if(0>b)return null;
l=g*this.direction.dot(c.cross(a));if(0>l||b+l>e)return null;b=-g*a.dot(f);return 0>b?null:this.at(b/e,h)}}(),applyMatrix4:function(a){this.origin.applyMatrix4(a);this.direction.transformDirection(a);return this},equals:function(a){return a.origin.equals(this.origin)&&a.direction.equals(this.direction)}});Object.assign(cc.prototype,{set:function(a,b){this.start.copy(a);this.end.copy(b);return this},clone:function(){return(new this.constructor).copy(this)},copy:function(a){this.start.copy(a.start);
this.end.copy(a.end);return this},getCenter:function(a){return(a||new b).addVectors(this.start,this.end).multiplyScalar(.5)},delta:function(a){return(a||new b).subVectors(this.end,this.start)},distanceSq:function(){return this.start.distanceToSquared(this.end)},distance:function(){return this.start.distanceTo(this.end)},at:function(a,c){c=c||new b;return this.delta(c).multiplyScalar(a).add(this.start)},closestPointToPointParameter:function(){var a=new b,c=new b;return function(b,e){a.subVectors(b,
this.start);c.subVectors(this.end,this.start);b=c.dot(c);b=c.dot(a)/b;e&&(b=Fa.clamp(b,0,1));return b}}(),closestPointToPoint:function(a,c,d){a=this.closestPointToPointParameter(a,c);d=d||new b;return this.delta(d).multiplyScalar(a).add(this.start)},applyMatrix4:function(a){this.start.applyMatrix4(a);this.end.applyMatrix4(a);return this},equals:function(a){return a.start.equals(this.start)&&a.end.equals(this.end)}});Object.assign(Sa,{normal:function(){var a=new b;return function(e,c,d,f){f=f||new b;
f.subVectors(d,c);a.subVectors(e,c);f.cross(a);e=f.lengthSq();return 0<e?f.multiplyScalar(1/Math.sqrt(e)):f.set(0,0,0)}}(),barycoordFromPoint:function(){var a=new b,c=new b,d=new b;return function(e,f,l,g,h){a.subVectors(g,f);c.subVectors(l,f);d.subVectors(e,f);e=a.dot(a);f=a.dot(c);l=a.dot(d);var r=c.dot(c);g=c.dot(d);var k=e*r-f*f;h=h||new b;if(0===k)return h.set(-2,-1,-1);k=1/k;r=(r*l-f*g)*k;e=(e*g-f*l)*k;return h.set(1-r-e,e,r)}}(),containsPoint:function(){var a=new b;return function(b,e,c,d){b=
Sa.barycoordFromPoint(b,e,c,d,a);return 0<=b.x&&0<=b.y&&1>=b.x+b.y}}()});Object.assign(Sa.prototype,{set:function(a,b,c){this.a.copy(a);this.b.copy(b);this.c.copy(c);return this},setFromPointsAndIndices:function(a,b,c,d){this.a.copy(a[b]);this.b.copy(a[c]);this.c.copy(a[d]);return this},clone:function(){return(new this.constructor).copy(this)},copy:function(a){this.a.copy(a.a);this.b.copy(a.b);this.c.copy(a.c);return this},area:function(){var a=new b,c=new b;return function(){a.subVectors(this.c,
this.b);c.subVectors(this.a,this.b);return.5*a.cross(c).length()}}(),midpoint:function(a){return(a||new b).addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)},normal:function(a){return Sa.normal(this.a,this.b,this.c,a)},plane:function(a){return(a||new Xa).setFromCoplanarPoints(this.a,this.b,this.c)},barycoordFromPoint:function(a,b){return Sa.barycoordFromPoint(a,this.a,this.b,this.c,b)},containsPoint:function(a){return Sa.containsPoint(a,this.a,this.b,this.c)},closestPointToPoint:function(){var a=
new Xa,c=[new cc,new cc,new cc],d=new b,f=new b;return function(e,l){l=l||new b;var g=Infinity;a.setFromCoplanarPoints(this.a,this.b,this.c);a.projectPoint(e,d);if(!0===this.containsPoint(d))l.copy(d);else for(c[0].set(this.a,this.b),c[1].set(this.b,this.c),c[2].set(this.c,this.a),e=0;e<c.length;e++){c[e].closestPointToPoint(d,!0,f);var h=d.distanceToSquared(f);h<g&&(g=h,l.copy(f))}return l}}(),equals:function(a){return a.a.equals(this.a)&&a.b.equals(this.b)&&a.c.equals(this.c)}});Ga.prototype=Object.assign(Object.create(O.prototype),
{constructor:Ga,isMesh:!0,setDrawMode:function(a){this.drawMode=a},copy:function(a){O.prototype.copy.call(this,a);this.drawMode=a.drawMode;return this},updateMorphTargets:function(){var a=this.geometry;if(a.isBufferGeometry){a=a.morphAttributes;var b=Object.keys(a);if(0<b.length){var c=a[b[0]];if(void 0!==c)for(this.morphTargetInfluences=[],this.morphTargetDictionary={},a=0,b=c.length;a<b;a++){var d=c[a].name||String(a);this.morphTargetInfluences.push(0);this.morphTargetDictionary[d]=a}}}else if(c=
a.morphTargets,void 0!==c&&0<c.length)for(this.morphTargetInfluences=[],this.morphTargetDictionary={},a=0,b=c.length;a<b;a++)d=c[a].name||String(a),this.morphTargetInfluences.push(0),this.morphTargetDictionary[d]=a},raycast:function(){function a(a,b,e,c,d,f,l){Sa.barycoordFromPoint(a,b,e,c,z);d.multiplyScalar(z.x);f.multiplyScalar(z.y);l.multiplyScalar(z.z);d.add(f).add(l);return d.clone()}function c(a,b,e,c,d,f,l){var g=a.material;if(null===(1===g.side?e.intersectTriangle(f,d,c,!0,l):e.intersectTriangle(c,
d,f,2!==g.side,l)))return null;E.copy(l);E.applyMatrix4(a.matrixWorld);e=b.ray.origin.distanceTo(E);return e<b.near||e>b.far?null:{distance:e,point:E.clone(),object:a}}function d(b,e,d,f,l,g,h,r){n.fromBufferAttribute(f,g);m.fromBufferAttribute(f,h);p.fromBufferAttribute(f,r);if(b=c(b,e,d,n,m,p,K))l&&(C.fromBufferAttribute(l,g),x.fromBufferAttribute(l,h),A.fromBufferAttribute(l,r),b.uv=a(K,n,m,p,C,x,A)),b.face=new Za(g,h,r,Sa.normal(n,m,p)),b.faceIndex=g;return b}var g=new t,h=new Ub,k=new N,n=new b,
m=new b,p=new b,q=new b,w=new b,u=new b,C=new f,x=new f,A=new f,z=new b,K=new b,E=new b;return function(b,e){var f=this.geometry,l=this.material,r=this.matrixWorld;if(void 0!==l&&(null===f.boundingSphere&&f.computeBoundingSphere(),k.copy(f.boundingSphere),k.applyMatrix4(r),!1!==b.ray.intersectsSphere(k)&&(g.getInverse(r),h.copy(b.ray).applyMatrix4(g),null===f.boundingBox||!1!==h.intersectsBox(f.boundingBox)))){var v;if(f.isBufferGeometry){l=f.index;var y=f.attributes.position;r=f.attributes.uv;var M;
if(null!==l){var D=0;for(M=l.count;D<M;D+=3){f=l.getX(D);var t=l.getX(D+1);var P=l.getX(D+2);if(v=d(this,b,h,y,r,f,t,P))v.faceIndex=Math.floor(D/3),e.push(v)}}else for(D=0,M=y.count;D<M;D+=3)if(f=D,t=D+1,P=D+2,v=d(this,b,h,y,r,f,t,P))v.index=f,e.push(v)}else if(f.isGeometry){r=Array.isArray(l);D=f.vertices;M=f.faces;t=f.faceVertexUvs[0];0<t.length&&(y=t);for(var ja=0,na=M.length;ja<na;ja++){var z=M[ja];v=r?l[z.materialIndex]:l;if(void 0!==v){t=D[z.a];P=D[z.b];var Ha=D[z.c];if(!0===v.morphTargets){v=
f.morphTargets;var E=this.morphTargetInfluences;n.set(0,0,0);m.set(0,0,0);p.set(0,0,0);for(var da=0,Ta=v.length;da<Ta;da++){var B=E[da];if(0!==B){var H=v[da].vertices;n.addScaledVector(q.subVectors(H[z.a],t),B);m.addScaledVector(w.subVectors(H[z.b],P),B);p.addScaledVector(u.subVectors(H[z.c],Ha),B)}}n.add(t);m.add(P);p.add(Ha);t=n;P=m;Ha=p}if(v=c(this,b,h,t,P,Ha,K))y&&y[ja]&&(E=y[ja],C.copy(E[0]),x.copy(E[1]),A.copy(E[2]),v.uv=a(K,t,P,Ha,C,x,A)),v.face=z,v.faceIndex=ja,e.push(v)}}}}}}(),clone:function(){return(new this.constructor(this.geometry,
this.material)).copy(this)}});var Kf=0;Lb.prototype=Object.assign(Object.create(Qa.prototype),{constructor:Lb,isArrayCamera:!0});ub.prototype.isFogExp2=!0;ub.prototype.clone=function(){return new ub(this.color.getHex(),this.density)};ub.prototype.toJSON=function(a){return{type:"FogExp2",color:this.color.getHex(),density:this.density}};ua.prototype.isFog=!0;ua.prototype.clone=function(){return new ua(this.color.getHex(),this.near,this.far)};ua.prototype.toJSON=function(a){return{type:"Fog",color:this.color.getHex(),
near:this.near,far:this.far}};wc.prototype=Object.assign(Object.create(O.prototype),{constructor:wc,copy:function(a,b){O.prototype.copy.call(this,a,b);null!==a.background&&(this.background=a.background.clone());null!==a.fog&&(this.fog=a.fog.clone());null!==a.overrideMaterial&&(this.overrideMaterial=a.overrideMaterial.clone());this.autoUpdate=a.autoUpdate;this.matrixAutoUpdate=a.matrixAutoUpdate;return this},toJSON:function(a){var b=O.prototype.toJSON.call(this,a);null!==this.background&&(b.object.background=
this.background.toJSON(a));null!==this.fog&&(b.object.fog=this.fog.toJSON());return b}});Pb.prototype=Object.assign(Object.create(O.prototype),{constructor:Pb,isLensFlare:!0,copy:function(a){O.prototype.copy.call(this,a);this.positionScreen.copy(a.positionScreen);this.customUpdateCallback=a.customUpdateCallback;for(var b=0,e=a.lensFlares.length;b<e;b++)this.lensFlares.push(a.lensFlares[b]);return this},add:function(a,b,c,d,f,g){void 0===b&&(b=-1);void 0===c&&(c=0);void 0===g&&(g=1);void 0===f&&(f=
new Q(16777215));void 0===d&&(d=1);c=Math.min(c,Math.max(0,c));this.lensFlares.push({texture:a,size:b,distance:c,x:0,y:0,z:0,scale:1,rotation:0,opacity:g,color:f,blending:d})},updateLensFlares:function(){var a,b=this.lensFlares.length,c=2*-this.positionScreen.x,d=2*-this.positionScreen.y;for(a=0;a<b;a++){var f=this.lensFlares[a];f.x=this.positionScreen.x+c*f.distance;f.y=this.positionScreen.y+d*f.distance;f.wantedRotation=f.x*Math.PI*.25;f.rotation+=.25*(f.wantedRotation-f.rotation)}}});vb.prototype=
Object.create(qa.prototype);vb.prototype.constructor=vb;vb.prototype.isSpriteMaterial=!0;vb.prototype.copy=function(a){qa.prototype.copy.call(this,a);this.color.copy(a.color);this.map=a.map;this.rotation=a.rotation;return this};Dc.prototype=Object.assign(Object.create(O.prototype),{constructor:Dc,isSprite:!0,raycast:function(){var a=new b,c=new b,d=new b;return function(b,e){c.setFromMatrixPosition(this.matrixWorld);b.ray.closestPointToPoint(c,a);d.setFromMatrixScale(this.matrixWorld);var f=d.x*d.y/
4;c.distanceToSquared(a)>f||(f=b.ray.origin.distanceTo(a),f<b.near||f>b.far||e.push({distance:f,point:a.clone(),face:null,object:this}))}}(),clone:function(){return(new this.constructor(this.material)).copy(this)}});pb.prototype=Object.assign(Object.create(O.prototype),{constructor:pb,copy:function(a){O.prototype.copy.call(this,a,!1);a=a.levels;for(var b=0,e=a.length;b<e;b++){var c=a[b];this.addLevel(c.object.clone(),c.distance)}return this},addLevel:function(a,b){void 0===b&&(b=0);b=Math.abs(b);
for(var e=this.levels,c=0;c<e.length&&!(b<e[c].distance);c++);e.splice(c,0,{distance:b,object:a});this.add(a)},getObjectForDistance:function(a){for(var b=this.levels,e=1,c=b.length;e<c&&!(a<b[e].distance);e++);return b[e-1].object},raycast:function(){var a=new b;return function(b,e){a.setFromMatrixPosition(this.matrixWorld);var c=b.ray.origin.distanceTo(a);this.getObjectForDistance(c).raycast(b,e)}}(),update:function(){var a=new b,c=new b;return function(b){var e=this.levels;if(1<e.length){a.setFromMatrixPosition(b.matrixWorld);
c.setFromMatrixPosition(this.matrixWorld);b=a.distanceTo(c);e[0].object.visible=!0;for(var d=1,f=e.length;d<f;d++)if(b>=e[d].distance)e[d-1].object.visible=!1,e[d].object.visible=!0;else break;for(;d<f;d++)e[d].object.visible=!1}}}(),toJSON:function(a){a=O.prototype.toJSON.call(this,a);a.object.levels=[];for(var b=this.levels,e=0,c=b.length;e<c;e++){var d=b[e];a.object.levels.push({object:d.object.uuid,distance:d.distance})}return a}});Object.assign(kc.prototype,{calculateInverses:function(){this.boneInverses=
[];for(var a=0,b=this.bones.length;a<b;a++){var c=new t;this.bones[a]&&c.getInverse(this.bones[a].matrixWorld);this.boneInverses.push(c)}},pose:function(){var a,b;var c=0;for(b=this.bones.length;c<b;c++)(a=this.bones[c])&&a.matrixWorld.getInverse(this.boneInverses[c]);c=0;for(b=this.bones.length;c<b;c++)if(a=this.bones[c])a.parent&&a.parent.isBone?(a.matrix.getInverse(a.parent.matrixWorld),a.matrix.multiply(a.matrixWorld)):a.matrix.copy(a.matrixWorld),a.matrix.decompose(a.position,a.quaternion,a.scale)},
update:function(){var a=new t,b=new t;return function(){for(var e=this.bones,c=this.boneInverses,d=this.boneMatrices,f=this.boneTexture,l=0,g=e.length;l<g;l++)a.multiplyMatrices(e[l]?e[l].matrixWorld:b,c[l]),a.toArray(d,16*l);void 0!==f&&(f.needsUpdate=!0)}}(),clone:function(){return new kc(this.bones,this.boneInverses)}});Vb.prototype=Object.assign(Object.create(O.prototype),{constructor:Vb,isBone:!0});Tb.prototype=Object.assign(Object.create(Ga.prototype),{constructor:Tb,isSkinnedMesh:!0,initBones:function(){var a=
[],b;if(this.geometry&&void 0!==this.geometry.bones){var c=0;for(b=this.geometry.bones.length;c<b;c++){var d=this.geometry.bones[c];var f=new Vb;a.push(f);f.name=d.name;f.position.fromArray(d.pos);f.quaternion.fromArray(d.rotq);void 0!==d.scl&&f.scale.fromArray(d.scl)}c=0;for(b=this.geometry.bones.length;c<b;c++)d=this.geometry.bones[c],-1!==d.parent&&null!==d.parent&&void 0!==a[d.parent]?a[d.parent].add(a[c]):this.add(a[c])}this.updateMatrixWorld(!0);return a},bind:function(a,b){this.skeleton=a;
void 0===b&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),b=this.matrixWorld);this.bindMatrix.copy(b);this.bindMatrixInverse.getInverse(b)},pose:function(){this.skeleton.pose()},normalizeSkinWeights:function(){var a;if(this.geometry&&this.geometry.isGeometry)for(a=0;a<this.geometry.skinWeights.length;a++){var b=this.geometry.skinWeights[a];var c=1/b.lengthManhattan();Infinity!==c?b.multiplyScalar(c):b.set(1,0,0,0)}else if(this.geometry&&this.geometry.isBufferGeometry){b=new n;var d=
this.geometry.attributes.skinWeight;for(a=0;a<d.count;a++)b.x=d.getX(a),b.y=d.getY(a),b.z=d.getZ(a),b.w=d.getW(a),c=1/b.lengthManhattan(),Infinity!==c?b.multiplyScalar(c):b.set(1,0,0,0),d.setXYZW(a,b.x,b.y,b.z,b.w)}},updateMatrixWorld:function(a){Ga.prototype.updateMatrixWorld.call(this,a);"attached"===this.bindMode?this.bindMatrixInverse.getInverse(this.matrixWorld):"detached"===this.bindMode?this.bindMatrixInverse.getInverse(this.bindMatrix):console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+
this.bindMode)},clone:function(){return(new this.constructor(this.geometry,this.material)).copy(this)}});Ea.prototype=Object.create(qa.prototype);Ea.prototype.constructor=Ea;Ea.prototype.isLineBasicMaterial=!0;Ea.prototype.copy=function(a){qa.prototype.copy.call(this,a);this.color.copy(a.color);this.linewidth=a.linewidth;this.linecap=a.linecap;this.linejoin=a.linejoin;return this};kb.prototype=Object.assign(Object.create(O.prototype),{constructor:kb,isLine:!0,raycast:function(){var a=new t,c=new Ub,
d=new N;return function(e,f){var l=e.linePrecision;l*=l;var g=this.geometry,h=this.matrixWorld;null===g.boundingSphere&&g.computeBoundingSphere();d.copy(g.boundingSphere);d.applyMatrix4(h);if(!1!==e.ray.intersectsSphere(d)){a.getInverse(h);c.copy(e.ray).applyMatrix4(a);var r=new b,k=new b;h=new b;var v=new b,n=this&&this.isLineSegments?2:1;if(g.isBufferGeometry){var m=g.index;var y=g.attributes.position.array;if(null!==m){var p=m.array;g=0;for(var q=p.length-1;g<q;g+=n)m=p[g+1],r.fromArray(y,3*p[g]),
k.fromArray(y,3*m),m=c.distanceSqToSegment(r,k,v,h),m>l||(v.applyMatrix4(this.matrixWorld),m=e.ray.origin.distanceTo(v),m<e.near||m>e.far||f.push({distance:m,point:h.clone().applyMatrix4(this.matrixWorld),index:g,face:null,faceIndex:null,object:this}))}else for(g=0,q=y.length/3-1;g<q;g+=n)r.fromArray(y,3*g),k.fromArray(y,3*g+3),m=c.distanceSqToSegment(r,k,v,h),m>l||(v.applyMatrix4(this.matrixWorld),m=e.ray.origin.distanceTo(v),m<e.near||m>e.far||f.push({distance:m,point:h.clone().applyMatrix4(this.matrixWorld),
index:g,face:null,faceIndex:null,object:this}))}else if(g.isGeometry)for(r=g.vertices,k=r.length,g=0;g<k-1;g+=n)m=c.distanceSqToSegment(r[g],r[g+1],v,h),m>l||(v.applyMatrix4(this.matrixWorld),m=e.ray.origin.distanceTo(v),m<e.near||m>e.far||f.push({distance:m,point:h.clone().applyMatrix4(this.matrixWorld),index:g,face:null,faceIndex:null,object:this}))}}}(),clone:function(){return(new this.constructor(this.geometry,this.material)).copy(this)}});va.prototype=Object.assign(Object.create(kb.prototype),
{constructor:va,isLineSegments:!0});xc.prototype=Object.assign(Object.create(kb.prototype),{constructor:xc,isLineLoop:!0});Ka.prototype=Object.create(qa.prototype);Ka.prototype.constructor=Ka;Ka.prototype.isPointsMaterial=!0;Ka.prototype.copy=function(a){qa.prototype.copy.call(this,a);this.color.copy(a.color);this.map=a.map;this.size=a.size;this.sizeAttenuation=a.sizeAttenuation;return this};wb.prototype=Object.assign(Object.create(O.prototype),{constructor:wb,isPoints:!0,raycast:function(){var a=
new t,c=new Ub,d=new N;return function(e,f){function l(a,b){var d=c.distanceSqToPoint(a);if(d<v){a=c.closestPointToPoint(a);a.applyMatrix4(k);var l=e.ray.origin.distanceTo(a);l<e.near||l>e.far||f.push({distance:l,distanceToRay:Math.sqrt(d),point:a.clone(),index:b,face:null,object:g})}}var g=this,h=this.geometry,k=this.matrixWorld,r=e.params.Points.threshold;null===h.boundingSphere&&h.computeBoundingSphere();d.copy(h.boundingSphere);d.applyMatrix4(k);d.radius+=r;if(!1!==e.ray.intersectsSphere(d)){a.getInverse(k);
c.copy(e.ray).applyMatrix4(a);r/=(this.scale.x+this.scale.y+this.scale.z)/3;var v=r*r;r=new b;if(h.isBufferGeometry){var n=h.index;h=h.attributes.position.array;if(null!==n){var m=n.array;n=0;for(var y=m.length;n<y;n++){var p=m[n];r.fromArray(h,3*p);l(r,p)}}else for(n=0,m=h.length/3;n<m;n++)r.fromArray(h,3*n),l(r,n)}else for(r=h.vertices,n=0,m=r.length;n<m;n++)l(r[n],n)}}}(),clone:function(){return(new this.constructor(this.geometry,this.material)).copy(this)}});rb.prototype=Object.assign(Object.create(O.prototype),
{constructor:rb});ma.prototype=Object.create(k.prototype);ma.prototype.constructor=ma;gb.prototype=Object.create(k.prototype);gb.prototype.constructor=gb;gb.prototype.isCompressedTexture=!0;xb.prototype=Object.create(k.prototype);xb.prototype.constructor=xb;Gb.prototype=Object.create(k.prototype);Gb.prototype.constructor=Gb;Gb.prototype.isDepthTexture=!0;Fb.prototype=Object.create(ca.prototype);Fb.prototype.constructor=Fb;Qb.prototype=Object.create(ia.prototype);Qb.prototype.constructor=Qb;Ia.prototype=
Object.create(ca.prototype);Ia.prototype.constructor=Ia;Jc.prototype=Object.create(ia.prototype);Jc.prototype.constructor=Jc;Ja.prototype=Object.create(ca.prototype);Ja.prototype.constructor=Ja;Oc.prototype=Object.create(ia.prototype);Oc.prototype.constructor=Oc;mc.prototype=Object.create(Ja.prototype);mc.prototype.constructor=mc;wa.prototype=Object.create(ia.prototype);wa.prototype.constructor=wa;sb.prototype=Object.create(Ja.prototype);sb.prototype.constructor=sb;Db.prototype=Object.create(ia.prototype);
Db.prototype.constructor=Db;Wb.prototype=Object.create(Ja.prototype);Wb.prototype.constructor=Wb;dc.prototype=Object.create(ia.prototype);dc.prototype.constructor=dc;nc.prototype=Object.create(Ja.prototype);nc.prototype.constructor=nc;Cb.prototype=Object.create(ia.prototype);Cb.prototype.constructor=Cb;Mb.prototype=Object.create(ca.prototype);Mb.prototype.constructor=Mb;oc.prototype=Object.create(ia.prototype);oc.prototype.constructor=oc;d.prototype=Object.create(ca.prototype);d.prototype.constructor=
d;g.prototype=Object.create(ia.prototype);g.prototype.constructor=g;u.prototype=Object.create(ca.prototype);u.prototype.constructor=u;var gd={area:function(a){for(var b=a.length,e=0,c=b-1,d=0;d<b;c=d++)e+=a[c].x*a[d].y-a[d].x*a[c].y;return.5*e},triangulate:function(){return function(a,b){var e=a.length;if(3>e)return null;var c=[],d=[],f=[],l;if(0<gd.area(a))for(l=0;l<e;l++)d[l]=l;else for(l=0;l<e;l++)d[l]=e-1-l;var g=2*e;for(l=e-1;2<e;){if(0>=g--){console.warn("THREE.ShapeUtils: Unable to triangulate polygon! in triangulate()");
break}var h=l;e<=h&&(h=0);l=h+1;e<=l&&(l=0);var k=l+1;e<=k&&(k=0);a:{var n;var m=a[d[h]].x;var p=a[d[h]].y;var q=a[d[l]].x;var t=a[d[l]].y;var w=a[d[k]].x;var u=a[d[k]].y;if(0>=(q-m)*(u-p)-(t-p)*(w-m))var x=!1;else{var A=w-q;var z=u-t;var K=m-w;var E=p-u;var B=q-m;x=t-p;for(n=0;n<e;n++){var H=a[d[n]].x;var F=a[d[n]].y;if(!(H===m&&F===p||H===q&&F===t||H===w&&F===u)){var ea=H-m;var G=F-p;var ka=H-q;var Q=F-t;H-=w;F-=u;Q=A*Q-z*ka;G=B*G-x*ea;H=K*F-E*H;if(Q>=-Number.EPSILON&&H>=-Number.EPSILON&&G>=-Number.EPSILON){x=
!1;break a}}}x=!0}}if(x){c.push([a[d[h]],a[d[l]],a[d[k]]]);f.push([d[h],d[l],d[k]]);h=l;for(k=l+1;k<e;h++,k++)d[h]=d[k];e--;g=2*e}}return b?f:c}}(),triangulateShape:function(a,b){function e(a){var b=a.length;2<b&&a[b-1].equals(a[0])&&a.pop()}function c(a,b,e){return a.x!==b.x?a.x<b.x?a.x<=e.x&&e.x<=b.x:b.x<=e.x&&e.x<=a.x:a.y<b.y?a.y<=e.y&&e.y<=b.y:b.y<=e.y&&e.y<=a.y}function d(a,b,e,d,f){var l=b.x-a.x,g=b.y-a.y,h=d.x-e.x,k=d.y-e.y,r=a.x-e.x,v=a.y-e.y,n=g*h-l*k,m=g*r-l*v;if(Math.abs(n)>Number.EPSILON){if(0<
n){if(0>m||m>n)return[];h=k*r-h*v;if(0>h||h>n)return[]}else{if(0<m||m<n)return[];h=k*r-h*v;if(0<h||h<n)return[]}if(0===h)return!f||0!==m&&m!==n?[a]:[];if(h===n)return!f||0!==m&&m!==n?[b]:[];if(0===m)return[e];if(m===n)return[d];f=h/n;return[{x:a.x+f*l,y:a.y+f*g}]}if(0!==m||k*r!==h*v)return[];g=0===l&&0===g;h=0===h&&0===k;if(g&&h)return a.x!==e.x||a.y!==e.y?[]:[a];if(g)return c(e,d,a)?[a]:[];if(h)return c(a,b,e)?[e]:[];0!==l?(a.x<b.x?(l=a,h=a.x,g=b,a=b.x):(l=b,h=b.x,g=a,a=a.x),e.x<d.x?(b=e,n=e.x,k=
d,e=d.x):(b=d,n=d.x,k=e,e=e.x)):(a.y<b.y?(l=a,h=a.y,g=b,a=b.y):(l=b,h=b.y,g=a,a=a.y),e.y<d.y?(b=e,n=e.y,k=d,e=d.y):(b=d,n=d.y,k=e,e=e.y));return h<=n?a<n?[]:a===n?f?[]:[b]:a<=e?[b,g]:[b,k]:h>e?[]:h===e?f?[]:[l]:a<=e?[l,g]:[l,k]}function f(a,b,e,c){var d=b.x-a.x,f=b.y-a.y;b=e.x-a.x;e=e.y-a.y;var l=c.x-a.x;c=c.y-a.y;a=d*e-f*b;d=d*c-f*l;return Math.abs(a)>Number.EPSILON?(b=l*e-c*b,0<a?0<=d&&0<=b:0<=d||0<=b):0<d}e(a);b.forEach(e);var l,g={},h=a.concat();var k=0;for(l=b.length;k<l;k++)Array.prototype.push.apply(h,
b[k]);k=0;for(l=h.length;k<l;k++){var n=h[k].x+":"+h[k].y;void 0!==g[n]&&console.warn("THREE.ShapeUtils: Duplicate point",n,k);g[n]=k}k=function(a,b){function e(a,b){var e=g.length-1,c=a-1;0>c&&(c=e);var d=a+1;d>e&&(d=0);e=f(g[a],g[c],g[d],M[b]);if(!e)return!1;e=M.length-1;c=b-1;0>c&&(c=e);d=b+1;d>e&&(d=0);return(e=f(M[b],M[c],M[d],g[a]))?!0:!1}function c(a,b){var e;for(e=0;e<g.length;e++){var c=e+1;c%=g.length;c=d(a,b,g[e],g[c],!0);if(0<c.length)return!0}return!1}function l(a,e){var c,f;for(c=0;c<
h.length;c++){var l=b[h[c]];for(f=0;f<l.length;f++){var g=f+1;g%=l.length;g=d(a,e,l[f],l[g],!0);if(0<g.length)return!0}}return!1}var g=a.concat(),h=[],k,r;a=[];var v,n=0;for(k=b.length;n<k;n++)h.push(n);var m=0;for(var y=2*h.length;0<h.length;){y--;if(0>y){console.log("Infinite Loop! Holes left:"+h.length+", Probably Hole outside Shape!");break}for(r=m;r<g.length;r++){var p=g[r];k=-1;for(n=0;n<h.length;n++){var q=h[n];var D=p.x+":"+p.y+":"+q;if(void 0===a[D]){var M=b[q];for(v=0;v<M.length;v++)if(q=
M[v],e(r,v)&&!c(p,q)&&!l(p,q)){k=v;h.splice(n,1);m=g.slice(0,r+1);q=g.slice(r);v=M.slice(k);var t=M.slice(0,k+1);g=m.concat(v).concat(t).concat(q);m=r;break}if(0<=k)break;a[D]=!0}}if(0<=k)break}}return g}(a,b);h=gd.triangulate(k,!1);k=0;for(l=h.length;k<l;k++)for(b=h[k],a=0;3>a;a++)n=b[a].x+":"+b[a].y,n=g[n],void 0!==n&&(b[a]=n);return h.concat()},isClockWise:function(a){return 0>gd.area(a)}};R.prototype=Object.create(ia.prototype);R.prototype.constructor=R;Y.prototype=Object.create(ca.prototype);
Y.prototype.constructor=Y;Y.prototype.getArrays=function(){var a=this.getAttribute("position");a=a?Array.prototype.slice.call(a.array):[];var b=this.getAttribute("uv");b=b?Array.prototype.slice.call(b.array):[];var c=this.index;c=c?Array.prototype.slice.call(c.array):[];return{position:a,uv:b,index:c}};Y.prototype.addShapeList=function(a,b){var e=a.length;b.arrays=this.getArrays();for(var c=0;c<e;c++)this.addShape(a[c],b);this.setIndex(b.arrays.index);this.addAttribute("position",new W(b.arrays.position,
3));this.addAttribute("uv",new W(b.arrays.uv,2))};Y.prototype.addShape=function(a,c){function e(a,b,e){b||console.error("THREE.ExtrudeGeometry: vec does not exist");return b.clone().multiplyScalar(e).add(a)}function d(a,b,e){var c=a.x-b.x;var d=a.y-b.y;var l=e.x-a.x;var g=e.y-a.y,h=c*c+d*d;if(Math.abs(c*g-d*l)>Number.EPSILON){var k=Math.sqrt(h),r=Math.sqrt(l*l+g*g);h=b.x-d/k;b=b.y+c/k;g=((e.x-g/r-h)*g-(e.y+l/r-b)*l)/(c*g-d*l);l=h+c*g-a.x;c=b+d*g-a.y;d=l*l+c*c;if(2>=d)return new f(l,c);d=Math.sqrt(d/
2)}else a=!1,c>Number.EPSILON?l>Number.EPSILON&&(a=!0):c<-Number.EPSILON?l<-Number.EPSILON&&(a=!0):Math.sign(d)===Math.sign(g)&&(a=!0),a?(l=-d,d=Math.sqrt(h)):(l=c,c=d,d=Math.sqrt(h/2));return new f(l/d,c/d)}function l(a,b){for(J=a.length;0<=--J;){var e=J;var c=J-1;0>c&&(c=a.length-1);var d,f=E+2*A;for(d=0;d<f;d++){var l=xa*d,g=xa*(d+1),h=b+c+l,r=b+c+g;g=b+e+g;k(b+e+l);k(h);k(g);k(h);k(r);k(g);l=p.length/3;l=F.generateSideWallUV(N,p,l-6,l-3,l-2,l-1);n(l[0]);n(l[1]);n(l[3]);n(l[1]);n(l[2]);n(l[3])}}}
function g(a,b,e){w.push(a);w.push(b);w.push(e)}function h(a,b,e){k(a);k(b);k(e);a=p.length/3;a=F.generateTopUV(N,p,a-3,a-2,a-1);n(a[0]);n(a[1]);n(a[2])}function k(a){q.push(p.length/3);p.push(w[3*a+0]);p.push(w[3*a+1]);p.push(w[3*a+2])}function n(a){t.push(a.x);t.push(a.y)}var m=c.arrays?c.arrays:this.getArrays(),p=m.position,q=m.index,t=m.uv,w=[];m=void 0!==c.amount?c.amount:100;var u=void 0!==c.bevelThickness?c.bevelThickness:6,x=void 0!==c.bevelSize?c.bevelSize:u-2,A=void 0!==c.bevelSegments?
c.bevelSegments:3,z=void 0!==c.bevelEnabled?c.bevelEnabled:!0,K=void 0!==c.curveSegments?c.curveSegments:12,E=void 0!==c.steps?c.steps:1,B=c.extrudePath,H=!1,F=void 0!==c.UVGenerator?c.UVGenerator:R.WorldUVGenerator;if(B){var ea=B.getSpacedPoints(E);H=!0;z=!1;var G=void 0!==c.frames?c.frames:B.computeFrenetFrames(E,!1);var ka=new b;var Q=new b;var U=new b}z||(x=u=A=0);var fa,N=this;K=a.extractPoints(K);a=K.shape;var O=K.holes;if(!gd.isClockWise(a)){a=a.reverse();var L=0;for(fa=O.length;L<fa;L++){var V=
O[L];gd.isClockWise(V)&&(O[L]=V.reverse())}}var pa=gd.triangulateShape(a,O),S=a;L=0;for(fa=O.length;L<fa;L++)V=O[L],a=a.concat(V);var T,xa=a.length,Y,ta=pa.length;K=[];var J=0;var ra=S.length;var Z=ra-1;for(T=J+1;J<ra;J++,Z++,T++)Z===ra&&(Z=0),T===ra&&(T=0),K[J]=d(S[J],S[Z],S[T]);B=[];var ba=K.concat();L=0;for(fa=O.length;L<fa;L++){V=O[L];var Ca=[];J=0;ra=V.length;Z=ra-1;for(T=J+1;J<ra;J++,Z++,T++)Z===ra&&(Z=0),T===ra&&(T=0),Ca[J]=d(V[J],V[Z],V[T]);B.push(Ca);ba=ba.concat(Ca)}for(Z=0;Z<A;Z++){ra=
Z/A;var ca=u*Math.cos(ra*Math.PI/2);T=x*Math.sin(ra*Math.PI/2);J=0;for(ra=S.length;J<ra;J++){var aa=e(S[J],K[J],T);g(aa.x,aa.y,-ca)}L=0;for(fa=O.length;L<fa;L++)for(V=O[L],Ca=B[L],J=0,ra=V.length;J<ra;J++)aa=e(V[J],Ca[J],T),g(aa.x,aa.y,-ca)}T=x;for(J=0;J<xa;J++)aa=z?e(a[J],ba[J],T):a[J],H?(Q.copy(G.normals[0]).multiplyScalar(aa.x),ka.copy(G.binormals[0]).multiplyScalar(aa.y),U.copy(ea[0]).add(Q).add(ka),g(U.x,U.y,U.z)):g(aa.x,aa.y,0);for(ra=1;ra<=E;ra++)for(J=0;J<xa;J++)aa=z?e(a[J],ba[J],T):a[J],
H?(Q.copy(G.normals[ra]).multiplyScalar(aa.x),ka.copy(G.binormals[ra]).multiplyScalar(aa.y),U.copy(ea[ra]).add(Q).add(ka),g(U.x,U.y,U.z)):g(aa.x,aa.y,m/E*ra);for(Z=A-1;0<=Z;Z--){ra=Z/A;ca=u*Math.cos(ra*Math.PI/2);T=x*Math.sin(ra*Math.PI/2);J=0;for(ra=S.length;J<ra;J++)aa=e(S[J],K[J],T),g(aa.x,aa.y,m+ca);L=0;for(fa=O.length;L<fa;L++)for(V=O[L],Ca=B[L],J=0,ra=V.length;J<ra;J++)aa=e(V[J],Ca[J],T),H?g(aa.x,aa.y+ea[E-1].y,ea[E-1].x+ca):g(aa.x,aa.y,m+ca)}(function(){var a=p.length/3;if(z){var b=0*xa;for(J=
0;J<ta;J++)Y=pa[J],h(Y[2]+b,Y[1]+b,Y[0]+b);b=xa*(E+2*A);for(J=0;J<ta;J++)Y=pa[J],h(Y[0]+b,Y[1]+b,Y[2]+b)}else{for(J=0;J<ta;J++)Y=pa[J],h(Y[2],Y[1],Y[0]);for(J=0;J<ta;J++)Y=pa[J],h(Y[0]+xa*E,Y[1]+xa*E,Y[2]+xa*E)}N.addGroup(a,p.length/3-a,void 0!==c.material?c.material:0)})();(function(){var a=p.length/3,b=0;l(S,b);b+=S.length;L=0;for(fa=O.length;L<fa;L++)V=O[L],l(V,b),b+=V.length;N.addGroup(a,p.length/3-a,void 0!==c.extrudeMaterial?c.extrudeMaterial:1)})();c.arrays||(this.setIndex(q),this.addAttribute("position",
new W(p,3)),this.addAttribute("uv",new W(c.arrays.uv,2)))};R.WorldUVGenerator={generateTopUV:function(a,b,c,d,g){a=b[3*d];d=b[3*d+1];var e=b[3*g];g=b[3*g+1];return[new f(b[3*c],b[3*c+1]),new f(a,d),new f(e,g)]},generateSideWallUV:function(a,b,c,d,g,h){a=b[3*c];var e=b[3*c+1];c=b[3*c+2];var l=b[3*d],k=b[3*d+1];d=b[3*d+2];var r=b[3*g],v=b[3*g+1];g=b[3*g+2];var n=b[3*h],m=b[3*h+1];b=b[3*h+2];return.01>Math.abs(e-k)?[new f(a,1-c),new f(l,1-d),new f(r,1-g),new f(n,1-b)]:[new f(e,1-c),new f(k,1-d),new f(v,
1-g),new f(m,1-b)]}};Ua.prototype=Object.create(ia.prototype);Ua.prototype.constructor=Ua;Pc.prototype=Object.create(Y.prototype);Pc.prototype.constructor=Pc;od.prototype=Object.create(ia.prototype);od.prototype.constructor=od;Qc.prototype=Object.create(ca.prototype);Qc.prototype.constructor=Qc;Rc.prototype=Object.create(ia.prototype);Rc.prototype.constructor=Rc;Sc.prototype=Object.create(ca.prototype);Sc.prototype.constructor=Sc;cd.prototype=Object.create(ia.prototype);cd.prototype.constructor=cd;
Gc.prototype=Object.create(ca.prototype);Gc.prototype.constructor=Gc;Ab.prototype=Object.create(ia.prototype);Ab.prototype.constructor=Ab;Tc.prototype=Object.create(ca.prototype);Tc.prototype.constructor=Tc;L.prototype=Object.create(ca.prototype);L.prototype.constructor=L;Ba.prototype=Object.create(ia.prototype);Ba.prototype.constructor=Ba;fb.prototype=Object.create(ca.prototype);fb.prototype.constructor=fb;Uc.prototype=Object.create(Ba.prototype);Uc.prototype.constructor=Uc;dd.prototype=Object.create(fb.prototype);
dd.prototype.constructor=dd;vd.prototype=Object.create(ia.prototype);vd.prototype.constructor=vd;ld.prototype=Object.create(ca.prototype);ld.prototype.constructor=ld;var id=Object.freeze({WireframeGeometry:Fb,ParametricGeometry:Qb,ParametricBufferGeometry:Ia,TetrahedronGeometry:Oc,TetrahedronBufferGeometry:mc,OctahedronGeometry:wa,OctahedronBufferGeometry:sb,IcosahedronGeometry:Db,IcosahedronBufferGeometry:Wb,DodecahedronGeometry:dc,DodecahedronBufferGeometry:nc,PolyhedronGeometry:Jc,PolyhedronBufferGeometry:Ja,
TubeGeometry:Cb,TubeBufferGeometry:Mb,TorusKnotGeometry:oc,TorusKnotBufferGeometry:d,TorusGeometry:g,TorusBufferGeometry:u,TextGeometry:Ua,TextBufferGeometry:Pc,SphereGeometry:od,SphereBufferGeometry:Qc,RingGeometry:Rc,RingBufferGeometry:Sc,PlaneGeometry:bc,PlaneBufferGeometry:Ib,LatheGeometry:cd,LatheBufferGeometry:Gc,ShapeGeometry:Ab,ShapeBufferGeometry:Tc,ExtrudeGeometry:R,ExtrudeBufferGeometry:Y,EdgesGeometry:L,ConeGeometry:Uc,ConeBufferGeometry:dd,CylinderGeometry:Ba,CylinderBufferGeometry:fb,
CircleGeometry:vd,CircleBufferGeometry:ld,BoxGeometry:Rb,BoxBufferGeometry:Sb});pc.prototype=Object.create(Ra.prototype);pc.prototype.constructor=pc;pc.prototype.isShadowMaterial=!0;ed.prototype=Object.create(Ra.prototype);ed.prototype.constructor=ed;ed.prototype.isRawShaderMaterial=!0;ec.prototype=Object.create(qa.prototype);ec.prototype.constructor=ec;ec.prototype.isMeshStandardMaterial=!0;ec.prototype.copy=function(a){qa.prototype.copy.call(this,a);this.defines={STANDARD:""};this.color.copy(a.color);
this.roughness=a.roughness;this.metalness=a.metalness;this.map=a.map;this.lightMap=a.lightMap;this.lightMapIntensity=a.lightMapIntensity;this.aoMap=a.aoMap;this.aoMapIntensity=a.aoMapIntensity;this.emissive.copy(a.emissive);this.emissiveMap=a.emissiveMap;this.emissiveIntensity=a.emissiveIntensity;this.bumpMap=a.bumpMap;this.bumpScale=a.bumpScale;this.normalMap=a.normalMap;this.normalScale.copy(a.normalScale);this.displacementMap=a.displacementMap;this.displacementScale=a.displacementScale;this.displacementBias=
a.displacementBias;this.roughnessMap=a.roughnessMap;this.metalnessMap=a.metalnessMap;this.alphaMap=a.alphaMap;this.envMap=a.envMap;this.envMapIntensity=a.envMapIntensity;this.refractionRatio=a.refractionRatio;this.wireframe=a.wireframe;this.wireframeLinewidth=a.wireframeLinewidth;this.wireframeLinecap=a.wireframeLinecap;this.wireframeLinejoin=a.wireframeLinejoin;this.skinning=a.skinning;this.morphTargets=a.morphTargets;this.morphNormals=a.morphNormals;return this};jd.prototype=Object.create(ec.prototype);
jd.prototype.constructor=jd;jd.prototype.isMeshPhysicalMaterial=!0;jd.prototype.copy=function(a){ec.prototype.copy.call(this,a);this.defines={PHYSICAL:""};this.reflectivity=a.reflectivity;this.clearCoat=a.clearCoat;this.clearCoatRoughness=a.clearCoatRoughness;return this};rc.prototype=Object.create(qa.prototype);rc.prototype.constructor=rc;rc.prototype.isMeshPhongMaterial=!0;rc.prototype.copy=function(a){qa.prototype.copy.call(this,a);this.color.copy(a.color);this.specular.copy(a.specular);this.shininess=
a.shininess;this.map=a.map;this.lightMap=a.lightMap;this.lightMapIntensity=a.lightMapIntensity;this.aoMap=a.aoMap;this.aoMapIntensity=a.aoMapIntensity;this.emissive.copy(a.emissive);this.emissiveMap=a.emissiveMap;this.emissiveIntensity=a.emissiveIntensity;this.bumpMap=a.bumpMap;this.bumpScale=a.bumpScale;this.normalMap=a.normalMap;this.normalScale.copy(a.normalScale);this.displacementMap=a.displacementMap;this.displacementScale=a.displacementScale;this.displacementBias=a.displacementBias;this.specularMap=
a.specularMap;this.alphaMap=a.alphaMap;this.envMap=a.envMap;this.combine=a.combine;this.reflectivity=a.reflectivity;this.refractionRatio=a.refractionRatio;this.wireframe=a.wireframe;this.wireframeLinewidth=a.wireframeLinewidth;this.wireframeLinecap=a.wireframeLinecap;this.wireframeLinejoin=a.wireframeLinejoin;this.skinning=a.skinning;this.morphTargets=a.morphTargets;this.morphNormals=a.morphNormals;return this};rd.prototype=Object.create(rc.prototype);rd.prototype.constructor=rd;rd.prototype.isMeshToonMaterial=
!0;rd.prototype.copy=function(a){rc.prototype.copy.call(this,a);this.gradientMap=a.gradientMap;return this};sd.prototype=Object.create(qa.prototype);sd.prototype.constructor=sd;sd.prototype.isMeshNormalMaterial=!0;sd.prototype.copy=function(a){qa.prototype.copy.call(this,a);this.bumpMap=a.bumpMap;this.bumpScale=a.bumpScale;this.normalMap=a.normalMap;this.normalScale.copy(a.normalScale);this.displacementMap=a.displacementMap;this.displacementScale=a.displacementScale;this.displacementBias=a.displacementBias;
this.wireframe=a.wireframe;this.wireframeLinewidth=a.wireframeLinewidth;this.skinning=a.skinning;this.morphTargets=a.morphTargets;this.morphNormals=a.morphNormals;return this};Wc.prototype=Object.create(qa.prototype);Wc.prototype.constructor=Wc;Wc.prototype.isMeshLambertMaterial=!0;Wc.prototype.copy=function(a){qa.prototype.copy.call(this,a);this.color.copy(a.color);this.map=a.map;this.lightMap=a.lightMap;this.lightMapIntensity=a.lightMapIntensity;this.aoMap=a.aoMap;this.aoMapIntensity=a.aoMapIntensity;
this.emissive.copy(a.emissive);this.emissiveMap=a.emissiveMap;this.emissiveIntensity=a.emissiveIntensity;this.specularMap=a.specularMap;this.alphaMap=a.alphaMap;this.envMap=a.envMap;this.combine=a.combine;this.reflectivity=a.reflectivity;this.refractionRatio=a.refractionRatio;this.wireframe=a.wireframe;this.wireframeLinewidth=a.wireframeLinewidth;this.wireframeLinecap=a.wireframeLinecap;this.wireframeLinejoin=a.wireframeLinejoin;this.skinning=a.skinning;this.morphTargets=a.morphTargets;this.morphNormals=
a.morphNormals;return this};gc.prototype=Object.create(qa.prototype);gc.prototype.constructor=gc;gc.prototype.isLineDashedMaterial=!0;gc.prototype.copy=function(a){qa.prototype.copy.call(this,a);this.color.copy(a.color);this.linewidth=a.linewidth;this.scale=a.scale;this.dashSize=a.dashSize;this.gapSize=a.gapSize;return this};var Nf=Object.freeze({ShadowMaterial:pc,SpriteMaterial:vb,RawShaderMaterial:ed,ShaderMaterial:Ra,PointsMaterial:Ka,MeshPhysicalMaterial:jd,MeshStandardMaterial:ec,MeshPhongMaterial:rc,
MeshToonMaterial:rd,MeshNormalMaterial:sd,MeshLambertMaterial:Wc,MeshDepthMaterial:lb,MeshBasicMaterial:mb,LineDashedMaterial:gc,LineBasicMaterial:Ea,Material:qa}),pe={enabled:!1,files:{},add:function(a,b){!1!==this.enabled&&(this.files[a]=b)},get:function(a){if(!1!==this.enabled)return this.files[a]},remove:function(a){delete this.files[a]},clear:function(){this.files={}}},Hc=new ce;Object.assign(sc.prototype,{load:function(a,b,c,d){void 0===a&&(a="");void 0!==this.path&&(a=this.path+a);var e=this,
f=pe.get(a);if(void 0!==f)return e.manager.itemStart(a),setTimeout(function(){b&&b(f);e.manager.itemEnd(a)},0),f;var l=a.match(/^data:(.*?)(;base64)?,(.*)$/);if(l){var g=l[1],h=!!l[2];l=l[3];l=window.decodeURIComponent(l);h&&(l=window.atob(l));try{var k=(this.responseType||"").toLowerCase();switch(k){case "arraybuffer":case "blob":var r=new ArrayBuffer(l.length);var v=new Uint8Array(r);for(h=0;h<l.length;h++)v[h]=l.charCodeAt(h);"blob"===k&&(r=new Blob([r],{type:g}));break;case "document":r=(new DOMParser).parseFromString(l,
g);break;case "json":r=JSON.parse(l);break;default:r=l}window.setTimeout(function(){b&&b(r);e.manager.itemEnd(a)},0)}catch(Ta){window.setTimeout(function(){d&&d(Ta);e.manager.itemEnd(a);e.manager.itemError(a)},0)}}else{var n=new XMLHttpRequest;n.open("GET",a,!0);n.addEventListener("load",function(c){var f=c.target.response;pe.add(a,f);200===this.status?(b&&b(f),e.manager.itemEnd(a)):0===this.status?(console.warn("THREE.FileLoader: HTTP Status 0 received."),b&&b(f),e.manager.itemEnd(a)):(d&&d(c),e.manager.itemEnd(a),
e.manager.itemError(a))},!1);void 0!==c&&n.addEventListener("progress",function(a){c(a)},!1);n.addEventListener("error",function(b){d&&d(b);e.manager.itemEnd(a);e.manager.itemError(a)},!1);void 0!==this.responseType&&(n.responseType=this.responseType);void 0!==this.withCredentials&&(n.withCredentials=this.withCredentials);n.overrideMimeType&&n.overrideMimeType(void 0!==this.mimeType?this.mimeType:"text/plain");for(g in this.requestHeader)n.setRequestHeader(g,this.requestHeader[g]);n.send(null)}e.manager.itemStart(a);
return n},setPath:function(a){this.path=a;return this},setResponseType:function(a){this.responseType=a;return this},setWithCredentials:function(a){this.withCredentials=a;return this},setMimeType:function(a){this.mimeType=a;return this},setRequestHeader:function(a){this.requestHeader=a;return this}});Object.assign(Xc.prototype,{load:function(a,b,c,d){function e(e){k.load(a[e],function(a){a=l._parser(a,!0);g[e]={width:a.width,height:a.height,format:a.format,mipmaps:a.mipmaps};f+=1;6===f&&(1===a.mipmapCount&&
(h.minFilter=1006),h.format=a.format,h.needsUpdate=!0,b&&b(h))},c,d)}var f,l=this,g=[],h=new gb;h.image=g;var k=new sc(this.manager);k.setPath(this.path);k.setResponseType("arraybuffer");if(Array.isArray(a))for(var r=f=0,v=a.length;r<v;++r)e(r);else k.load(a,function(a){a=l._parser(a,!0);if(a.isCubemap)for(var e=a.mipmaps.length/a.mipmapCount,c=0;c<e;c++){g[c]={mipmaps:[]};for(var d=0;d<a.mipmapCount;d++)g[c].mipmaps.push(a.mipmaps[c*a.mipmapCount+d]),g[c].format=a.format,g[c].width=a.width,g[c].height=
a.height}else h.image.width=a.width,h.image.height=a.height,h.mipmaps=a.mipmaps;1===a.mipmapCount&&(h.minFilter=1006);h.format=a.format;h.needsUpdate=!0;b&&b(h)},c,d);return h},setPath:function(a){this.path=a;return this}});Object.assign(ic.prototype,{load:function(a,b,c,d){var e=this,f=new x,l=new sc(this.manager);l.setResponseType("arraybuffer");l.load(a,function(a){if(a=e._parser(a))void 0!==a.image?f.image=a.image:void 0!==a.data&&(f.image.width=a.width,f.image.height=a.height,f.image.data=a.data),
f.wrapS=void 0!==a.wrapS?a.wrapS:1001,f.wrapT=void 0!==a.wrapT?a.wrapT:1001,f.magFilter=void 0!==a.magFilter?a.magFilter:1006,f.minFilter=void 0!==a.minFilter?a.minFilter:1008,f.anisotropy=void 0!==a.anisotropy?a.anisotropy:1,void 0!==a.format&&(f.format=a.format),void 0!==a.type&&(f.type=a.type),void 0!==a.mipmaps&&(f.mipmaps=a.mipmaps),1===a.mipmapCount&&(f.minFilter=1006),f.needsUpdate=!0,b&&b(f,a)},c,d);return f}});Object.assign(ud.prototype,{load:function(a,b,c,d){void 0===a&&(a="");void 0!==
this.path&&(a=this.path+a);var e=this,f=pe.get(a);if(void 0!==f)return e.manager.itemStart(a),setTimeout(function(){b&&b(f);e.manager.itemEnd(a)},0),f;c=document.createElementNS("http://www.w3.org/1999/xhtml","img");c.addEventListener("load",function(){pe.add(a,this);b&&b(this);e.manager.itemEnd(a)},!1);c.addEventListener("error",function(b){d&&d(b);e.manager.itemEnd(a);e.manager.itemError(a)},!1);"data:"!==a.substr(0,5)&&void 0!==this.crossOrigin&&(c.crossOrigin=this.crossOrigin);e.manager.itemStart(a);
c.src=a;return c},setCrossOrigin:function(a){this.crossOrigin=a;return this},setPath:function(a){this.path=a;return this}});Object.assign(Da.prototype,{load:function(a,b,c,d){function e(e){l.load(a[e],function(a){f.images[e]=a;g++;6===g&&(f.needsUpdate=!0,b&&b(f))},void 0,d)}var f=new H,l=new ud(this.manager);l.setCrossOrigin(this.crossOrigin);l.setPath(this.path);var g=0;for(c=0;c<a.length;++c)e(c);return f},setCrossOrigin:function(a){this.crossOrigin=a;return this},setPath:function(a){this.path=
a;return this}});Object.assign(Od.prototype,{load:function(a,b,c,d){var e=new ud(this.manager);e.setCrossOrigin(this.crossOrigin);e.setPath(this.path);var f=new k;f.image=e.load(a,function(){var e=0<a.search(/\.(jpg|jpeg)$/)||0===a.search(/^data\:image\/jpeg/);f.format=e?1022:1023;f.needsUpdate=!0;void 0!==b&&b(f)},c,d);return f},setCrossOrigin:function(a){this.crossOrigin=a;return this},setPath:function(a){this.path=a;return this}});B.prototype=Object.assign(Object.create(O.prototype),{constructor:B,
isLight:!0,copy:function(a){O.prototype.copy.call(this,a);this.color.copy(a.color);this.intensity=a.intensity;return this},toJSON:function(a){a=O.prototype.toJSON.call(this,a);a.object.color=this.color.getHex();a.object.intensity=this.intensity;void 0!==this.groundColor&&(a.object.groundColor=this.groundColor.getHex());void 0!==this.distance&&(a.object.distance=this.distance);void 0!==this.angle&&(a.object.angle=this.angle);void 0!==this.decay&&(a.object.decay=this.decay);void 0!==this.penumbra&&
(a.object.penumbra=this.penumbra);void 0!==this.shadow&&(a.object.shadow=this.shadow.toJSON());return a}});Z.prototype=Object.assign(Object.create(B.prototype),{constructor:Z,isHemisphereLight:!0,copy:function(a){B.prototype.copy.call(this,a);this.groundColor.copy(a.groundColor);return this}});Object.assign(ya.prototype,{copy:function(a){this.camera=a.camera.clone();this.bias=a.bias;this.radius=a.radius;this.mapSize.copy(a.mapSize);return this},clone:function(){return(new this.constructor).copy(this)},
toJSON:function(){var a={};0!==this.bias&&(a.bias=this.bias);1!==this.radius&&(a.radius=this.radius);if(512!==this.mapSize.x||512!==this.mapSize.y)a.mapSize=this.mapSize.toArray();a.camera=this.camera.toJSON(!1).object;delete a.camera.matrix;return a}});ab.prototype=Object.assign(Object.create(ya.prototype),{constructor:ab,isSpotLightShadow:!0,update:function(a){var b=this.camera,e=2*Fa.RAD2DEG*a.angle,c=this.mapSize.width/this.mapSize.height;a=a.distance||b.far;if(e!==b.fov||c!==b.aspect||a!==b.far)b.fov=
e,b.aspect=c,b.far=a,b.updateProjectionMatrix()}});Dd.prototype=Object.assign(Object.create(B.prototype),{constructor:Dd,isSpotLight:!0,copy:function(a){B.prototype.copy.call(this,a);this.distance=a.distance;this.angle=a.angle;this.penumbra=a.penumbra;this.decay=a.decay;this.target=a.target.clone();this.shadow=a.shadow.clone();return this}});Pd.prototype=Object.assign(Object.create(B.prototype),{constructor:Pd,isPointLight:!0,copy:function(a){B.prototype.copy.call(this,a);this.distance=a.distance;
this.decay=a.decay;this.shadow=a.shadow.clone();return this}});Ec.prototype=Object.assign(Object.create(ya.prototype),{constructor:Ec});te.prototype=Object.assign(Object.create(B.prototype),{constructor:te,isDirectionalLight:!0,copy:function(a){B.prototype.copy.call(this,a);this.target=a.target.clone();this.shadow=a.shadow.clone();return this}});qe.prototype=Object.assign(Object.create(B.prototype),{constructor:qe,isAmbientLight:!0});re.prototype=Object.assign(Object.create(B.prototype),{constructor:re,
isRectAreaLight:!0,copy:function(a){B.prototype.copy.call(this,a);this.width=a.width;this.height=a.height;return this},toJSON:function(a){a=B.prototype.toJSON.call(this,a);a.object.width=this.width;a.object.height=this.height;return a}});var Yb={arraySlice:function(a,b,c){return Yb.isTypedArray(a)?new a.constructor(a.subarray(b,void 0!==c?c:a.length)):a.slice(b,c)},convertArray:function(a,b,c){return!a||!c&&a.constructor===b?a:"number"===typeof b.BYTES_PER_ELEMENT?new b(a):Array.prototype.slice.call(a)},
isTypedArray:function(a){return ArrayBuffer.isView(a)&&!(a instanceof DataView)},getKeyframeOrder:function(a){for(var b=a.length,e=Array(b),c=0;c!==b;++c)e[c]=c;e.sort(function(b,e){return a[b]-a[e]});return e},sortedArray:function(a,b,c){for(var e=a.length,d=new a.constructor(e),f=0,l=0;l!==e;++f)for(var g=c[f]*b,h=0;h!==b;++h)d[l++]=a[g+h];return d},flattenJSON:function(a,b,c,d){for(var e=1,f=a[0];void 0!==f&&void 0===f[d];)f=a[e++];if(void 0!==f){var l=f[d];if(void 0!==l)if(Array.isArray(l)){do l=
f[d],void 0!==l&&(b.push(f.time),c.push.apply(c,l)),f=a[e++];while(void 0!==f)}else if(void 0!==l.toArray){do l=f[d],void 0!==l&&(b.push(f.time),l.toArray(c,c.length)),f=a[e++];while(void 0!==f)}else{do l=f[d],void 0!==l&&(b.push(f.time),c.push(l)),f=a[e++];while(void 0!==f)}}}};Object.assign(Fc.prototype,{evaluate:function(a){var b=this.parameterPositions,e=this._cachedIndex,c=b[e],d=b[e-1];a:{b:{c:{d:if(!(a<c)){for(var f=e+2;;){if(void 0===c){if(a<d)break d;this._cachedIndex=e=b.length;return this.afterEnd_(e-
1,a,d)}if(e===f)break;d=c;c=b[++e];if(a<c)break b}c=b.length;break c}if(a>=d)break a;else{f=b[1];a<f&&(e=2,d=f);for(f=e-2;;){if(void 0===d)return this._cachedIndex=0,this.beforeStart_(0,a,c);if(e===f)break;c=d;d=b[--e-1];if(a>=d)break b}c=e;e=0}}for(;e<c;)d=e+c>>>1,a<b[d]?c=d:e=d+1;c=b[e];d=b[e-1];if(void 0===d)return this._cachedIndex=0,this.beforeStart_(0,a,c);if(void 0===c)return this._cachedIndex=e=b.length,this.afterEnd_(e-1,d,a)}this._cachedIndex=e;this.intervalChanged_(e,d,c)}return this.interpolate_(e,
d,a,c)},settings:null,DefaultSettings_:{},getSettings_:function(){return this.settings||this.DefaultSettings_},copySampleValue_:function(a){var b=this.resultBuffer,e=this.sampleValues,c=this.valueSize;a*=c;for(var d=0;d!==c;++d)b[d]=e[a+d];return b},interpolate_:function(a,b,c,d){throw Error("call to abstract method");},intervalChanged_:function(a,b,c){}});Object.assign(Fc.prototype,{beforeStart_:Fc.prototype.copySampleValue_,afterEnd_:Fc.prototype.copySampleValue_});se.prototype=Object.assign(Object.create(Fc.prototype),
{constructor:se,DefaultSettings_:{endingStart:2400,endingEnd:2400},intervalChanged_:function(a,b,c){var e=this.parameterPositions,d=a-2,f=a+1,l=e[d],g=e[f];if(void 0===l)switch(this.getSettings_().endingStart){case 2401:d=a;l=2*b-c;break;case 2402:d=e.length-2;l=b+e[d]-e[d+1];break;default:d=a,l=c}if(void 0===g)switch(this.getSettings_().endingEnd){case 2401:f=a;g=2*c-b;break;case 2402:f=1;g=c+e[1]-e[0];break;default:f=a-1,g=b}a=.5*(c-b);e=this.valueSize;this._weightPrev=a/(b-l);this._weightNext=
a/(g-c);this._offsetPrev=d*e;this._offsetNext=f*e},interpolate_:function(a,b,c,d){var e=this.resultBuffer,f=this.sampleValues,l=this.valueSize;a*=l;var g=a-l,h=this._offsetPrev,k=this._offsetNext,r=this._weightPrev,n=this._weightNext,v=(c-b)/(d-b);c=v*v;d=c*v;b=-r*d+2*r*c-r*v;r=(1+r)*d+(-1.5-2*r)*c+(-.5+r)*v+1;v=(-1-n)*d+(1.5+n)*c+.5*v;n=n*d-n*c;for(c=0;c!==l;++c)e[c]=b*f[h+c]+r*f[g+c]+v*f[a+c]+n*f[k+c];return e}});de.prototype=Object.assign(Object.create(Fc.prototype),{constructor:de,interpolate_:function(a,
b,c,d){var e=this.resultBuffer,f=this.sampleValues,l=this.valueSize;a*=l;var g=a-l;b=(c-b)/(d-b);c=1-b;for(d=0;d!==l;++d)e[d]=f[g+d]*c+f[a+d]*b;return e}});xe.prototype=Object.assign(Object.create(Fc.prototype),{constructor:xe,interpolate_:function(a,b,c,d){return this.copySampleValue_(a-1)}});var Gd={TimeBufferType:Float32Array,ValueBufferType:Float32Array,DefaultInterpolation:2301,InterpolantFactoryMethodDiscrete:function(a){return new xe(this.times,this.values,this.getValueSize(),a)},InterpolantFactoryMethodLinear:function(a){return new de(this.times,
this.values,this.getValueSize(),a)},InterpolantFactoryMethodSmooth:function(a){return new se(this.times,this.values,this.getValueSize(),a)},setInterpolation:function(a){switch(a){case 2300:var b=this.InterpolantFactoryMethodDiscrete;break;case 2301:b=this.InterpolantFactoryMethodLinear;break;case 2302:b=this.InterpolantFactoryMethodSmooth}if(void 0===b){b="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant)if(a!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);
else throw Error(b);console.warn("THREE.KeyframeTrackPrototype:",b)}else this.createInterpolant=b},getInterpolation:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return 2300;case this.InterpolantFactoryMethodLinear:return 2301;case this.InterpolantFactoryMethodSmooth:return 2302}},getValueSize:function(){return this.values.length/this.times.length},shift:function(a){if(0!==a)for(var b=this.times,e=0,c=b.length;e!==c;++e)b[e]+=a;return this},scale:function(a){if(1!==
a)for(var b=this.times,e=0,c=b.length;e!==c;++e)b[e]*=a;return this},trim:function(a,b){for(var e=this.times,c=e.length,d=0,f=c-1;d!==c&&e[d]<a;)++d;for(;-1!==f&&e[f]>b;)--f;++f;if(0!==d||f!==c)d>=f&&(f=Math.max(f,1),d=f-1),a=this.getValueSize(),this.times=Yb.arraySlice(e,d,f),this.values=Yb.arraySlice(this.values,d*a,f*a);return this},validate:function(){var a=!0,b=this.getValueSize();0!==b-Math.floor(b)&&(console.error("THREE.KeyframeTrackPrototype: Invalid value size in track.",this),a=!1);var c=
this.times;b=this.values;var d=c.length;0===d&&(console.error("THREE.KeyframeTrackPrototype: Track is empty.",this),a=!1);for(var f=null,g=0;g!==d;g++){var h=c[g];if("number"===typeof h&&isNaN(h)){console.error("THREE.KeyframeTrackPrototype: Time is not a valid number.",this,g,h);a=!1;break}if(null!==f&&f>h){console.error("THREE.KeyframeTrackPrototype: Out of order keys.",this,g,h,f);a=!1;break}f=h}if(void 0!==b&&Yb.isTypedArray(b))for(g=0,c=b.length;g!==c;++g)if(d=b[g],isNaN(d)){console.error("THREE.KeyframeTrackPrototype: Value is not a valid number.",
this,g,d);a=!1;break}return a},optimize:function(){for(var a,b,c=this.times,d=this.values,f=this.getValueSize(),g=2302===this.getInterpolation(),h=1,k=c.length-1,n=1;n<k;++n){a=!1;var m=c[n];if(m!==c[n+1]&&(1!==n||m!==m[0]))if(g)a=!0;else{b=n*f;var p=b-f,q=b+f;for(m=0;m!==f;++m){var t=d[b+m];if(t!==d[p+m]||t!==d[q+m]){a=!0;break}}}if(a){if(n!==h)for(c[h]=c[n],b=n*f,a=h*f,m=0;m!==f;++m)d[a+m]=d[b+m];++h}}if(0<k){c[h]=c[k];b=k*f;a=h*f;for(m=0;m!==f;++m)d[a+m]=d[b+m];++h}h!==c.length&&(this.times=Yb.arraySlice(c,
0,h),this.values=Yb.arraySlice(d,0,h*f));return this}};Td.prototype=Object.assign(Object.create(Gd),{constructor:Td,ValueTypeName:"vector"});ye.prototype=Object.assign(Object.create(Fc.prototype),{constructor:ye,interpolate_:function(a,b,c,d){var e=this.resultBuffer,f=this.sampleValues,l=this.valueSize;a*=l;b=(c-b)/(d-b);for(c=a+l;a!==c;a+=4)w.slerpFlat(e,0,f,a-l,f,a,b);return e}});ge.prototype=Object.assign(Object.create(Gd),{constructor:ge,ValueTypeName:"quaternion",DefaultInterpolation:2301,InterpolantFactoryMethodLinear:function(a){return new ye(this.times,
this.values,this.getValueSize(),a)},InterpolantFactoryMethodSmooth:void 0});Ud.prototype=Object.assign(Object.create(Gd),{constructor:Ud,ValueTypeName:"number"});ze.prototype=Object.assign(Object.create(Gd),{constructor:ze,ValueTypeName:"string",ValueBufferType:Array,DefaultInterpolation:2300,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0});Ae.prototype=Object.assign(Object.create(Gd),{constructor:Ae,ValueTypeName:"bool",ValueBufferType:Array,DefaultInterpolation:2300,
InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0});Be.prototype=Object.assign(Object.create(Gd),{constructor:Be,ValueTypeName:"color"});Id.prototype=Gd;Gd.constructor=Id;Object.assign(Id,{parse:function(a){if(void 0===a.type)throw Error("track type undefined, can not parse");var b=Id._getTrackTypeForValueTypeName(a.type);if(void 0===a.times){var e=[],c=[];Yb.flattenJSON(a.keys,e,c,"value");a.times=e;a.values=c}return void 0!==b.parse?b.parse(a):new b(a.name,a.times,a.values,
a.interpolation)},toJSON:function(a){var b=a.constructor;if(void 0!==b.toJSON)b=b.toJSON(a);else{b={name:a.name,times:Yb.convertArray(a.times,Array),values:Yb.convertArray(a.values,Array)};var e=a.getInterpolation();e!==a.DefaultInterpolation&&(b.interpolation=e)}b.type=a.ValueTypeName;return b},_getTrackTypeForValueTypeName:function(a){switch(a.toLowerCase()){case "scalar":case "double":case "float":case "number":case "integer":return Ud;case "vector":case "vector2":case "vector3":case "vector4":return Td;
case "color":return Be;case "quaternion":return ge;case "bool":case "boolean":return Ae;case "string":return ze}throw Error("Unsupported typeName: "+a);}});Object.assign(Vc,{parse:function(a){for(var b=[],e=a.tracks,c=1/(a.fps||1),d=0,f=e.length;d!==f;++d)b.push(Id.parse(e[d]).scale(c));return new Vc(a.name,a.duration,b)},toJSON:function(a){var b=[],e=a.tracks;a={name:a.name,duration:a.duration,tracks:b};for(var c=0,d=e.length;c!==d;++c)b.push(Id.toJSON(e[c]));return a},CreateFromMorphTargetSequence:function(a,
b,c,d){for(var e=b.length,f=[],l=0;l<e;l++){var g=[],h=[];g.push((l+e-1)%e,l,(l+1)%e);h.push(0,1,0);var k=Yb.getKeyframeOrder(g);g=Yb.sortedArray(g,1,k);h=Yb.sortedArray(h,1,k);d||0!==g[0]||(g.push(e),h.push(h[0]));f.push((new Ud(".morphTargetInfluences["+b[l].name+"]",g,h)).scale(1/c))}return new Vc(a,-1,f)},findByName:function(a,b){var e=a;Array.isArray(a)||(e=a.geometry&&a.geometry.animations||a.animations);for(a=0;a<e.length;a++)if(e[a].name===b)return e[a];return null},CreateClipsFromMorphTargetSequences:function(a,
b,c){for(var e,d={},f=/^([\w-]*?)([\d]+)$/,l=0,g=a.length;l<g;l++){var h=a[l],k=h.name.match(f);k&&1<k.length&&(e=k[1],(k=d[e])||(d[e]=k=[]),k.push(h))}a=[];for(e in d)a.push(Vc.CreateFromMorphTargetSequence(e,d[e],b,c));return a},parseAnimation:function(a,b){if(!a)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;var e=function(a,b,e,c,d){if(0!==e.length){var f=[],l=[];Yb.flattenJSON(e,f,l,c);0!==f.length&&d.push(new a(b,f,l))}},c=[],d=a.name||"default",f=a.length||
-1,l=a.fps||30;a=a.hierarchy||[];for(var g=0;g<a.length;g++){var h=a[g].keys;if(h&&0!==h.length)if(h[0].morphTargets){f={};for(var k=0;k<h.length;k++)if(h[k].morphTargets)for(var n=0;n<h[k].morphTargets.length;n++)f[h[k].morphTargets[n]]=-1;for(var m in f){var p=[],q=[];for(n=0;n!==h[k].morphTargets.length;++n){var t=h[k];p.push(t.time);q.push(t.morphTarget===m?1:0)}c.push(new Ud(".morphTargetInfluence["+m+"]",p,q))}f=f.length*(l||1)}else k=".bones["+b[g].name+"]",e(Td,k+".position",h,"pos",c),e(ge,
k+".quaternion",h,"rot",c),e(Td,k+".scale",h,"scl",c)}return 0===c.length?null:new Vc(d,f,c)}});Object.assign(Vc.prototype,{resetDuration:function(){for(var a=0,b=0,c=this.tracks.length;b!==c;++b){var d=this.tracks[b];a=Math.max(a,d.times[d.times.length-1])}this.duration=a},trim:function(){for(var a=0;a<this.tracks.length;a++)this.tracks[a].trim(0,this.duration);return this},optimize:function(){for(var a=0;a<this.tracks.length;a++)this.tracks[a].optimize();return this}});Object.assign(ue.prototype,
{load:function(a,b,c,d){var e=this;(new sc(e.manager)).load(a,function(a){b(e.parse(JSON.parse(a)))},c,d)},setTextures:function(a){this.textures=a},parse:function(a){function b(a){void 0===e[a]&&console.warn("THREE.MaterialLoader: Undefined texture",a);return e[a]}var e=this.textures,c=new Nf[a.type];void 0!==a.uuid&&(c.uuid=a.uuid);void 0!==a.name&&(c.name=a.name);void 0!==a.color&&c.color.setHex(a.color);void 0!==a.roughness&&(c.roughness=a.roughness);void 0!==a.metalness&&(c.metalness=a.metalness);
void 0!==a.emissive&&c.emissive.setHex(a.emissive);void 0!==a.specular&&c.specular.setHex(a.specular);void 0!==a.shininess&&(c.shininess=a.shininess);void 0!==a.clearCoat&&(c.clearCoat=a.clearCoat);void 0!==a.clearCoatRoughness&&(c.clearCoatRoughness=a.clearCoatRoughness);void 0!==a.uniforms&&(c.uniforms=a.uniforms);void 0!==a.vertexShader&&(c.vertexShader=a.vertexShader);void 0!==a.fragmentShader&&(c.fragmentShader=a.fragmentShader);void 0!==a.vertexColors&&(c.vertexColors=a.vertexColors);void 0!==
a.fog&&(c.fog=a.fog);void 0!==a.shading&&(c.shading=a.shading);void 0!==a.blending&&(c.blending=a.blending);void 0!==a.side&&(c.side=a.side);void 0!==a.opacity&&(c.opacity=a.opacity);void 0!==a.transparent&&(c.transparent=a.transparent);void 0!==a.alphaTest&&(c.alphaTest=a.alphaTest);void 0!==a.depthTest&&(c.depthTest=a.depthTest);void 0!==a.depthWrite&&(c.depthWrite=a.depthWrite);void 0!==a.colorWrite&&(c.colorWrite=a.colorWrite);void 0!==a.wireframe&&(c.wireframe=a.wireframe);void 0!==a.wireframeLinewidth&&
(c.wireframeLinewidth=a.wireframeLinewidth);void 0!==a.wireframeLinecap&&(c.wireframeLinecap=a.wireframeLinecap);void 0!==a.wireframeLinejoin&&(c.wireframeLinejoin=a.wireframeLinejoin);void 0!==a.skinning&&(c.skinning=a.skinning);void 0!==a.morphTargets&&(c.morphTargets=a.morphTargets);void 0!==a.size&&(c.size=a.size);void 0!==a.sizeAttenuation&&(c.sizeAttenuation=a.sizeAttenuation);void 0!==a.map&&(c.map=b(a.map));void 0!==a.alphaMap&&(c.alphaMap=b(a.alphaMap),c.transparent=!0);void 0!==a.bumpMap&&
(c.bumpMap=b(a.bumpMap));void 0!==a.bumpScale&&(c.bumpScale=a.bumpScale);void 0!==a.normalMap&&(c.normalMap=b(a.normalMap));if(void 0!==a.normalScale){var d=a.normalScale;!1===Array.isArray(d)&&(d=[d,d]);c.normalScale=(new f).fromArray(d)}void 0!==a.displacementMap&&(c.displacementMap=b(a.displacementMap));void 0!==a.displacementScale&&(c.displacementScale=a.displacementScale);void 0!==a.displacementBias&&(c.displacementBias=a.displacementBias);void 0!==a.roughnessMap&&(c.roughnessMap=b(a.roughnessMap));
void 0!==a.metalnessMap&&(c.metalnessMap=b(a.metalnessMap));void 0!==a.emissiveMap&&(c.emissiveMap=b(a.emissiveMap));void 0!==a.emissiveIntensity&&(c.emissiveIntensity=a.emissiveIntensity);void 0!==a.specularMap&&(c.specularMap=b(a.specularMap));void 0!==a.envMap&&(c.envMap=b(a.envMap));void 0!==a.reflectivity&&(c.reflectivity=a.reflectivity);void 0!==a.lightMap&&(c.lightMap=b(a.lightMap));void 0!==a.lightMapIntensity&&(c.lightMapIntensity=a.lightMapIntensity);void 0!==a.aoMap&&(c.aoMap=b(a.aoMap));
void 0!==a.aoMapIntensity&&(c.aoMapIntensity=a.aoMapIntensity);void 0!==a.gradientMap&&(c.gradientMap=b(a.gradientMap));return c}});Object.assign(Qe.prototype,{load:function(a,b,c,d){var e=this;(new sc(e.manager)).load(a,function(a){b(e.parse(JSON.parse(a)))},c,d)},parse:function(a){var e=new ca;var c=a.data.index;void 0!==c&&(c=new Df[c.type](c.array),e.setIndex(new sa(c,1)));var d=a.data.attributes;for(g in d){var f=d[g];c=new Df[f.type](f.array);e.addAttribute(g,new sa(c,f.itemSize,f.normalized))}var g=
a.data.groups||a.data.drawcalls||a.data.offsets;if(void 0!==g)for(c=0,d=g.length;c!==d;++c)f=g[c],e.addGroup(f.start,f.count,f.materialIndex);a=a.data.boundingSphere;void 0!==a&&(g=new b,void 0!==a.center&&g.fromArray(a.center),e.boundingSphere=new N(g,a.radius));return e}});var Df={Int8Array:Int8Array,Uint8Array:Uint8Array,Uint8ClampedArray:"undefined"!==typeof Uint8ClampedArray?Uint8ClampedArray:Uint8Array,Int16Array:Int16Array,Uint16Array:Uint16Array,Int32Array:Int32Array,Uint32Array:Uint32Array,
Float32Array:Float32Array,Float64Array:Float64Array};Vd.Handlers={handlers:[],add:function(a,b){this.handlers.push(a,b)},get:function(a){for(var b=this.handlers,e=0,c=b.length;e<c;e+=2){var d=b[e+1];if(b[e].test(a))return d}return null}};Object.assign(Vd.prototype,{crossOrigin:void 0,extractUrlBase:function(a){a=a.split("/");if(1===a.length)return"./";a.pop();return a.join("/")+"/"},initMaterials:function(a,b,c){for(var e=[],d=0;d<a.length;++d)e[d]=this.createMaterial(a[d],b,c);return e},createMaterial:function(){var a=
{NoBlending:0,NormalBlending:1,AdditiveBlending:2,SubtractiveBlending:3,MultiplyBlending:4,CustomBlending:5},b=new Q,c=new Od,d=new ue;return function(e,f,g){function l(a,b,e,d,l){a=f+a;var k=Vd.Handlers.get(a);null!==k?a=k.load(a):(c.setCrossOrigin(g),a=c.load(a));void 0!==b&&(a.repeat.fromArray(b),1!==b[0]&&(a.wrapS=1E3),1!==b[1]&&(a.wrapT=1E3));void 0!==e&&a.offset.fromArray(e);void 0!==d&&("repeat"===d[0]&&(a.wrapS=1E3),"mirror"===d[0]&&(a.wrapS=1002),"repeat"===d[1]&&(a.wrapT=1E3),"mirror"===
d[1]&&(a.wrapT=1002));void 0!==l&&(a.anisotropy=l);b=Fa.generateUUID();h[b]=a;return b}var h={},k={uuid:Fa.generateUUID(),type:"MeshLambertMaterial"},r;for(r in e){var n=e[r];switch(r){case "DbgColor":case "DbgIndex":case "opticalDensity":case "illumination":break;case "DbgName":k.name=n;break;case "blending":k.blending=a[n];break;case "colorAmbient":case "mapAmbient":console.warn("THREE.Loader.createMaterial:",r,"is no longer supported.");break;case "colorDiffuse":k.color=b.fromArray(n).getHex();
break;case "colorSpecular":k.specular=b.fromArray(n).getHex();break;case "colorEmissive":k.emissive=b.fromArray(n).getHex();break;case "specularCoef":k.shininess=n;break;case "shading":"basic"===n.toLowerCase()&&(k.type="MeshBasicMaterial");"phong"===n.toLowerCase()&&(k.type="MeshPhongMaterial");"standard"===n.toLowerCase()&&(k.type="MeshStandardMaterial");break;case "mapDiffuse":k.map=l(n,e.mapDiffuseRepeat,e.mapDiffuseOffset,e.mapDiffuseWrap,e.mapDiffuseAnisotropy);break;case "mapDiffuseRepeat":case "mapDiffuseOffset":case "mapDiffuseWrap":case "mapDiffuseAnisotropy":break;
case "mapEmissive":k.emissiveMap=l(n,e.mapEmissiveRepeat,e.mapEmissiveOffset,e.mapEmissiveWrap,e.mapEmissiveAnisotropy);break;case "mapEmissiveRepeat":case "mapEmissiveOffset":case "mapEmissiveWrap":case "mapEmissiveAnisotropy":break;case "mapLight":k.lightMap=l(n,e.mapLightRepeat,e.mapLightOffset,e.mapLightWrap,e.mapLightAnisotropy);break;case "mapLightRepeat":case "mapLightOffset":case "mapLightWrap":case "mapLightAnisotropy":break;case "mapAO":k.aoMap=l(n,e.mapAORepeat,e.mapAOOffset,e.mapAOWrap,
e.mapAOAnisotropy);break;case "mapAORepeat":case "mapAOOffset":case "mapAOWrap":case "mapAOAnisotropy":break;case "mapBump":k.bumpMap=l(n,e.mapBumpRepeat,e.mapBumpOffset,e.mapBumpWrap,e.mapBumpAnisotropy);break;case "mapBumpScale":k.bumpScale=n;break;case "mapBumpRepeat":case "mapBumpOffset":case "mapBumpWrap":case "mapBumpAnisotropy":break;case "mapNormal":k.normalMap=l(n,e.mapNormalRepeat,e.mapNormalOffset,e.mapNormalWrap,e.mapNormalAnisotropy);break;case "mapNormalFactor":k.normalScale=[n,n];break;
case "mapNormalRepeat":case "mapNormalOffset":case "mapNormalWrap":case "mapNormalAnisotropy":break;case "mapSpecular":k.specularMap=l(n,e.mapSpecularRepeat,e.mapSpecularOffset,e.mapSpecularWrap,e.mapSpecularAnisotropy);break;case "mapSpecularRepeat":case "mapSpecularOffset":case "mapSpecularWrap":case "mapSpecularAnisotropy":break;case "mapMetalness":k.metalnessMap=l(n,e.mapMetalnessRepeat,e.mapMetalnessOffset,e.mapMetalnessWrap,e.mapMetalnessAnisotropy);break;case "mapMetalnessRepeat":case "mapMetalnessOffset":case "mapMetalnessWrap":case "mapMetalnessAnisotropy":break;
case "mapRoughness":k.roughnessMap=l(n,e.mapRoughnessRepeat,e.mapRoughnessOffset,e.mapRoughnessWrap,e.mapRoughnessAnisotropy);break;case "mapRoughnessRepeat":case "mapRoughnessOffset":case "mapRoughnessWrap":case "mapRoughnessAnisotropy":break;case "mapAlpha":k.alphaMap=l(n,e.mapAlphaRepeat,e.mapAlphaOffset,e.mapAlphaWrap,e.mapAlphaAnisotropy);break;case "mapAlphaRepeat":case "mapAlphaOffset":case "mapAlphaWrap":case "mapAlphaAnisotropy":break;case "flipSided":k.side=1;break;case "doubleSided":k.side=
2;break;case "transparency":console.warn("THREE.Loader.createMaterial: transparency has been renamed to opacity");k.opacity=n;break;case "depthTest":case "depthWrite":case "colorWrite":case "opacity":case "reflectivity":case "transparent":case "visible":case "wireframe":k[r]=n;break;case "vertexColors":!0===n&&(k.vertexColors=2);"face"===n&&(k.vertexColors=1);break;default:console.error("THREE.Loader.createMaterial: Unsupported",r,n)}}"MeshBasicMaterial"===k.type&&delete k.emissive;"MeshPhongMaterial"!==
k.type&&delete k.specular;1>k.opacity&&(k.transparent=!0);d.setTextures(h);return d.parse(k)}}()});Object.assign(Ke.prototype,{load:function(a,b,c,d){var e=this,f=this.texturePath&&"string"===typeof this.texturePath?this.texturePath:Vd.prototype.extractUrlBase(a),l=new sc(this.manager);l.setWithCredentials(this.withCredentials);l.load(a,function(c){c=JSON.parse(c);var d=c.metadata;if(void 0!==d&&(d=d.type,void 0!==d)){if("object"===d.toLowerCase()){console.error("THREE.JSONLoader: "+a+" should be loaded with THREE.ObjectLoader instead.");
return}if("scene"===d.toLowerCase()){console.error("THREE.JSONLoader: "+a+" should be loaded with THREE.SceneLoader instead.");return}}c=e.parse(c,f);b(c.geometry,c.materials)},c,d)},setTexturePath:function(a){this.texturePath=a},parse:function(){return function(a,c){void 0!==a.data&&(a=a.data);a.scale=void 0!==a.scale?1/a.scale:1;var e=new ia,d=a,l,g,h,k=d.faces;var m=d.vertices;var p=d.normals,q=d.colors;var t=d.scale;var w=0;if(void 0!==d.uvs){for(l=0;l<d.uvs.length;l++)d.uvs[l].length&&w++;for(l=
0;l<w;l++)e.faceVertexUvs[l]=[]}var u=0;for(h=m.length;u<h;)l=new b,l.x=m[u++]*t,l.y=m[u++]*t,l.z=m[u++]*t,e.vertices.push(l);u=0;for(h=k.length;u<h;){m=k[u++];var x=m&1;var A=m&2;l=m&8;var z=m&16;var K=m&32;t=m&64;m&=128;if(x){x=new Za;x.a=k[u];x.b=k[u+1];x.c=k[u+3];var E=new Za;E.a=k[u+1];E.b=k[u+2];E.c=k[u+3];u+=4;A&&(A=k[u++],x.materialIndex=A,E.materialIndex=A);A=e.faces.length;if(l)for(l=0;l<w;l++){var B=d.uvs[l];e.faceVertexUvs[l][A]=[];e.faceVertexUvs[l][A+1]=[];for(g=0;4>g;g++){var H=k[u++];
var F=B[2*H];H=B[2*H+1];F=new f(F,H);2!==g&&e.faceVertexUvs[l][A].push(F);0!==g&&e.faceVertexUvs[l][A+1].push(F)}}z&&(z=3*k[u++],x.normal.set(p[z++],p[z++],p[z]),E.normal.copy(x.normal));if(K)for(l=0;4>l;l++)z=3*k[u++],K=new b(p[z++],p[z++],p[z]),2!==l&&x.vertexNormals.push(K),0!==l&&E.vertexNormals.push(K);t&&(t=k[u++],t=q[t],x.color.setHex(t),E.color.setHex(t));if(m)for(l=0;4>l;l++)t=k[u++],t=q[t],2!==l&&x.vertexColors.push(new Q(t)),0!==l&&E.vertexColors.push(new Q(t));e.faces.push(x);e.faces.push(E)}else{x=
new Za;x.a=k[u++];x.b=k[u++];x.c=k[u++];A&&(A=k[u++],x.materialIndex=A);A=e.faces.length;if(l)for(l=0;l<w;l++)for(B=d.uvs[l],e.faceVertexUvs[l][A]=[],g=0;3>g;g++)H=k[u++],F=B[2*H],H=B[2*H+1],F=new f(F,H),e.faceVertexUvs[l][A].push(F);z&&(z=3*k[u++],x.normal.set(p[z++],p[z++],p[z]));if(K)for(l=0;3>l;l++)z=3*k[u++],K=new b(p[z++],p[z++],p[z]),x.vertexNormals.push(K);t&&(t=k[u++],x.color.setHex(q[t]));if(m)for(l=0;3>l;l++)t=k[u++],x.vertexColors.push(new Q(q[t]));e.faces.push(x)}}d=a;u=void 0!==d.influencesPerVertex?
d.influencesPerVertex:2;if(d.skinWeights)for(h=0,k=d.skinWeights.length;h<k;h+=u)e.skinWeights.push(new n(d.skinWeights[h],1<u?d.skinWeights[h+1]:0,2<u?d.skinWeights[h+2]:0,3<u?d.skinWeights[h+3]:0));if(d.skinIndices)for(h=0,k=d.skinIndices.length;h<k;h+=u)e.skinIndices.push(new n(d.skinIndices[h],1<u?d.skinIndices[h+1]:0,2<u?d.skinIndices[h+2]:0,3<u?d.skinIndices[h+3]:0));e.bones=d.bones;e.bones&&0<e.bones.length&&(e.skinWeights.length!==e.skinIndices.length||e.skinIndices.length!==e.vertices.length)&&
console.warn("When skinning, number of vertices ("+e.vertices.length+"), skinIndices ("+e.skinIndices.length+"), and skinWeights ("+e.skinWeights.length+") should match.");h=a;k=h.scale;if(void 0!==h.morphTargets)for(d=0,u=h.morphTargets.length;d<u;d++)for(e.morphTargets[d]={},e.morphTargets[d].name=h.morphTargets[d].name,e.morphTargets[d].vertices=[],p=e.morphTargets[d].vertices,q=h.morphTargets[d].vertices,w=0,m=q.length;w<m;w+=3)t=new b,t.x=q[w]*k,t.y=q[w+1]*k,t.z=q[w+2]*k,p.push(t);if(void 0!==
h.morphColors&&0<h.morphColors.length)for(console.warn('THREE.JSONLoader: "morphColors" no longer supported. Using them as face colors.'),k=e.faces,h=h.morphColors[0].colors,d=0,u=k.length;d<u;d++)k[d].color.fromArray(h,3*d);h=a;d=[];u=[];void 0!==h.animation&&u.push(h.animation);void 0!==h.animations&&(h.animations.length?u=u.concat(h.animations):u.push(h.animations));for(h=0;h<u.length;h++)(k=Vc.parseAnimation(u[h],e.bones))&&d.push(k);e.morphTargets&&(u=Vc.CreateClipsFromMorphTargetSequences(e.morphTargets,
10),d=d.concat(u));0<d.length&&(e.animations=d);e.computeFaceNormals();e.computeBoundingSphere();if(void 0===a.materials||0===a.materials.length)return{geometry:e};a=Vd.prototype.initMaterials(a.materials,c,this.crossOrigin);return{geometry:e,materials:a}}}()});Object.assign(lf.prototype,{load:function(a,b,c,d){""===this.texturePath&&(this.texturePath=a.substring(0,a.lastIndexOf("/")+1));var e=this;(new sc(e.manager)).load(a,function(c){var f=null;try{f=JSON.parse(c)}catch(P){void 0!==d&&d(P);console.error("THREE:ObjectLoader: Can't parse "+
a+".",P.message);return}c=f.metadata;void 0===c||void 0===c.type||"geometry"===c.type.toLowerCase()?console.error("THREE.ObjectLoader: Can't load "+a+". Use THREE.JSONLoader instead."):e.parse(f,b)},c,d)},setTexturePath:function(a){this.texturePath=a},setCrossOrigin:function(a){this.crossOrigin=a},parse:function(a,b){var e=this.parseGeometries(a.geometries),c=this.parseImages(a.images,function(){void 0!==b&&b(d)});c=this.parseTextures(a.textures,c);c=this.parseMaterials(a.materials,c);var d=this.parseObject(a.object,
e,c);a.animations&&(d.animations=this.parseAnimations(a.animations));void 0!==a.images&&0!==a.images.length||void 0===b||b(d);return d},parseGeometries:function(a){var b={};if(void 0!==a)for(var e=new Ke,c=new Qe,d=0,f=a.length;d<f;d++){var g=a[d];switch(g.type){case "PlaneGeometry":case "PlaneBufferGeometry":var h=new id[g.type](g.width,g.height,g.widthSegments,g.heightSegments);break;case "BoxGeometry":case "BoxBufferGeometry":case "CubeGeometry":h=new id[g.type](g.width,g.height,g.depth,g.widthSegments,
g.heightSegments,g.depthSegments);break;case "CircleGeometry":case "CircleBufferGeometry":h=new id[g.type](g.radius,g.segments,g.thetaStart,g.thetaLength);break;case "CylinderGeometry":case "CylinderBufferGeometry":h=new id[g.type](g.radiusTop,g.radiusBottom,g.height,g.radialSegments,g.heightSegments,g.openEnded,g.thetaStart,g.thetaLength);break;case "ConeGeometry":case "ConeBufferGeometry":h=new id[g.type](g.radius,g.height,g.radialSegments,g.heightSegments,g.openEnded,g.thetaStart,g.thetaLength);
break;case "SphereGeometry":case "SphereBufferGeometry":h=new id[g.type](g.radius,g.widthSegments,g.heightSegments,g.phiStart,g.phiLength,g.thetaStart,g.thetaLength);break;case "DodecahedronGeometry":case "IcosahedronGeometry":case "OctahedronGeometry":case "TetrahedronGeometry":h=new id[g.type](g.radius,g.detail);break;case "RingGeometry":case "RingBufferGeometry":h=new id[g.type](g.innerRadius,g.outerRadius,g.thetaSegments,g.phiSegments,g.thetaStart,g.thetaLength);break;case "TorusGeometry":case "TorusBufferGeometry":h=
new id[g.type](g.radius,g.tube,g.radialSegments,g.tubularSegments,g.arc);break;case "TorusKnotGeometry":case "TorusKnotBufferGeometry":h=new id[g.type](g.radius,g.tube,g.tubularSegments,g.radialSegments,g.p,g.q);break;case "LatheGeometry":case "LatheBufferGeometry":h=new id[g.type](g.points,g.segments,g.phiStart,g.phiLength);break;case "BufferGeometry":h=c.parse(g);break;case "Geometry":h=e.parse(g,this.texturePath).geometry;break;default:console.warn('THREE.ObjectLoader: Unsupported geometry type "'+
g.type+'"');continue}h.uuid=g.uuid;void 0!==g.name&&(h.name=g.name);b[g.uuid]=h}return b},parseMaterials:function(a,b){var e={};if(void 0!==a){var c=new ue;c.setTextures(b);b=0;for(var d=a.length;b<d;b++){var f=a[b];if("MultiMaterial"===f.type){for(var g=[],l=0;l<f.materials.length;l++)g.push(c.parse(f.materials[l]));e[f.uuid]=g}else e[f.uuid]=c.parse(f)}}return e},parseAnimations:function(a){for(var b=[],e=0;e<a.length;e++){var c=Vc.parse(a[e]);b.push(c)}return b},parseImages:function(a,b){function e(a){c.manager.itemStart(a);
return f.load(a,function(){c.manager.itemEnd(a)},void 0,function(){c.manager.itemEnd(a);c.manager.itemError(a)})}var c=this,d={};if(void 0!==a&&0<a.length){b=new ce(b);var f=new ud(b);f.setCrossOrigin(this.crossOrigin);b=0;for(var g=a.length;b<g;b++){var l=a[b],h=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(l.url)?l.url:c.texturePath+l.url;d[l.uuid]=e(h)}}return d},parseTextures:function(a,b){function e(a,b){if("number"===typeof a)return a;console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",
a);return b[a]}var c={};if(void 0!==a)for(var d=0,f=a.length;d<f;d++){var g=a[d];void 0===g.image&&console.warn('THREE.ObjectLoader: No "image" specified for',g.uuid);void 0===b[g.image]&&console.warn("THREE.ObjectLoader: Undefined image",g.image);var l=new k(b[g.image]);l.needsUpdate=!0;l.uuid=g.uuid;void 0!==g.name&&(l.name=g.name);void 0!==g.mapping&&(l.mapping=e(g.mapping,Of));void 0!==g.offset&&l.offset.fromArray(g.offset);void 0!==g.repeat&&l.repeat.fromArray(g.repeat);void 0!==g.wrap&&(l.wrapS=
e(g.wrap[0],Ef),l.wrapT=e(g.wrap[1],Ef));void 0!==g.minFilter&&(l.minFilter=e(g.minFilter,Ff));void 0!==g.magFilter&&(l.magFilter=e(g.magFilter,Ff));void 0!==g.anisotropy&&(l.anisotropy=g.anisotropy);void 0!==g.flipY&&(l.flipY=g.flipY);c[g.uuid]=l}return c},parseObject:function(){var a=new t;return function(b,e,c){function d(a){void 0===e[a]&&console.warn("THREE.ObjectLoader: Undefined geometry",a);return e[a]}function f(a){if(void 0!==a){if(Array.isArray(a)){for(var b=[],e=0,d=a.length;e<d;e++){var f=
a[e];void 0===c[f]&&console.warn("THREE.ObjectLoader: Undefined material",f);b.push(c[f])}return b}void 0===c[a]&&console.warn("THREE.ObjectLoader: Undefined material",a);return c[a]}}switch(b.type){case "Scene":var g=new wc;void 0!==b.background&&Number.isInteger(b.background)&&(g.background=new Q(b.background));void 0!==b.fog&&("Fog"===b.fog.type?g.fog=new ua(b.fog.color,b.fog.near,b.fog.far):"FogExp2"===b.fog.type&&(g.fog=new ub(b.fog.color,b.fog.density)));break;case "PerspectiveCamera":g=new Qa(b.fov,
b.aspect,b.near,b.far);void 0!==b.focus&&(g.focus=b.focus);void 0!==b.zoom&&(g.zoom=b.zoom);void 0!==b.filmGauge&&(g.filmGauge=b.filmGauge);void 0!==b.filmOffset&&(g.filmOffset=b.filmOffset);void 0!==b.view&&(g.view=Object.assign({},b.view));break;case "OrthographicCamera":g=new S(b.left,b.right,b.top,b.bottom,b.near,b.far);break;case "AmbientLight":g=new qe(b.color,b.intensity);break;case "DirectionalLight":g=new te(b.color,b.intensity);break;case "PointLight":g=new Pd(b.color,b.intensity,b.distance,
b.decay);break;case "RectAreaLight":g=new re(b.color,b.intensity,b.width,b.height);break;case "SpotLight":g=new Dd(b.color,b.intensity,b.distance,b.angle,b.penumbra,b.decay);break;case "HemisphereLight":g=new Z(b.color,b.groundColor,b.intensity);break;case "SkinnedMesh":console.warn("THREE.ObjectLoader.parseObject() does not support SkinnedMesh yet.");case "Mesh":g=d(b.geometry);var l=f(b.material);g=g.bones&&0<g.bones.length?new Tb(g,l):new Ga(g,l);break;case "LOD":g=new pb;break;case "Line":g=new kb(d(b.geometry),
f(b.material),b.mode);break;case "LineLoop":g=new xc(d(b.geometry),f(b.material));break;case "LineSegments":g=new va(d(b.geometry),f(b.material));break;case "PointCloud":case "Points":g=new wb(d(b.geometry),f(b.material));break;case "Sprite":g=new Dc(f(b.material));break;case "Group":g=new rb;break;default:g=new O}g.uuid=b.uuid;void 0!==b.name&&(g.name=b.name);void 0!==b.matrix?(a.fromArray(b.matrix),a.decompose(g.position,g.quaternion,g.scale)):(void 0!==b.position&&g.position.fromArray(b.position),
void 0!==b.rotation&&g.rotation.fromArray(b.rotation),void 0!==b.quaternion&&g.quaternion.fromArray(b.quaternion),void 0!==b.scale&&g.scale.fromArray(b.scale));void 0!==b.castShadow&&(g.castShadow=b.castShadow);void 0!==b.receiveShadow&&(g.receiveShadow=b.receiveShadow);b.shadow&&(void 0!==b.shadow.bias&&(g.shadow.bias=b.shadow.bias),void 0!==b.shadow.radius&&(g.shadow.radius=b.shadow.radius),void 0!==b.shadow.mapSize&&g.shadow.mapSize.fromArray(b.shadow.mapSize),void 0!==b.shadow.camera&&(g.shadow.camera=
this.parseObject(b.shadow.camera)));void 0!==b.visible&&(g.visible=b.visible);void 0!==b.userData&&(g.userData=b.userData);if(void 0!==b.children)for(k in b.children)g.add(this.parseObject(b.children[k],e,c));if("LOD"===b.type)for(b=b.levels,l=0;l<b.length;l++){var h=b[l];var k=g.getObjectByProperty("uuid",h.object);void 0!==k&&g.addLevel(k,h.distance)}return g}}()});var Of={UVMapping:300,CubeReflectionMapping:301,CubeRefractionMapping:302,EquirectangularReflectionMapping:303,EquirectangularRefractionMapping:304,
SphericalReflectionMapping:305,CubeUVReflectionMapping:306,CubeUVRefractionMapping:307},Ef={RepeatWrapping:1E3,ClampToEdgeWrapping:1001,MirroredRepeatWrapping:1002},Ff={NearestFilter:1003,NearestMipMapNearestFilter:1004,NearestMipMapLinearFilter:1005,LinearFilter:1006,LinearMipMapNearestFilter:1007,LinearMipMapLinearFilter:1008};Object.assign(fc.prototype,{getPoint:function(){console.warn("THREE.Curve: .getPoint() not implemented.");return null},getPointAt:function(a){a=this.getUtoTmapping(a);return this.getPoint(a)},
getPoints:function(a){void 0===a&&(a=5);for(var b=[],e=0;e<=a;e++)b.push(this.getPoint(e/a));return b},getSpacedPoints:function(a){void 0===a&&(a=5);for(var b=[],e=0;e<=a;e++)b.push(this.getPointAt(e/a));return b},getLength:function(){var a=this.getLengths();return a[a.length-1]},getLengths:function(a){void 0===a&&(a=this.arcLengthDivisions);if(this.cacheArcLengths&&this.cacheArcLengths.length===a+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var b=[],e=this.getPoint(0),c,d=
0;b.push(0);for(c=1;c<=a;c++){var f=this.getPoint(c/a);d+=f.distanceTo(e);b.push(d);e=f}return this.cacheArcLengths=b},updateArcLengths:function(){this.needsUpdate=!0;this.getLengths()},getUtoTmapping:function(a,b){var e=this.getLengths(),c=e.length;b=b?b:a*e[c-1];for(var d=0,f=c-1,g;d<=f;)if(a=Math.floor(d+(f-d)/2),g=e[a]-b,0>g)d=a+1;else if(0<g)f=a-1;else{f=a;break}a=f;if(e[a]===b)return a/(c-1);d=e[a];return(a+(b-d)/(e[a+1]-d))/(c-1)},getTangent:function(a){var b=a-1E-4;a+=1E-4;0>b&&(b=0);1<a&&
(a=1);b=this.getPoint(b);return this.getPoint(a).clone().sub(b).normalize()},getTangentAt:function(a){a=this.getUtoTmapping(a);return this.getTangent(a)},computeFrenetFrames:function(a,c){var e=new b,d=[],f=[],g=[],l=new b,h=new t,k;for(k=0;k<=a;k++){var n=k/a;d[k]=this.getTangentAt(n);d[k].normalize()}f[0]=new b;g[0]=new b;k=Number.MAX_VALUE;n=Math.abs(d[0].x);var m=Math.abs(d[0].y),p=Math.abs(d[0].z);n<=k&&(k=n,e.set(1,0,0));m<=k&&(k=m,e.set(0,1,0));p<=k&&e.set(0,0,1);l.crossVectors(d[0],e).normalize();
f[0].crossVectors(d[0],l);g[0].crossVectors(d[0],f[0]);for(k=1;k<=a;k++)f[k]=f[k-1].clone(),g[k]=g[k-1].clone(),l.crossVectors(d[k-1],d[k]),l.length()>Number.EPSILON&&(l.normalize(),e=Math.acos(Fa.clamp(d[k-1].dot(d[k]),-1,1)),f[k].applyMatrix4(h.makeRotationAxis(l,e))),g[k].crossVectors(d[k],f[k]);if(!0===c)for(e=Math.acos(Fa.clamp(f[0].dot(f[a]),-1,1)),e/=a,0<d[0].dot(l.crossVectors(f[0],f[a]))&&(e=-e),k=1;k<=a;k++)f[k].applyMatrix4(h.makeRotationAxis(d[k],e*k)),g[k].crossVectors(d[k],f[k]);return{tangents:d,
normals:f,binormals:g}}});fd.prototype=Object.create(fc.prototype);fd.prototype.constructor=fd;fd.prototype.isLineCurve=!0;fd.prototype.getPoint=function(a){if(1===a)return this.v2.clone();var b=this.v2.clone().sub(this.v1);b.multiplyScalar(a).add(this.v1);return b};fd.prototype.getPointAt=function(a){return this.getPoint(a)};fd.prototype.getTangent=function(a){return this.v2.clone().sub(this.v1).normalize()};ee.prototype=Object.assign(Object.create(fc.prototype),{constructor:ee,add:function(a){this.curves.push(a)},
closePath:function(){var a=this.curves[0].getPoint(0),b=this.curves[this.curves.length-1].getPoint(1);a.equals(b)||this.curves.push(new fd(b,a))},getPoint:function(a){var b=a*this.getLength(),e=this.getCurveLengths();for(a=0;a<e.length;){if(e[a]>=b)return b=e[a]-b,a=this.curves[a],e=a.getLength(),a.getPointAt(0===e?0:1-b/e);a++}return null},getLength:function(){var a=this.getCurveLengths();return a[a.length-1]},updateArcLengths:function(){this.needsUpdate=!0;this.cacheLengths=null;this.getCurveLengths()},
getCurveLengths:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var a=[],b=0,c=0,d=this.curves.length;c<d;c++)b+=this.curves[c].getLength(),a.push(b);return this.cacheLengths=a},getSpacedPoints:function(a){void 0===a&&(a=40);for(var b=[],e=0;e<=a;e++)b.push(this.getPoint(e/a));this.autoClose&&b.push(b[0]);return b},getPoints:function(a){a=a||12;for(var b=[],e,c=0,d=this.curves;c<d.length;c++){var f=d[c];f=f.getPoints(f&&f.isEllipseCurve?
2*a:f&&f.isLineCurve?1:f&&f.isSplineCurve?a*f.points.length:a);for(var g=0;g<f.length;g++){var h=f[g];e&&e.equals(h)||(b.push(h),e=h)}}this.autoClose&&1<b.length&&!b[b.length-1].equals(b[0])&&b.push(b[0]);return b},createPointsGeometry:function(a){a=this.getPoints(a);return this.createGeometry(a)},createSpacedPointsGeometry:function(a){a=this.getSpacedPoints(a);return this.createGeometry(a)},createGeometry:function(a){for(var e=new ia,c=0,d=a.length;c<d;c++){var f=a[c];e.vertices.push(new b(f.x,f.y,
f.z||0))}return e}});pd.prototype=Object.create(fc.prototype);pd.prototype.constructor=pd;pd.prototype.isEllipseCurve=!0;pd.prototype.getPoint=function(a){for(var b=2*Math.PI,e=this.aEndAngle-this.aStartAngle,c=Math.abs(e)<Number.EPSILON;0>e;)e+=b;for(;e>b;)e-=b;e<Number.EPSILON&&(e=c?0:b);!0!==this.aClockwise||c||(e=e===b?-b:e-b);b=this.aStartAngle+a*e;a=this.aX+this.xRadius*Math.cos(b);var d=this.aY+this.yRadius*Math.sin(b);0!==this.aRotation&&(b=Math.cos(this.aRotation),e=Math.sin(this.aRotation),
c=a-this.aX,d-=this.aY,a=c*b-d*e+this.aX,d=c*e+d*b+this.aY);return new f(a,d)};Ed.prototype=Object.create(fc.prototype);Ed.prototype.constructor=Ed;Ed.prototype.isSplineCurve=!0;Ed.prototype.getPoint=function(a){var b=this.points,e=(b.length-1)*a;a=Math.floor(e);e-=a;var c=b[0===a?a:a-1],d=b[a],g=b[a>b.length-2?b.length-1:a+1];b=b[a>b.length-3?b.length-1:a+2];return new f(gf(e,c.x,d.x,g.x,b.x),gf(e,c.y,d.y,g.y,b.y))};Qd.prototype=Object.create(fc.prototype);Qd.prototype.constructor=Qd;Qd.prototype.getPoint=
function(a){var b=this.v0,e=this.v1,c=this.v2,d=this.v3;return new f(ba(a,b.x,e.x,c.x,d.x),ba(a,b.y,e.y,c.y,d.y))};Rd.prototype=Object.create(fc.prototype);Rd.prototype.constructor=Rd;Rd.prototype.getPoint=function(a){var b=this.v0,e=this.v1,c=this.v2;return new f(Kd(a,b.x,e.x,c.x),Kd(a,b.y,e.y,c.y))};var cf=Object.assign(Object.create(ee.prototype),{fromPoints:function(a){this.moveTo(a[0].x,a[0].y);for(var b=1,e=a.length;b<e;b++)this.lineTo(a[b].x,a[b].y)},moveTo:function(a,b){this.currentPoint.set(a,
b)},lineTo:function(a,b){var e=new fd(this.currentPoint.clone(),new f(a,b));this.curves.push(e);this.currentPoint.set(a,b)},quadraticCurveTo:function(a,b,c,d){a=new Rd(this.currentPoint.clone(),new f(a,b),new f(c,d));this.curves.push(a);this.currentPoint.set(c,d)},bezierCurveTo:function(a,b,c,d,g,h){a=new Qd(this.currentPoint.clone(),new f(a,b),new f(c,d),new f(g,h));this.curves.push(a);this.currentPoint.set(g,h)},splineThru:function(a){var b=[this.currentPoint.clone()].concat(a);b=new Ed(b);this.curves.push(b);
this.currentPoint.copy(a[a.length-1])},arc:function(a,b,c,d,f,g){this.absarc(a+this.currentPoint.x,b+this.currentPoint.y,c,d,f,g)},absarc:function(a,b,c,d,f,g){this.absellipse(a,b,c,c,d,f,g)},ellipse:function(a,b,c,d,f,g,h,k){this.absellipse(a+this.currentPoint.x,b+this.currentPoint.y,c,d,f,g,h,k)},absellipse:function(a,b,c,d,f,g,h,k){a=new pd(a,b,c,d,f,g,h,k);0<this.curves.length&&(b=a.getPoint(0),b.equals(this.currentPoint)||this.lineTo(b.x,b.y));this.curves.push(a);a=a.getPoint(1);this.currentPoint.copy(a)}});
fe.prototype=cf;cf.constructor=fe;Hd.prototype=Object.assign(Object.create(cf),{constructor:Hd,getPointsHoles:function(a){for(var b=[],e=0,c=this.holes.length;e<c;e++)b[e]=this.holes[e].getPoints(a);return b},extractAllPoints:function(a){return{shape:this.getPoints(a),holes:this.getPointsHoles(a)}},extractPoints:function(a){return this.extractAllPoints(a)}});Object.assign(Je.prototype,{moveTo:function(a,b){this.currentPath=new fe;this.subPaths.push(this.currentPath);this.currentPath.moveTo(a,b)},
lineTo:function(a,b){this.currentPath.lineTo(a,b)},quadraticCurveTo:function(a,b,c,d){this.currentPath.quadraticCurveTo(a,b,c,d)},bezierCurveTo:function(a,b,c,d,f,g){this.currentPath.bezierCurveTo(a,b,c,d,f,g)},splineThru:function(a){this.currentPath.splineThru(a)},toShapes:function(a,b){function e(a){for(var b=[],e=0,c=a.length;e<c;e++){var d=a[e],f=new Hd;f.curves=d.curves;b.push(f)}return b}function c(a,b){for(var e=b.length,c=!1,d=e-1,f=0;f<e;d=f++){var g=b[d],l=b[f],h=l.x-g.x,k=l.y-g.y;if(Math.abs(k)>
Number.EPSILON){if(0>k&&(g=b[f],h=-h,l=b[d],k=-k),!(a.y<g.y||a.y>l.y))if(a.y===g.y){if(a.x===g.x)return!0}else{d=k*(a.x-g.x)-h*(a.y-g.y);if(0===d)return!0;0>d||(c=!c)}}else if(a.y===g.y&&(l.x<=a.x&&a.x<=g.x||g.x<=a.x&&a.x<=l.x))return!0}return c}var d=gd.isClockWise,f=this.subPaths;if(0===f.length)return[];if(!0===b)return e(f);b=[];if(1===f.length){var g=f[0];var l=new Hd;l.curves=g.curves;b.push(l);return b}var h=!d(f[0].getPoints());h=a?!h:h;l=[];var k=[],n=[],m=0;k[m]=void 0;n[m]=[];for(var p=
0,q=f.length;p<q;p++){g=f[p];var t=g.getPoints();var w=d(t);(w=a?!w:w)?(!h&&k[m]&&m++,k[m]={s:new Hd,p:t},k[m].s.curves=g.curves,h&&m++,n[m]=[]):n[m].push({h:g,p:t[0]})}if(!k[0])return e(f);if(1<k.length){p=!1;a=[];d=0;for(f=k.length;d<f;d++)l[d]=[];d=0;for(f=k.length;d<f;d++)for(g=n[d],w=0;w<g.length;w++){h=g[w];m=!0;for(t=0;t<k.length;t++)c(h.p,k[t].p)&&(d!==t&&a.push({froms:d,tos:t,hole:w}),m?(m=!1,l[t].push(h)):p=!0);m&&l[d].push(h)}0<a.length&&(p||(n=l))}p=0;for(d=k.length;p<d;p++)for(l=k[p].s,
b.push(l),a=n[p],f=0,g=a.length;f<g;f++)l.holes.push(a[f].h);return b}});Object.assign(ve.prototype,{isFont:!0,generateShapes:function(a,b,c){void 0===b&&(b=100);void 0===c&&(c=4);var e=this.data;a=String(a).split("");var d=b/e.resolution,f=(e.boundingBox.yMax-e.boundingBox.yMin+e.underlineThickness)*d,g=0,l=0;b=[];for(var h=0;h<a.length;h++){var k=a[h];if("\n"===k)g=0,l-=f;else{var n;var m=d;var r=g,p=l;if(k=e.glyphs[k]||e.glyphs["?"]){var q=new Je,t=[];if(k.o)for(var w=k._cachedOutline||(k._cachedOutline=
k.o.split(" ")),u=0,x=w.length;u<x;)switch(w[u++]){case "m":var A=w[u++]*m+r;var z=w[u++]*m+p;q.moveTo(A,z);break;case "l":A=w[u++]*m+r;z=w[u++]*m+p;q.lineTo(A,z);break;case "q":var K=w[u++]*m+r;var E=w[u++]*m+p;var B=w[u++]*m+r;var H=w[u++]*m+p;q.quadraticCurveTo(B,H,K,E);if(n=t[t.length-1]){var F=n.x;n=n.y;for(var ea=1;ea<=c;ea++){var G=ea/c;Kd(G,F,B,K);Kd(G,n,H,E)}}break;case "b":if(K=w[u++]*m+r,E=w[u++]*m+p,B=w[u++]*m+r,H=w[u++]*m+p,A=w[u++]*m+r,z=w[u++]*m+p,q.bezierCurveTo(B,H,A,z,K,E),n=t[t.length-
1])for(F=n.x,n=n.y,ea=1;ea<=c;ea++)G=ea/c,ba(G,F,B,A,K),ba(G,n,H,z,E)}m={offsetX:k.ha*m,path:q}}else m=void 0;g+=m.offsetX;b.push(m.path)}}c=[];e=0;for(a=b.length;e<a;e++)Array.prototype.push.apply(c,b[e].toShapes());return c}});Object.assign(hf.prototype,{load:function(a,b,c,d){var e=this;(new sc(this.manager)).load(a,function(a){try{var c=JSON.parse(a)}catch(P){console.warn("THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead."),c=JSON.parse(a.substring(65,a.length-
2))}a=e.parse(c);b&&b(a)},c,d)},parse:function(a){return new ve(a)}});var He,Ue={getContext:function(){void 0===He&&(He=new (window.AudioContext||window.webkitAudioContext));return He},setContext:function(a){He=a}};Object.assign(Le.prototype,{load:function(a,b,c,d){var e=new sc(this.manager);e.setResponseType("arraybuffer");e.load(a,function(a){Ue.getContext().decodeAudioData(a,function(a){b(a)})},c,d)}});Object.assign(jf.prototype,{update:function(){var a,b,c,d,f,g,h,k,n=new t,m=new t;return function(e){if(a!==
this||b!==e.focus||c!==e.fov||d!==e.aspect*this.aspect||f!==e.near||g!==e.far||h!==e.zoom||k!==this.eyeSep){a=this;b=e.focus;c=e.fov;d=e.aspect*this.aspect;f=e.near;g=e.far;h=e.zoom;var l=e.projectionMatrix.clone();k=this.eyeSep/2;var r=k*f/b,v=f*Math.tan(Fa.DEG2RAD*c*.5)/h;m.elements[12]=-k;n.elements[12]=k;var p=-v*d+r;var q=v*d+r;l.elements[0]=2*f/(q-p);l.elements[8]=(q+p)/(q-p);this.cameraL.projectionMatrix.copy(l);p=-v*d-r;q=v*d-r;l.elements[0]=2*f/(q-p);l.elements[8]=(q+p)/(q-p);this.cameraR.projectionMatrix.copy(l)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(m);
this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(n)}}()});we.prototype=Object.create(O.prototype);we.prototype.constructor=we;Me.prototype=Object.assign(Object.create(O.prototype),{constructor:Me,getInput:function(){return this.gain},removeFilter:function(){null!==this.filter&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null)},getFilter:function(){return this.filter},setFilter:function(a){null!==this.filter?
(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination);this.filter=a;this.gain.connect(this.filter);this.filter.connect(this.context.destination)},getMasterVolume:function(){return this.gain.gain.value},setMasterVolume:function(a){this.gain.gain.value=a},updateMatrixWorld:function(){var a=new b,c=new w,d=new b,f=new b;return function(b){O.prototype.updateMatrixWorld.call(this,b);b=this.context.listener;var e=this.up;this.matrixWorld.decompose(a,
c,d);f.set(0,0,-1).applyQuaternion(c);b.positionX?(b.positionX.setValueAtTime(a.x,this.context.currentTime),b.positionY.setValueAtTime(a.y,this.context.currentTime),b.positionZ.setValueAtTime(a.z,this.context.currentTime),b.forwardX.setValueAtTime(f.x,this.context.currentTime),b.forwardY.setValueAtTime(f.y,this.context.currentTime),b.forwardZ.setValueAtTime(f.z,this.context.currentTime),b.upX.setValueAtTime(e.x,this.context.currentTime),b.upY.setValueAtTime(e.y,this.context.currentTime),b.upZ.setValueAtTime(e.z,
this.context.currentTime)):(b.setPosition(a.x,a.y,a.z),b.setOrientation(f.x,f.y,f.z,e.x,e.y,e.z))}}()});Sd.prototype=Object.assign(Object.create(O.prototype),{constructor:Sd,getOutput:function(){return this.gain},setNodeSource:function(a){this.hasPlaybackControl=!1;this.sourceType="audioNode";this.source=a;this.connect();return this},setBuffer:function(a){this.buffer=a;this.sourceType="buffer";this.autoplay&&this.play();return this},play:function(){if(!0===this.isPlaying)console.warn("THREE.Audio: Audio is already playing.");
else if(!1===this.hasPlaybackControl)console.warn("THREE.Audio: this Audio has no playback control.");else{var a=this.context.createBufferSource();a.buffer=this.buffer;a.loop=this.loop;a.onended=this.onEnded.bind(this);a.playbackRate.setValueAtTime(this.playbackRate,this.startTime);a.start(0,this.startTime);this.isPlaying=!0;this.source=a;return this.connect()}},pause:function(){if(!1===this.hasPlaybackControl)console.warn("THREE.Audio: this Audio has no playback control.");else return this.source.stop(),
this.startTime=this.context.currentTime,this.isPlaying=!1,this},stop:function(){if(!1===this.hasPlaybackControl)console.warn("THREE.Audio: this Audio has no playback control.");else return this.source.stop(),this.startTime=0,this.isPlaying=!1,this},connect:function(){if(0<this.filters.length){this.source.connect(this.filters[0]);for(var a=1,b=this.filters.length;a<b;a++)this.filters[a-1].connect(this.filters[a]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());
return this},disconnect:function(){if(0<this.filters.length){this.source.disconnect(this.filters[0]);for(var a=1,b=this.filters.length;a<b;a++)this.filters[a-1].disconnect(this.filters[a]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this},getFilters:function(){return this.filters},setFilters:function(a){a||(a=[]);!0===this.isPlaying?(this.disconnect(),this.filters=a,this.connect()):this.filters=a;return this},getFilter:function(){return this.getFilters()[0]},
setFilter:function(a){return this.setFilters(a?[a]:[])},setPlaybackRate:function(a){if(!1===this.hasPlaybackControl)console.warn("THREE.Audio: this Audio has no playback control.");else return this.playbackRate=a,!0===this.isPlaying&&this.source.playbackRate.setValueAtTime(this.playbackRate,this.context.currentTime),this},getPlaybackRate:function(){return this.playbackRate},onEnded:function(){this.isPlaying=!1},getLoop:function(){return!1===this.hasPlaybackControl?(console.warn("THREE.Audio: this Audio has no playback control."),
!1):this.loop},setLoop:function(a){if(!1===this.hasPlaybackControl)console.warn("THREE.Audio: this Audio has no playback control.");else return this.loop=a,!0===this.isPlaying&&(this.source.loop=this.loop),this},getVolume:function(){return this.gain.gain.value},setVolume:function(a){this.gain.gain.value=a;return this}});Ne.prototype=Object.assign(Object.create(Sd.prototype),{constructor:Ne,getOutput:function(){return this.panner},getRefDistance:function(){return this.panner.refDistance},setRefDistance:function(a){this.panner.refDistance=
a},getRolloffFactor:function(){return this.panner.rolloffFactor},setRolloffFactor:function(a){this.panner.rolloffFactor=a},getDistanceModel:function(){return this.panner.distanceModel},setDistanceModel:function(a){this.panner.distanceModel=a},getMaxDistance:function(){return this.panner.maxDistance},setMaxDistance:function(a){this.panner.maxDistance=a},updateMatrixWorld:function(){var a=new b;return function(b){O.prototype.updateMatrixWorld.call(this,b);a.setFromMatrixPosition(this.matrixWorld);this.panner.setPosition(a.x,
a.y,a.z)}}()});Object.assign(Oe.prototype,{getFrequencyData:function(){this.analyser.getByteFrequencyData(this.data);return this.data},getAverageFrequency:function(){for(var a=0,b=this.getFrequencyData(),c=0;c<b.length;c++)a+=b[c];return a/b.length}});Object.assign(Pe.prototype,{accumulate:function(a,b){var e=this.buffer,c=this.valueSize;a=a*c+c;var d=this.cumulativeWeight;if(0===d){for(d=0;d!==c;++d)e[a+d]=e[d];d=b}else d+=b,this._mixBufferRegion(e,a,0,b/d,c);this.cumulativeWeight=d},apply:function(a){var b=
this.valueSize,e=this.buffer;a=a*b+b;var c=this.cumulativeWeight,d=this.binding;this.cumulativeWeight=0;1>c&&this._mixBufferRegion(e,a,3*b,1-c,b);c=b;for(var f=b+b;c!==f;++c)if(e[c]!==e[c+b]){d.setValue(e,a);break}},saveOriginalState:function(){var a=this.buffer,b=this.valueSize,c=3*b;this.binding.getValue(a,c);for(var d=b;d!==c;++d)a[d]=a[c+d%b];this.cumulativeWeight=0},restoreOriginalState:function(){this.binding.setValue(this.buffer,3*this.valueSize)},_select:function(a,b,c,d,f){if(.5<=d)for(d=
0;d!==f;++d)a[b+d]=a[c+d]},_slerp:function(a,b,c,d){w.slerpFlat(a,b,a,b,a,c,d)},_lerp:function(a,b,c,d,f){for(var e=1-d,g=0;g!==f;++g){var l=b+g;a[l]=a[l]*e+a[c+g]*d}}});Object.assign(kf.prototype,{getValue:function(a,b){this.bind();var e=this._bindings[this._targetGroup.nCachedObjects_];void 0!==e&&e.getValue(a,b)},setValue:function(a,b){for(var e=this._bindings,c=this._targetGroup.nCachedObjects_,d=e.length;c!==d;++c)e[c].setValue(a,b)},bind:function(){for(var a=this._bindings,b=this._targetGroup.nCachedObjects_,
c=a.length;b!==c;++b)a[b].bind()},unbind:function(){for(var a=this._bindings,b=this._targetGroup.nCachedObjects_,c=a.length;b!==c;++b)a[b].unbind()}});Object.assign(Xb,{Composite:kf,create:function(a,b,c){return a&&a.isAnimationObjectGroup?new Xb.Composite(a,b,c):new Xb(a,b,c)},sanitizeNodeName:function(a){return a.replace(/\s/g,"_").replace(/[^\w-]/g,"")},parseTrackName:function(){var a=new RegExp("^"+/((?:[\w-]+[\/:])*)/.source+/([\w-\.]+)?/.source+/(?:\.([\w-]+)(?:\[(.+)\])?)?/.source+/\.([\w-]+)(?:\[(.+)\])?/.source+
"$"),b=["material","materials","bones"];return function(e){var c=a.exec(e);if(!c)throw Error("PropertyBinding: Cannot parse trackName: "+e);c={nodeName:c[2],objectName:c[3],objectIndex:c[4],propertyName:c[5],propertyIndex:c[6]};var d=c.nodeName&&c.nodeName.lastIndexOf(".");if(void 0!==d&&-1!==d){var f=c.nodeName.substring(d+1);-1!==b.indexOf(f)&&(c.nodeName=c.nodeName.substring(0,d),c.objectName=f)}if(null===c.propertyName||0===c.propertyName.length)throw Error("PropertyBinding: can not parse propertyName from trackName: "+
e);return c}}(),findNode:function(a,b){if(!b||""===b||"root"===b||"."===b||-1===b||b===a.name||b===a.uuid)return a;if(a.skeleton){var e=function(a){for(var e=0;e<a.bones.length;e++){var c=a.bones[e];if(c.name===b)return c}return null}(a.skeleton);if(e)return e}if(a.children){var c=function(a){for(var e=0;e<a.length;e++){var d=a[e];if(d.name===b||d.uuid===b||(d=c(d.children)))return d}return null};if(a=c(a.children))return a}return null}});Object.assign(Xb.prototype,{_getValue_unavailable:function(){},
_setValue_unavailable:function(){},BindingType:{Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Versioning:{None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},GetterByBindingType:[function(a,b){a[b]=this.node[this.propertyName]},function(a,b){for(var e=this.resolvedProperty,c=0,d=e.length;c!==d;++c)a[b++]=e[c]},function(a,b){a[b]=this.resolvedProperty[this.propertyIndex]},function(a,b){this.resolvedProperty.toArray(a,b)}],SetterByBindingTypeAndVersioning:[[function(a,b){this.node[this.propertyName]=
a[b]},function(a,b){this.node[this.propertyName]=a[b];this.targetObject.needsUpdate=!0},function(a,b){this.node[this.propertyName]=a[b];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(a,b){for(var e=this.resolvedProperty,c=0,d=e.length;c!==d;++c)e[c]=a[b++]},function(a,b){for(var c=this.resolvedProperty,e=0,d=c.length;e!==d;++e)c[e]=a[b++];this.targetObject.needsUpdate=!0},function(a,b){for(var c=this.resolvedProperty,e=0,d=c.length;e!==d;++e)c[e]=a[b++];this.targetObject.matrixWorldNeedsUpdate=
!0}],[function(a,b){this.resolvedProperty[this.propertyIndex]=a[b]},function(a,b){this.resolvedProperty[this.propertyIndex]=a[b];this.targetObject.needsUpdate=!0},function(a,b){this.resolvedProperty[this.propertyIndex]=a[b];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(a,b){this.resolvedProperty.fromArray(a,b)},function(a,b){this.resolvedProperty.fromArray(a,b);this.targetObject.needsUpdate=!0},function(a,b){this.resolvedProperty.fromArray(a,b);this.targetObject.matrixWorldNeedsUpdate=!0}]],
getValue:function(a,b){this.bind();this.getValue(a,b)},setValue:function(a,b){this.bind();this.setValue(a,b)},bind:function(){var a=this.node,b=this.parsedPath,c=b.objectName,d=b.propertyName,f=b.propertyIndex;a||(this.node=a=Xb.findNode(this.rootNode,b.nodeName)||this.rootNode);this.getValue=this._getValue_unavailable;this.setValue=this._setValue_unavailable;if(a){if(c){var g=b.objectIndex;switch(c){case "materials":if(!a.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",
this);return}if(!a.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}a=a.material.materials;break;case "bones":if(!a.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}a=a.skeleton.bones;for(c=0;c<a.length;c++)if(a[c].name===g){g=c;break}break;default:if(void 0===a[c]){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",
this);return}a=a[c]}if(void 0!==g){if(void 0===a[g]){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,a);return}a=a[g]}}g=a[d];if(void 0===g)console.error("THREE.PropertyBinding: Trying to update property for track: "+b.nodeName+"."+d+" but it wasn't found.",a);else{b=this.Versioning.None;void 0!==a.needsUpdate?(b=this.Versioning.NeedsUpdate,this.targetObject=a):void 0!==a.matrixWorldNeedsUpdate&&(b=this.Versioning.MatrixWorldNeedsUpdate,this.targetObject=
a);c=this.BindingType.Direct;if(void 0!==f){if("morphTargetInfluences"===d){if(!a.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(a.geometry.isBufferGeometry){if(!a.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}for(c=0;c<this.node.geometry.morphAttributes.position.length;c++)if(a.geometry.morphAttributes.position[c].name===
f){f=c;break}}else{if(!a.geometry.morphTargets){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphTargets.",this);return}for(c=0;c<this.node.geometry.morphTargets.length;c++)if(a.geometry.morphTargets[c].name===f){f=c;break}}}c=this.BindingType.ArrayElement;this.resolvedProperty=g;this.propertyIndex=f}else void 0!==g.fromArray&&void 0!==g.toArray?(c=this.BindingType.HasFromToArray,this.resolvedProperty=g):Array.isArray(g)?(c=this.BindingType.EntireArray,
this.resolvedProperty=g):this.propertyName=d;this.getValue=this.GetterByBindingType[c];this.setValue=this.SetterByBindingTypeAndVersioning[c][b]}}else console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.")},unbind:function(){this.node=null;this.getValue=this._getValue_unbound;this.setValue=this._setValue_unbound}});Object.assign(Xb.prototype,{_getValue_unbound:Xb.prototype.getValue,_setValue_unbound:Xb.prototype.setValue});Object.assign(sf.prototype,
{isAnimationObjectGroup:!0,add:function(a){for(var b=this._objects,c=b.length,e=this.nCachedObjects_,d=this._indicesByUUID,f=this._paths,g=this._parsedPaths,h=this._bindings,k=h.length,n=0,m=arguments.length;n!==m;++n){var p=arguments[n],q=p.uuid,t=d[q];if(void 0===t){t=c++;d[q]=t;b.push(p);q=0;for(var w=k;q!==w;++q)h[q].push(new Xb(p,f[q],g[q]))}else if(t<e){var u=--e;w=b[u];d[w.uuid]=t;b[t]=w;d[q]=u;b[u]=p;q=0;for(w=k;q!==w;++q){var x=h[q],A=x[t];x[t]=x[u];void 0===A&&(A=new Xb(p,f[q],g[q]));x[u]=
A}}else void 0!==b[t]&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=e},remove:function(a){for(var b=this._objects,c=this.nCachedObjects_,e=this._indicesByUUID,d=this._bindings,f=d.length,g=0,h=arguments.length;g!==h;++g){var k=arguments[g],n=k.uuid,m=e[n];if(void 0!==m&&m>=c){var p=c++,q=b[p];e[q.uuid]=m;b[m]=q;e[n]=p;b[p]=k;k=0;for(n=f;k!==n;++k){q=d[k];var t=
q[m];q[m]=q[p];q[p]=t}}}this.nCachedObjects_=c},uncache:function(a){for(var b,c,e=this._objects,d=e.length,f=this.nCachedObjects_,g=this._indicesByUUID,h=this._bindings,k=h.length,n=0,m=arguments.length;n!==m;++n){c=arguments[n].uuid;var p=g[c];if(void 0!==p)if(delete g[c],p<f){var q=--f,t=e[q];c=--d;b=e[c];g[t.uuid]=p;e[p]=t;g[b.uuid]=q;e[q]=b;e.pop();t=0;for(var w=k;t!==w;++t){b=h[t];var u=b[c];b[p]=b[q];b[q]=u;b.pop()}}else for(c=--d,b=e[c],g[b.uuid]=p,e[p]=b,e.pop(),t=0,w=k;t!==w;++t)b=h[t],b[p]=
b[c],b.pop()}this.nCachedObjects_=f},subscribe_:function(a,b){var c=this._bindingsIndicesByPath,e=c[a],d=this._bindings;if(void 0!==e)return d[e];var f=this._paths,g=this._parsedPaths,l=this._objects,h=this.nCachedObjects_,k=Array(l.length);e=d.length;c[a]=e;f.push(a);g.push(b);d.push(k);c=h;for(e=l.length;c!==e;++c)k[c]=new Xb(l[c],a,b);return k},unsubscribe_:function(a){var b=this._bindingsIndicesByPath,c=b[a];if(void 0!==c){var e=this._paths,d=this._parsedPaths,f=this._bindings,g=f.length-1,h=
f[g];b[a[g]]=c;f[c]=h;f.pop();d[c]=d[g];d.pop();e[c]=e[g];e.pop()}}});Object.assign(tf.prototype,{play:function(){this._mixer._activateAction(this);return this},stop:function(){this._mixer._deactivateAction(this);return this.reset()},reset:function(){this.paused=!1;this.enabled=!0;this.time=0;this._loopCount=-1;this._startTime=null;return this.stopFading().stopWarping()},isRunning:function(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)},
isScheduled:function(){return this._mixer._isActiveAction(this)},startAt:function(a){this._startTime=a;return this},setLoop:function(a,b){this.loop=a;this.repetitions=b;return this},setEffectiveWeight:function(a){this.weight=a;this._effectiveWeight=this.enabled?a:0;return this.stopFading()},getEffectiveWeight:function(){return this._effectiveWeight},fadeIn:function(a){return this._scheduleFading(a,0,1)},fadeOut:function(a){return this._scheduleFading(a,1,0)},crossFadeFrom:function(a,b,c){a.fadeOut(b);
this.fadeIn(b);if(c){c=this._clip.duration;var e=a._clip.duration,d=c/e;a.warp(1,e/c,b);this.warp(d,1,b)}return this},crossFadeTo:function(a,b,c){return a.crossFadeFrom(this,b,c)},stopFading:function(){var a=this._weightInterpolant;null!==a&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(a));return this},setEffectiveTimeScale:function(a){this.timeScale=a;this._effectiveTimeScale=this.paused?0:a;return this.stopWarping()},getEffectiveTimeScale:function(){return this._effectiveTimeScale},
setDuration:function(a){this.timeScale=this._clip.duration/a;return this.stopWarping()},syncWith:function(a){this.time=a.time;this.timeScale=a.timeScale;return this.stopWarping()},halt:function(a){return this.warp(this._effectiveTimeScale,0,a)},warp:function(a,b,c){var e=this._mixer,d=e.time,f=this._timeScaleInterpolant,g=this.timeScale;null===f&&(this._timeScaleInterpolant=f=e._lendControlInterpolant());e=f.parameterPositions;f=f.sampleValues;e[0]=d;e[1]=d+c;f[0]=a/g;f[1]=b/g;return this},stopWarping:function(){var a=
this._timeScaleInterpolant;null!==a&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(a));return this},getMixer:function(){return this._mixer},getClip:function(){return this._clip},getRoot:function(){return this._localRoot||this._mixer._root},_update:function(a,b,c,d){if(this.enabled){var e=this._startTime;if(null!==e){b=(a-e)*c;if(0>b||0===c)return;this._startTime=null;b*=c}b*=this._updateTimeScale(a);c=this._updateTime(b);a=this._updateWeight(a);if(0<a){b=this._interpolants;
e=this._propertyBindings;for(var f=0,g=b.length;f!==g;++f)b[f].evaluate(c),e[f].accumulate(d,a)}}else this._updateWeight(a)},_updateWeight:function(a){var b=0;if(this.enabled){b=this.weight;var c=this._weightInterpolant;if(null!==c){var e=c.evaluate(a)[0];b*=e;a>c.parameterPositions[1]&&(this.stopFading(),0===e&&(this.enabled=!1))}}return this._effectiveWeight=b},_updateTimeScale:function(a){var b=0;if(!this.paused){b=this.timeScale;var c=this._timeScaleInterpolant;if(null!==c){var e=c.evaluate(a)[0];
b*=e;a>c.parameterPositions[1]&&(this.stopWarping(),0===b?this.paused=!0:this.timeScale=b)}}return this._effectiveTimeScale=b},_updateTime:function(a){var b=this.time+a;if(0===a)return b;var c=this._clip.duration,e=this.loop,d=this._loopCount;if(2200===e)a:{if(-1===d&&(this._loopCount=0,this._setEndings(!0,!0,!1)),b>=c)b=c;else if(0>b)b=0;else break a;this.clampWhenFinished?this.paused=!0:this.enabled=!1;this._mixer.dispatchEvent({type:"finished",action:this,direction:0>a?-1:1})}else{e=2202===e;-1===
d&&(0<=a?(d=0,this._setEndings(!0,0===this.repetitions,e)):this._setEndings(0===this.repetitions,!0,e));if(b>=c||0>b){var f=Math.floor(b/c);b-=c*f;d+=Math.abs(f);var g=this.repetitions-d;0>g?(this.clampWhenFinished?this.paused=!0:this.enabled=!1,b=0<a?c:0,this._mixer.dispatchEvent({type:"finished",action:this,direction:0<a?1:-1})):(0===g?(a=0>a,this._setEndings(a,!a,e)):this._setEndings(!1,!1,e),this._loopCount=d,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:f}))}if(e&&1===(d&1))return this.time=
b,c-b}return this.time=b},_setEndings:function(a,b,c){var e=this._interpolantSettings;c?(e.endingStart=2401,e.endingEnd=2401):(e.endingStart=a?this.zeroSlopeAtStart?2401:2400:2402,e.endingEnd=b?this.zeroSlopeAtEnd?2401:2400:2402)},_scheduleFading:function(a,b,c){var e=this._mixer,d=e.time,f=this._weightInterpolant;null===f&&(this._weightInterpolant=f=e._lendControlInterpolant());e=f.parameterPositions;f=f.sampleValues;e[0]=d;f[0]=b;e[1]=d+a;f[1]=c;return this}});Object.assign(uf.prototype,m.prototype,
{_bindAction:function(a,b){var c=a._localRoot||this._root,e=a._clip.tracks,d=e.length,f=a._propertyBindings;a=a._interpolants;var g=c.uuid,l=this._bindingsByRootAndName,h=l[g];void 0===h&&(h={},l[g]=h);for(l=0;l!==d;++l){var k=e[l],n=k.name,m=h[n];if(void 0===m){m=f[l];if(void 0!==m){null===m._cacheIndex&&(++m.referenceCount,this._addInactiveBinding(m,g,n));continue}m=new Pe(Xb.create(c,n,b&&b._propertyBindings[l].binding.parsedPath),k.ValueTypeName,k.getValueSize());++m.referenceCount;this._addInactiveBinding(m,
g,n)}f[l]=m;a[l].resultBuffer=m.buffer}},_activateAction:function(a){if(!this._isActiveAction(a)){if(null===a._cacheIndex){var b=(a._localRoot||this._root).uuid,c=a._clip.uuid,e=this._actionsByClip[c];this._bindAction(a,e&&e.knownActions[0]);this._addInactiveAction(a,c,b)}b=a._propertyBindings;c=0;for(e=b.length;c!==e;++c){var d=b[c];0===d.useCount++&&(this._lendBinding(d),d.saveOriginalState())}this._lendAction(a)}},_deactivateAction:function(a){if(this._isActiveAction(a)){for(var b=a._propertyBindings,
c=0,e=b.length;c!==e;++c){var d=b[c];0===--d.useCount&&(d.restoreOriginalState(),this._takeBackBinding(d))}this._takeBackAction(a)}},_initMemoryManager:function(){this._actions=[];this._nActiveActions=0;this._actionsByClip={};this._bindings=[];this._nActiveBindings=0;this._bindingsByRootAndName={};this._controlInterpolants=[];this._nActiveControlInterpolants=0;var a=this;this.stats={actions:{get total(){return a._actions.length},get inUse(){return a._nActiveActions}},bindings:{get total(){return a._bindings.length},
get inUse(){return a._nActiveBindings}},controlInterpolants:{get total(){return a._controlInterpolants.length},get inUse(){return a._nActiveControlInterpolants}}}},_isActiveAction:function(a){a=a._cacheIndex;return null!==a&&a<this._nActiveActions},_addInactiveAction:function(a,b,c){var e=this._actions,d=this._actionsByClip,f=d[b];void 0===f?(f={knownActions:[a],actionByRoot:{}},a._byClipCacheIndex=0,d[b]=f):(b=f.knownActions,a._byClipCacheIndex=b.length,b.push(a));a._cacheIndex=e.length;e.push(a);
f.actionByRoot[c]=a},_removeInactiveAction:function(a){var b=this._actions,c=b[b.length-1],e=a._cacheIndex;c._cacheIndex=e;b[e]=c;b.pop();a._cacheIndex=null;b=a._clip.uuid;c=this._actionsByClip;e=c[b];var d=e.knownActions,f=d[d.length-1],g=a._byClipCacheIndex;f._byClipCacheIndex=g;d[g]=f;d.pop();a._byClipCacheIndex=null;delete e.actionByRoot[(a._localRoot||this._root).uuid];0===d.length&&delete c[b];this._removeInactiveBindingsForAction(a)},_removeInactiveBindingsForAction:function(a){a=a._propertyBindings;
for(var b=0,c=a.length;b!==c;++b){var e=a[b];0===--e.referenceCount&&this._removeInactiveBinding(e)}},_lendAction:function(a){var b=this._actions,c=a._cacheIndex,e=this._nActiveActions++,d=b[e];a._cacheIndex=e;b[e]=a;d._cacheIndex=c;b[c]=d},_takeBackAction:function(a){var b=this._actions,c=a._cacheIndex,e=--this._nActiveActions,d=b[e];a._cacheIndex=e;b[e]=a;d._cacheIndex=c;b[c]=d},_addInactiveBinding:function(a,b,c){var e=this._bindingsByRootAndName,d=e[b],f=this._bindings;void 0===d&&(d={},e[b]=
d);d[c]=a;a._cacheIndex=f.length;f.push(a)},_removeInactiveBinding:function(a){var b=this._bindings,c=a.binding,e=c.rootNode.uuid;c=c.path;var d=this._bindingsByRootAndName,f=d[e],g=b[b.length-1];a=a._cacheIndex;g._cacheIndex=a;b[a]=g;b.pop();delete f[c];a:{for(var h in f)break a;delete d[e]}},_lendBinding:function(a){var b=this._bindings,c=a._cacheIndex,e=this._nActiveBindings++,d=b[e];a._cacheIndex=e;b[e]=a;d._cacheIndex=c;b[c]=d},_takeBackBinding:function(a){var b=this._bindings,c=a._cacheIndex,
e=--this._nActiveBindings,d=b[e];a._cacheIndex=e;b[e]=a;d._cacheIndex=c;b[c]=d},_lendControlInterpolant:function(){var a=this._controlInterpolants,b=this._nActiveControlInterpolants++,c=a[b];void 0===c&&(c=new de(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer),c.__cacheIndex=b,a[b]=c);return c},_takeBackControlInterpolant:function(a){var b=this._controlInterpolants,c=a.__cacheIndex,e=--this._nActiveControlInterpolants,d=b[e];a.__cacheIndex=e;b[e]=a;d.__cacheIndex=
c;b[c]=d},_controlInterpolantsResultBuffer:new Float32Array(1),clipAction:function(a,b){var c=b||this._root,e=c.uuid;c="string"===typeof a?Vc.findByName(c,a):a;a=null!==c?c.uuid:a;var d=this._actionsByClip[a],f=null;if(void 0!==d){f=d.actionByRoot[e];if(void 0!==f)return f;f=d.knownActions[0];null===c&&(c=f._clip)}if(null===c)return null;b=new tf(this,c,b);this._bindAction(b,f);this._addInactiveAction(b,a,e);return b},existingAction:function(a,b){var c=b||this._root;b=c.uuid;c="string"===typeof a?
Vc.findByName(c,a):a;a=this._actionsByClip[c?c.uuid:a];return void 0!==a?a.actionByRoot[b]||null:null},stopAllAction:function(){for(var a=this._actions,b=this._nActiveActions,c=this._bindings,d=this._nActiveBindings,f=this._nActiveBindings=this._nActiveActions=0;f!==b;++f)a[f].reset();for(f=0;f!==d;++f)c[f].useCount=0;return this},update:function(a){a*=this.timeScale;for(var b=this._actions,c=this._nActiveActions,e=this.time+=a,d=Math.sign(a),f=this._accuIndex^=1,g=0;g!==c;++g)b[g]._update(e,a,d,
f);a=this._bindings;b=this._nActiveBindings;for(g=0;g!==b;++g)a[g].apply(f);return this},getRoot:function(){return this._root},uncacheClip:function(a){var b=this._actions;a=a.uuid;var c=this._actionsByClip,e=c[a];if(void 0!==e){e=e.knownActions;for(var d=0,f=e.length;d!==f;++d){var g=e[d];this._deactivateAction(g);var h=g._cacheIndex,k=b[b.length-1];g._cacheIndex=null;g._byClipCacheIndex=null;k._cacheIndex=h;b[h]=k;b.pop();this._removeInactiveBindingsForAction(g)}delete c[a]}},uncacheRoot:function(a){a=
a.uuid;var b=this._actionsByClip;for(e in b){var c=b[e].actionByRoot[a];void 0!==c&&(this._deactivateAction(c),this._removeInactiveAction(c))}var e=this._bindingsByRootAndName[a];if(void 0!==e)for(var d in e)a=e[d],a.restoreOriginalState(),this._removeInactiveBinding(a)},uncacheAction:function(a,b){a=this.existingAction(a,b);null!==a&&(this._deactivateAction(a),this._removeInactiveAction(a))}});Ce.prototype.clone=function(){return new Ce(void 0===this.value.clone?this.value:this.value.clone())};Ve.prototype=
Object.assign(Object.create(ca.prototype),{constructor:Ve,isInstancedBufferGeometry:!0,addGroup:function(a,b,c){this.groups.push({start:a,count:b,materialIndex:c})},copy:function(a){var b=a.index;null!==b&&this.setIndex(b.clone());b=a.attributes;for(var c in b)this.addAttribute(c,b[c].clone());a=a.groups;c=0;for(b=a.length;c<b;c++){var e=a[c];this.addGroup(e.start,e.count,e.materialIndex)}return this}});Object.defineProperties(We.prototype,{count:{get:function(){return this.data.count}},array:{get:function(){return this.data.array}}});
Object.assign(We.prototype,{isInterleavedBufferAttribute:!0,setX:function(a,b){this.data.array[a*this.data.stride+this.offset]=b;return this},setY:function(a,b){this.data.array[a*this.data.stride+this.offset+1]=b;return this},setZ:function(a,b){this.data.array[a*this.data.stride+this.offset+2]=b;return this},setW:function(a,b){this.data.array[a*this.data.stride+this.offset+3]=b;return this},getX:function(a){return this.data.array[a*this.data.stride+this.offset]},getY:function(a){return this.data.array[a*
this.data.stride+this.offset+1]},getZ:function(a){return this.data.array[a*this.data.stride+this.offset+2]},getW:function(a){return this.data.array[a*this.data.stride+this.offset+3]},setXY:function(a,b,c){a=a*this.data.stride+this.offset;this.data.array[a+0]=b;this.data.array[a+1]=c;return this},setXYZ:function(a,b,c,d){a=a*this.data.stride+this.offset;this.data.array[a+0]=b;this.data.array[a+1]=c;this.data.array[a+2]=d;return this},setXYZW:function(a,b,c,d,f){a=a*this.data.stride+this.offset;this.data.array[a+
0]=b;this.data.array[a+1]=c;this.data.array[a+2]=d;this.data.array[a+3]=f;return this}});Object.defineProperty(Wd.prototype,"needsUpdate",{set:function(a){!0===a&&this.version++}});Object.assign(Wd.prototype,{isInterleavedBuffer:!0,setArray:function(a){if(Array.isArray(a))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.count=void 0!==a?a.length/this.stride:0;this.array=a},setDynamic:function(a){this.dynamic=a;return this},copy:function(a){this.array=new a.array.constructor(a.array);
this.count=a.count;this.stride=a.stride;this.dynamic=a.dynamic;return this},copyAt:function(a,b,c){a*=this.stride;c*=b.stride;for(var e=0,d=this.stride;e<d;e++)this.array[a+e]=b.array[c+e];return this},set:function(a,b){void 0===b&&(b=0);this.array.set(a,b);return this},clone:function(){return(new this.constructor).copy(this)},onUpload:function(a){this.onUploadCallback=a;return this}});Xe.prototype=Object.assign(Object.create(Wd.prototype),{constructor:Xe,isInstancedInterleavedBuffer:!0,copy:function(a){Wd.prototype.copy.call(this,
a);this.meshPerAttribute=a.meshPerAttribute;return this}});Ye.prototype=Object.assign(Object.create(sa.prototype),{constructor:Ye,isInstancedBufferAttribute:!0,copy:function(a){sa.prototype.copy.call(this,a);this.meshPerAttribute=a.meshPerAttribute;return this}});Object.assign(vf.prototype,{linePrecision:1,set:function(a,b){this.ray.set(a,b)},setFromCamera:function(a,b){b&&b.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(b.matrixWorld),this.ray.direction.set(a.x,a.y,.5).unproject(b).sub(this.ray.origin).normalize()):
b&&b.isOrthographicCamera?(this.ray.origin.set(a.x,a.y,(b.near+b.far)/(b.near-b.far)).unproject(b),this.ray.direction.set(0,0,-1).transformDirection(b.matrixWorld)):console.error("THREE.Raycaster: Unsupported camera type.")},intersectObject:function(a,b){var c=[];Ze(a,this,c,b);c.sort(wf);return c},intersectObjects:function(a,b){var c=[];if(!1===Array.isArray(a))return console.warn("THREE.Raycaster.intersectObjects: objects is not an Array."),c;for(var e=0,d=a.length;e<d;e++)Ze(a[e],this,c,b);c.sort(wf);
return c}});Object.assign(xf.prototype,{start:function(){this.oldTime=this.startTime=("undefined"===typeof performance?Date:performance).now();this.elapsedTime=0;this.running=!0},stop:function(){this.getElapsedTime();this.autoStart=this.running=!1},getElapsedTime:function(){this.getDelta();return this.elapsedTime},getDelta:function(){var a=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){var b=("undefined"===typeof performance?Date:performance).now();a=(b-this.oldTime)/1E3;
this.oldTime=b;this.elapsedTime+=a}return a}});Object.assign(yf.prototype,{set:function(a,b,c){this.radius=a;this.phi=b;this.theta=c;return this},clone:function(){return(new this.constructor).copy(this)},copy:function(a){this.radius=a.radius;this.phi=a.phi;this.theta=a.theta;return this},makeSafe:function(){this.phi=Math.max(1E-6,Math.min(Math.PI-1E-6,this.phi));return this},setFromVector3:function(a){this.radius=a.length();0===this.radius?this.phi=this.theta=0:(this.theta=Math.atan2(a.x,a.z),this.phi=
Math.acos(Fa.clamp(a.y/this.radius,-1,1)));return this}});Object.assign(zf.prototype,{set:function(a,b,c){this.radius=a;this.theta=b;this.y=c;return this},clone:function(){return(new this.constructor).copy(this)},copy:function(a){this.radius=a.radius;this.theta=a.theta;this.y=a.y;return this},setFromVector3:function(a){this.radius=Math.sqrt(a.x*a.x+a.z*a.z);this.theta=Math.atan2(a.x,a.z);this.y=a.y;return this}});Nb.prototype=Object.create(Ga.prototype);Nb.prototype.constructor=Nb;Nb.prototype.createAnimation=
function(a,b,c,d){b={start:b,end:c,length:c-b+1,fps:d,duration:(c-b)/d,lastFrame:0,currentFrame:0,active:!1,time:0,direction:1,weight:1,directionBackwards:!1,mirroredLoop:!1};this.animationsMap[a]=b;this.animationsList.push(b)};Nb.prototype.autoCreateAnimations=function(a){for(var b,c,e=/([a-z]+)_?(\d+)/i,d,f={},g=this.geometry,h=0,k=g.morphTargets.length;h<k;h++)(b=g.morphTargets[h].name.match(e))&&1<b.length&&(c=b[1],f[c]||(f[c]={start:Infinity,end:-Infinity}),b=f[c],h<b.start&&(b.start=h),h>b.end&&
(b.end=h),d||(d=c));for(c in f)b=f[c],this.createAnimation(c,b.start,b.end,a);this.firstAnimation=d};Nb.prototype.setAnimationDirectionForward=function(a){if(a=this.animationsMap[a])a.direction=1,a.directionBackwards=!1};Nb.prototype.setAnimationDirectionBackward=function(a){if(a=this.animationsMap[a])a.direction=-1,a.directionBackwards=!0};Nb.prototype.setAnimationFPS=function(a,b){if(a=this.animationsMap[a])a.fps=b,a.duration=(a.end-a.start)/a.fps};Nb.prototype.setAnimationDuration=function(a,b){if(a=
this.animationsMap[a])a.duration=b,a.fps=(a.end-a.start)/a.duration};Nb.prototype.setAnimationWeight=function(a,b){if(a=this.animationsMap[a])a.weight=b};Nb.prototype.setAnimationTime=function(a,b){if(a=this.animationsMap[a])a.time=b};Nb.prototype.getAnimationTime=function(a){var b=0;if(a=this.animationsMap[a])b=a.time;return b};Nb.prototype.getAnimationDuration=function(a){var b=-1;if(a=this.animationsMap[a])b=a.duration;return b};Nb.prototype.playAnimation=function(a){var b=this.animationsMap[a];
b?(b.time=0,b.active=!0):console.warn("THREE.MorphBlendMesh: animation["+a+"] undefined in .playAnimation()")};Nb.prototype.stopAnimation=function(a){if(a=this.animationsMap[a])a.active=!1};Nb.prototype.update=function(a){for(var b=0,c=this.animationsList.length;b<c;b++){var e=this.animationsList[b];if(e.active){var d=e.duration/e.length;e.time+=e.direction*a;if(e.mirroredLoop){if(e.time>e.duration||0>e.time)e.direction*=-1,e.time>e.duration&&(e.time=e.duration,e.directionBackwards=!0),0>e.time&&
(e.time=0,e.directionBackwards=!1)}else e.time%=e.duration,0>e.time&&(e.time+=e.duration);var f=e.start+Fa.clamp(Math.floor(e.time/d),0,e.length-1),g=e.weight;f!==e.currentFrame&&(this.morphTargetInfluences[e.lastFrame]=0,this.morphTargetInfluences[e.currentFrame]=1*g,this.morphTargetInfluences[f]=0,e.lastFrame=e.currentFrame,e.currentFrame=f);d=e.time%d/d;e.directionBackwards&&(d=1-d);e.currentFrame!==e.lastFrame?(this.morphTargetInfluences[e.currentFrame]=d*g,this.morphTargetInfluences[e.lastFrame]=
(1-d)*g):this.morphTargetInfluences[e.currentFrame]=g}}};he.prototype=Object.create(O.prototype);he.prototype.constructor=he;he.prototype.isImmediateRenderObject=!0;ie.prototype=Object.create(va.prototype);ie.prototype.constructor=ie;ie.prototype.update=function(){var a=new b,c=new b,d=new h;return function(){var b,e=["a","b","c"];this.object.updateMatrixWorld(!0);d.getNormalMatrix(this.object.matrixWorld);var f=this.object.matrixWorld,g=this.geometry.attributes.position;if((b=this.object.geometry)&&
b.isGeometry)for(var h=b.vertices,l=b.faces,k=b=0,n=l.length;k<n;k++)for(var m=l[k],p=0,r=m.vertexNormals.length;p<r;p++){var q=m.vertexNormals[p];a.copy(h[m[e[p]]]).applyMatrix4(f);c.copy(q).applyMatrix3(d).normalize().multiplyScalar(this.size).add(a);g.setXYZ(b,a.x,a.y,a.z);b+=1;g.setXYZ(b,c.x,c.y,c.z);b+=1}else if(b&&b.isBufferGeometry)for(e=b.attributes.position,h=b.attributes.normal,p=b=0,r=e.count;p<r;p++)a.set(e.getX(p),e.getY(p),e.getZ(p)).applyMatrix4(f),c.set(h.getX(p),h.getY(p),h.getZ(p)),
c.applyMatrix3(d).normalize().multiplyScalar(this.size).add(a),g.setXYZ(b,a.x,a.y,a.z),b+=1,g.setXYZ(b,c.x,c.y,c.z),b+=1;g.needsUpdate=!0}}();Xd.prototype=Object.create(O.prototype);Xd.prototype.constructor=Xd;Xd.prototype.dispose=function(){this.cone.geometry.dispose();this.cone.material.dispose()};Xd.prototype.update=function(){var a=new b,c=new b;return function(){this.light.updateMatrixWorld();var b=this.light.distance?this.light.distance:1E3,e=b*Math.tan(this.light.angle);this.cone.scale.set(e,
e,b);a.setFromMatrixPosition(this.light.matrixWorld);c.setFromMatrixPosition(this.light.target.matrixWorld);this.cone.lookAt(c.sub(a));this.cone.material.color.copy(this.light.color)}}();Yd.prototype=Object.create(va.prototype);Yd.prototype.constructor=Yd;Yd.prototype.onBeforeRender=function(){var a=new b,c=new t,d=new t;return function(){var b=this.bones,e=this.geometry,f=e.getAttribute("position");d.getInverse(this.root.matrixWorld);for(var g=0,h=0;g<b.length;g++){var l=b[g];l.parent&&l.parent.isBone&&
(c.multiplyMatrices(d,l.matrixWorld),a.setFromMatrixPosition(c),f.setXYZ(h,a.x,a.y,a.z),c.multiplyMatrices(d,l.parent.matrixWorld),a.setFromMatrixPosition(c),f.setXYZ(h+1,a.x,a.y,a.z),h+=2)}e.getAttribute("position").needsUpdate=!0}}();Zd.prototype=Object.create(Ga.prototype);Zd.prototype.constructor=Zd;Zd.prototype.dispose=function(){this.geometry.dispose();this.material.dispose()};Zd.prototype.update=function(){this.material.color.copy(this.light.color)};$d.prototype=Object.create(O.prototype);
$d.prototype.constructor=$d;$d.prototype.dispose=function(){this.children[0].geometry.dispose();this.children[0].material.dispose()};$d.prototype.update=function(){var a=this.children[0];a.material.color.copy(this.light.color);var b=.5*this.light.width,c=.5*this.light.height;a=a.geometry.attributes.position;var d=a.array;d[0]=b;d[1]=-c;d[2]=0;d[3]=b;d[4]=c;d[5]=0;d[6]=-b;d[7]=c;d[8]=0;d[9]=-b;d[10]=-c;d[11]=0;d[12]=b;d[13]=-c;d[14]=0;a.needsUpdate=!0};ae.prototype=Object.create(O.prototype);ae.prototype.constructor=
ae;ae.prototype.dispose=function(){this.children[0].geometry.dispose();this.children[0].material.dispose()};ae.prototype.update=function(){var a=new b,c=new Q,d=new Q;return function(){var b=this.children[0],e=b.geometry.getAttribute("color");c.copy(this.light.color);d.copy(this.light.groundColor);for(var f=0,g=e.count;f<g;f++){var h=f<g/2?c:d;e.setXYZ(f,h.r,h.g,h.b)}b.lookAt(a.setFromMatrixPosition(this.light.matrixWorld).negate());e.needsUpdate=!0}}();je.prototype=Object.create(va.prototype);je.prototype.constructor=
je;De.prototype=Object.create(va.prototype);De.prototype.constructor=De;ke.prototype=Object.create(va.prototype);ke.prototype.constructor=ke;ke.prototype.update=function(){var a=new b,c=new b,d=new h;return function(){this.object.updateMatrixWorld(!0);d.getNormalMatrix(this.object.matrixWorld);var b=this.object.matrixWorld,e=this.geometry.attributes.position,f=this.object.geometry,g=f.vertices;f=f.faces;for(var h=0,l=0,k=f.length;l<k;l++){var n=f[l],m=n.normal;a.copy(g[n.a]).add(g[n.b]).add(g[n.c]).divideScalar(3).applyMatrix4(b);
c.copy(m).applyMatrix3(d).normalize().multiplyScalar(this.size).add(a);e.setXYZ(h,a.x,a.y,a.z);h+=1;e.setXYZ(h,c.x,c.y,c.z);h+=1}e.needsUpdate=!0}}();be.prototype=Object.create(O.prototype);be.prototype.constructor=be;be.prototype.dispose=function(){var a=this.children[0],b=this.children[1];a.geometry.dispose();a.material.dispose();b.geometry.dispose();b.material.dispose()};be.prototype.update=function(){var a=new b,c=new b,d=new b;return function(){a.setFromMatrixPosition(this.light.matrixWorld);
c.setFromMatrixPosition(this.light.target.matrixWorld);d.subVectors(c,a);var b=this.children[0],e=this.children[1];b.lookAt(d);b.material.color.copy(this.light.color);e.lookAt(d);e.scale.z=d.length()}}();le.prototype=Object.create(va.prototype);le.prototype.constructor=le;le.prototype.update=function(){function a(a,b,e,h){f.set(b,e,h).unproject(g);a=d[a];if(void 0!==a)for(b=c.getAttribute("position"),e=0,h=a.length;e<h;e++)b.setXYZ(a[e],f.x,f.y,f.z)}var c,d,f=new b,g=new yb;return function(){c=this.geometry;
d=this.pointMap;g.projectionMatrix.copy(this.camera.projectionMatrix);a("c",0,0,-1);a("t",0,0,1);a("n1",-1,-1,-1);a("n2",1,-1,-1);a("n3",-1,1,-1);a("n4",1,1,-1);a("f1",-1,-1,1);a("f2",1,-1,1);a("f3",-1,1,1);a("f4",1,1,1);a("u1",.7,1.1,-1);a("u2",-.7,1.1,-1);a("u3",0,2,-1);a("cf1",-1,0,1);a("cf2",1,0,1);a("cf3",0,-1,1);a("cf4",0,1,1);a("cn1",-1,0,-1);a("cn2",1,0,-1);a("cn3",0,-1,-1);a("cn4",0,1,-1);c.getAttribute("position").needsUpdate=!0}}();Md.prototype=Object.create(va.prototype);Md.prototype.constructor=
Md;Md.prototype.update=function(){var a=new db;return function(b){void 0!==b&&console.warn("THREE.BoxHelper: .update() has no longer arguments.");void 0!==this.object&&a.setFromObject(this.object);if(!a.isEmpty()){b=a.min;var c=a.max,e=this.geometry.attributes.position,d=e.array;d[0]=c.x;d[1]=c.y;d[2]=c.z;d[3]=b.x;d[4]=c.y;d[5]=c.z;d[6]=b.x;d[7]=b.y;d[8]=c.z;d[9]=c.x;d[10]=b.y;d[11]=c.z;d[12]=c.x;d[13]=c.y;d[14]=b.z;d[15]=b.x;d[16]=c.y;d[17]=b.z;d[18]=b.x;d[19]=b.y;d[20]=b.z;d[21]=c.x;d[22]=b.y;d[23]=
b.z;e.needsUpdate=!0;this.geometry.computeBoundingSphere()}}}();Md.prototype.setFromObject=function(a){this.object=a;this.update();return this};var Ee,$e;Nd.prototype=Object.create(O.prototype);Nd.prototype.constructor=Nd;Nd.prototype.setDirection=function(){var a=new b,c;return function(b){.99999<b.y?this.quaternion.set(0,0,0,1):-.99999>b.y?this.quaternion.set(1,0,0,0):(a.set(b.z,0,-b.x).normalize(),c=Math.acos(b.y),this.quaternion.setFromAxisAngle(a,c))}}();Nd.prototype.setLength=function(a,b,c){void 0===
b&&(b=.2*a);void 0===c&&(c=.2*b);this.line.scale.set(1,Math.max(0,a-b),1);this.line.updateMatrix();this.cone.scale.set(c,b,c);this.cone.position.y=a;this.cone.updateMatrix()};Nd.prototype.setColor=function(a){this.line.material.color.copy(a);this.cone.material.color.copy(a)};Fe.prototype=Object.create(va.prototype);Fe.prototype.constructor=Fe;var Ie=new b,df=new af,ef=new af,ff=new af;hd.prototype=Object.create(fc.prototype);hd.prototype.constructor=hd;hd.prototype.getPoint=function(a){var c=this.points,
e=c.length;a*=e-(this.closed?0:1);var d=Math.floor(a);a-=d;this.closed?d+=0<d?0:(Math.floor(Math.abs(d)/c.length)+1)*c.length:0===a&&d===e-1&&(d=e-2,a=1);if(this.closed||0<d)var f=c[(d-1)%e];else Ie.subVectors(c[0],c[1]).add(c[0]),f=Ie;var g=c[d%e];var h=c[(d+1)%e];this.closed||d+2<e?c=c[(d+2)%e]:(Ie.subVectors(c[e-1],c[e-2]).add(c[e-1]),c=Ie);if(void 0===this.type||"centripetal"===this.type||"chordal"===this.type){var k="chordal"===this.type?.5:.25;e=Math.pow(f.distanceToSquared(g),k);d=Math.pow(g.distanceToSquared(h),
k);k=Math.pow(h.distanceToSquared(c),k);1E-4>d&&(d=1);1E-4>e&&(e=d);1E-4>k&&(k=d);df.initNonuniformCatmullRom(f.x,g.x,h.x,c.x,e,d,k);ef.initNonuniformCatmullRom(f.y,g.y,h.y,c.y,e,d,k);ff.initNonuniformCatmullRom(f.z,g.z,h.z,c.z,e,d,k)}else"catmullrom"===this.type&&(e=void 0!==this.tension?this.tension:.5,df.initCatmullRom(f.x,g.x,h.x,c.x,e),ef.initCatmullRom(f.y,g.y,h.y,c.y,e),ff.initCatmullRom(f.z,g.z,h.z,c.z,e));return new b(df.calc(a),ef.calc(a),ff.calc(a))};me.prototype=Object.create(fc.prototype);
me.prototype.constructor=me;me.prototype.getPoint=function(a){var c=this.v0,e=this.v1,d=this.v2,f=this.v3;return new b(ba(a,c.x,e.x,d.x,f.x),ba(a,c.y,e.y,d.y,f.y),ba(a,c.z,e.z,d.z,f.z))};ne.prototype=Object.create(fc.prototype);ne.prototype.constructor=ne;ne.prototype.getPoint=function(a){var c=this.v0,e=this.v1,d=this.v2;return new b(Kd(a,c.x,e.x,d.x),Kd(a,c.y,e.y,d.y),Kd(a,c.z,e.z,d.z))};oe.prototype=Object.create(fc.prototype);oe.prototype.constructor=oe;oe.prototype.getPoint=function(a){if(1===
a)return this.v2.clone();var c=new b;c.subVectors(this.v2,this.v1);c.multiplyScalar(a);c.add(this.v1);return c};Ge.prototype=Object.create(pd.prototype);Ge.prototype.constructor=Ge;fc.create=function(a,b){console.log("THREE.Curve.create() has been deprecated");a.prototype=Object.create(fc.prototype);a.prototype.constructor=a;a.prototype.getPoint=b;return a};Bf.prototype=Object.create(hd.prototype);Cf.prototype=Object.create(hd.prototype);bf.prototype=Object.create(hd.prototype);Object.assign(bf.prototype,
{initFromArray:function(a){console.error("THREE.Spline: .initFromArray() has been removed.")},getControlPointsArray:function(a){console.error("THREE.Spline: .getControlPointsArray() has been removed.")},reparametrizeByArcLength:function(a){console.error("THREE.Spline: .reparametrizeByArcLength() has been removed.")}});je.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")};Yd.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")};
Object.assign(Va.prototype,{center:function(a){console.warn("THREE.Box2: .center() has been renamed to .getCenter().");return this.getCenter(a)},empty:function(){console.warn("THREE.Box2: .empty() has been renamed to .isEmpty().");return this.isEmpty()},isIntersectionBox:function(a){console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox().");return this.intersectsBox(a)},size:function(a){console.warn("THREE.Box2: .size() has been renamed to .getSize().");return this.getSize(a)}});
Object.assign(db.prototype,{center:function(a){console.warn("THREE.Box3: .center() has been renamed to .getCenter().");return this.getCenter(a)},empty:function(){console.warn("THREE.Box3: .empty() has been renamed to .isEmpty().");return this.isEmpty()},isIntersectionBox:function(a){console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox().");return this.intersectsBox(a)},isIntersectionSphere:function(a){console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere().");
return this.intersectsSphere(a)},size:function(a){console.warn("THREE.Box3: .size() has been renamed to .getSize().");return this.getSize(a)}});cc.prototype.center=function(a){console.warn("THREE.Line3: .center() has been renamed to .getCenter().");return this.getCenter(a)};Fa.random16=function(){console.warn("THREE.Math.random16() has been deprecated. Use Math.random() instead.");return Math.random()};Object.assign(h.prototype,{flattenToArrayOffset:function(a,b){console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead.");
return this.toArray(a,b)},multiplyVector3:function(a){console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead.");return a.applyMatrix3(this)},multiplyVector3Array:function(a){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")},applyToBuffer:function(a,b,c){console.warn("THREE.Matrix3: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead.");return this.applyToBufferAttribute(a)},applyToVector3Array:function(a,
b,c){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")}});Object.assign(t.prototype,{extractPosition:function(a){console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition().");return this.copyPosition(a)},flattenToArrayOffset:function(a,b){console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead.");return this.toArray(a,b)},getPosition:function(){var a;return function(){void 0===a&&(a=new b);console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead.");
return a.setFromMatrixColumn(this,3)}}(),setRotationFromQuaternion:function(a){console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion().");return this.makeRotationFromQuaternion(a)},multiplyToArray:function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")},multiplyVector3:function(a){console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead.");return a.applyMatrix4(this)},multiplyVector4:function(a){console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead.");
return a.applyMatrix4(this)},multiplyVector3Array:function(a){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")},rotateAxis:function(a){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead.");a.transformDirection(this)},crossVector:function(a){console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead.");return a.applyMatrix4(this)},translate:function(){console.error("THREE.Matrix4: .translate() has been removed.")},
rotateX:function(){console.error("THREE.Matrix4: .rotateX() has been removed.")},rotateY:function(){console.error("THREE.Matrix4: .rotateY() has been removed.")},rotateZ:function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")},rotateByAxis:function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")},applyToBuffer:function(a,b,c){console.warn("THREE.Matrix4: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead.");return this.applyToBufferAttribute(a)},
applyToVector3Array:function(a,b,c){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")},makeFrustum:function(a,b,c,d,f,g){console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead.");return this.makePerspective(a,b,d,c,f,g)}});Xa.prototype.isIntersectionLine=function(a){console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine().");return this.intersectsLine(a)};w.prototype.multiplyVector3=
function(a){console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead.");return a.applyQuaternion(this)};Object.assign(Ub.prototype,{isIntersectionBox:function(a){console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox().");return this.intersectsBox(a)},isIntersectionPlane:function(a){console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane().");return this.intersectsPlane(a)},isIntersectionSphere:function(a){console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere().");
return this.intersectsSphere(a)}});Object.assign(Hd.prototype,{extrude:function(a){console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead.");return new R(this,a)},makeGeometry:function(a){console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead.");return new Ab(this,a)}});Object.assign(f.prototype,{fromAttribute:function(a,b,c){console.error("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute().");return this.fromBufferAttribute(a,
b,c)}});Object.assign(b.prototype,{setEulerFromRotationMatrix:function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},setEulerFromQuaternion:function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},getPositionFromMatrix:function(a){console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition().");return this.setFromMatrixPosition(a)},
getScaleFromMatrix:function(a){console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale().");return this.setFromMatrixScale(a)},getColumnFromMatrix:function(a,b){console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn().");return this.setFromMatrixColumn(b,a)},applyProjection:function(a){console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead.");return this.applyMatrix4(a)},fromAttribute:function(a,
b,c){console.error("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute().");return this.fromBufferAttribute(a,b,c)}});Object.assign(n.prototype,{fromAttribute:function(a,b,c){console.error("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute().");return this.fromBufferAttribute(a,b,c)}});ia.prototype.computeTangents=function(){console.warn("THREE.Geometry: .computeTangents() has been removed.")};Object.assign(O.prototype,{getChildByName:function(a){console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName().");
return this.getObjectByName(a)},renderDepth:function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")},translate:function(a,b){console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead.");return this.translateOnAxis(b,a)}});Object.defineProperties(O.prototype,{eulerOrder:{get:function(){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order.");return this.rotation.order},set:function(a){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order.");
this.rotation.order=a}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}});Object.defineProperties(pb.prototype,{objects:{get:function(){console.warn("THREE.LOD: .objects has been renamed to .levels.");return this.levels}}});Object.defineProperty(kc.prototype,"useVertexTexture",{get:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")},
set:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")}});Object.defineProperty(fc.prototype,"__arcLengthDivisions",{get:function(){console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions.");return this.arcLengthDivisions},set:function(a){console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions.");this.arcLengthDivisions=a}});Qa.prototype.setLens=function(a,b){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup.");
void 0!==b&&(this.filmGauge=b);this.setFocalLength(a)};Object.defineProperties(B.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(a){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov.");this.shadow.camera.fov=a}},shadowCameraLeft:{set:function(a){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left.");this.shadow.camera.left=a}},shadowCameraRight:{set:function(a){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right.");
this.shadow.camera.right=a}},shadowCameraTop:{set:function(a){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top.");this.shadow.camera.top=a}},shadowCameraBottom:{set:function(a){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom.");this.shadow.camera.bottom=a}},shadowCameraNear:{set:function(a){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near.");this.shadow.camera.near=a}},shadowCameraFar:{set:function(a){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far.");
this.shadow.camera.far=a}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(a){console.warn("THREE.Light: .shadowBias is now .shadow.bias.");this.shadow.bias=a}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(a){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width.");
this.shadow.mapSize.width=a}},shadowMapHeight:{set:function(a){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height.");this.shadow.mapSize.height=a}}});Object.defineProperties(sa.prototype,{length:{get:function(){console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead.");return this.array.length}}});Object.assign(ca.prototype,{addIndex:function(a){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex().");this.setIndex(a)},
addDrawCall:function(a,b,c){void 0!==c&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset.");console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup().");this.addGroup(a,b)},clearDrawCalls:function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups().");this.clearGroups()},computeTangents:function(){console.warn("THREE.BufferGeometry: .computeTangents() has been removed.")},computeOffsets:function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")}});
Object.defineProperties(ca.prototype,{drawcalls:{get:function(){console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups.");return this.groups}},offsets:{get:function(){console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups.");return this.groups}}});Object.defineProperties(Ce.prototype,{dynamic:{set:function(){console.warn("THREE.Uniform: .dynamic has been removed. Use object.onBeforeRender() instead.")}},onUpdate:{value:function(){console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead.");
return this}}});Object.defineProperties(qa.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},wrapRGB:{get:function(){console.warn("THREE.Material: .wrapRGB has been removed.");return new Q}}});Object.defineProperties(rc.prototype,{metal:{get:function(){console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead.");return!1},set:function(){console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead")}}});
Object.defineProperties(Ra.prototype,{derivatives:{get:function(){console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives.");return this.extensions.derivatives},set:function(a){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives.");this.extensions.derivatives=a}}});Object.assign(Nc.prototype,{getCurrentRenderTarget:function(){console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget().");return this.getRenderTarget()},
supportsFloatTextures:function(){console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' ).");return this.extensions.get("OES_texture_float")},supportsHalfFloatTextures:function(){console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' ).");return this.extensions.get("OES_texture_half_float")},supportsStandardDerivatives:function(){console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' ).");
return this.extensions.get("OES_standard_derivatives")},supportsCompressedTextureS3TC:function(){console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' ).");return this.extensions.get("WEBGL_compressed_texture_s3tc")},supportsCompressedTexturePVRTC:function(){console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' ).");return this.extensions.get("WEBGL_compressed_texture_pvrtc")},
supportsBlendMinMax:function(){console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' ).");return this.extensions.get("EXT_blend_minmax")},supportsVertexTextures:function(){console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures.");return this.capabilities.vertexTextures},supportsInstancedArrays:function(){console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' ).");
return this.extensions.get("ANGLE_instanced_arrays")},enableScissorTest:function(a){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest().");this.setScissorTest(a)},initMaterial:function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},addPrePlugin:function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},addPostPlugin:function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},updateShadowMap:function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")}});
Object.defineProperties(Nc.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(a){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled.");this.shadowMap.enabled=a}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(a){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type.");this.shadowMap.type=a}},shadowMapCullFace:{get:function(){return this.shadowMap.cullFace},set:function(a){console.warn("THREE.WebGLRenderer: .shadowMapCullFace is now .shadowMap.cullFace.");
this.shadowMap.cullFace=a}}});Object.defineProperties(ad.prototype,{cullFace:{get:function(){return this.renderReverseSided?2:1},set:function(a){a=1!==a;console.warn("WebGLRenderer: .shadowMap.cullFace is deprecated. Set .shadowMap.renderReverseSided to "+a+".");this.renderReverseSided=a}}});Object.defineProperties(p.prototype,{wrapS:{get:function(){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS.");return this.texture.wrapS},set:function(a){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS.");
this.texture.wrapS=a}},wrapT:{get:function(){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT.");return this.texture.wrapT},set:function(a){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT.");this.texture.wrapT=a}},magFilter:{get:function(){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter.");return this.texture.magFilter},set:function(a){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter.");this.texture.magFilter=
a}},minFilter:{get:function(){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter.");return this.texture.minFilter},set:function(a){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter.");this.texture.minFilter=a}},anisotropy:{get:function(){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy.");return this.texture.anisotropy},set:function(a){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy.");this.texture.anisotropy=
a}},offset:{get:function(){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset.");return this.texture.offset},set:function(a){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset.");this.texture.offset=a}},repeat:{get:function(){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat.");return this.texture.repeat},set:function(a){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat.");this.texture.repeat=a}},format:{get:function(){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format.");
return this.texture.format},set:function(a){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format.");this.texture.format=a}},type:{get:function(){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type.");return this.texture.type},set:function(a){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type.");this.texture.type=a}},generateMipmaps:{get:function(){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps.");return this.texture.generateMipmaps},
set:function(a){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps.");this.texture.generateMipmaps=a}}});Sd.prototype.load=function(a){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");var b=this;(new Le).load(a,function(a){b.setBuffer(a)});return this};Oe.prototype.getData=function(){console.warn("THREE.AudioAnalyser: .getData() is now .getFrequencyData().");return this.getFrequencyData()};a.WebGLRenderTargetCube=z;a.WebGLRenderTarget=
p;a.WebGLRenderer=Nc;a.ShaderLib=Fd;a.UniformsLib=Aa;a.UniformsUtils=qc;a.ShaderChunk=Pa;a.FogExp2=ub;a.Fog=ua;a.Scene=wc;a.LensFlare=Pb;a.Sprite=Dc;a.LOD=pb;a.SkinnedMesh=Tb;a.Skeleton=kc;a.Bone=Vb;a.Mesh=Ga;a.LineSegments=va;a.LineLoop=xc;a.Line=kb;a.Points=wb;a.Group=rb;a.VideoTexture=ma;a.DataTexture=x;a.CompressedTexture=gb;a.CubeTexture=H;a.CanvasTexture=xb;a.DepthTexture=Gb;a.Texture=k;a.CompressedTextureLoader=Xc;a.DataTextureLoader=ic;a.CubeTextureLoader=Da;a.TextureLoader=Od;a.ObjectLoader=
lf;a.MaterialLoader=ue;a.BufferGeometryLoader=Qe;a.DefaultLoadingManager=Hc;a.LoadingManager=ce;a.JSONLoader=Ke;a.ImageLoader=ud;a.FontLoader=hf;a.FileLoader=sc;a.Loader=Vd;a.Cache=pe;a.AudioLoader=Le;a.SpotLightShadow=ab;a.SpotLight=Dd;a.PointLight=Pd;a.RectAreaLight=re;a.HemisphereLight=Z;a.DirectionalLightShadow=Ec;a.DirectionalLight=te;a.AmbientLight=qe;a.LightShadow=ya;a.Light=B;a.StereoCamera=jf;a.PerspectiveCamera=Qa;a.OrthographicCamera=S;a.CubeCamera=we;a.ArrayCamera=Lb;a.Camera=yb;a.AudioListener=
Me;a.PositionalAudio=Ne;a.AudioContext=Ue;a.AudioAnalyser=Oe;a.Audio=Sd;a.VectorKeyframeTrack=Td;a.StringKeyframeTrack=ze;a.QuaternionKeyframeTrack=ge;a.NumberKeyframeTrack=Ud;a.ColorKeyframeTrack=Be;a.BooleanKeyframeTrack=Ae;a.PropertyMixer=Pe;a.PropertyBinding=Xb;a.KeyframeTrack=Id;a.AnimationUtils=Yb;a.AnimationObjectGroup=sf;a.AnimationMixer=uf;a.AnimationClip=Vc;a.Uniform=Ce;a.InstancedBufferGeometry=Ve;a.BufferGeometry=ca;a.GeometryIdCount=function(){return Se++};a.Geometry=ia;a.InterleavedBufferAttribute=
We;a.InstancedInterleavedBuffer=Xe;a.InterleavedBuffer=Wd;a.InstancedBufferAttribute=Ye;a.Face3=Za;a.Object3D=O;a.Raycaster=vf;a.Layers=ac;a.EventDispatcher=m;a.Clock=xf;a.QuaternionLinearInterpolant=ye;a.LinearInterpolant=de;a.DiscreteInterpolant=xe;a.CubicInterpolant=se;a.Interpolant=Fc;a.Triangle=Sa;a.Math=Fa;a.Spherical=yf;a.Cylindrical=zf;a.Plane=Xa;a.Frustum=$c;a.Sphere=N;a.Ray=Ub;a.Matrix4=t;a.Matrix3=h;a.Box3=db;a.Box2=Va;a.Line3=cc;a.Euler=hb;a.Vector4=n;a.Vector3=b;a.Vector2=f;a.Quaternion=
w;a.Color=Q;a.MorphBlendMesh=Nb;a.ImmediateRenderObject=he;a.VertexNormalsHelper=ie;a.SpotLightHelper=Xd;a.SkeletonHelper=Yd;a.PointLightHelper=Zd;a.RectAreaLightHelper=$d;a.HemisphereLightHelper=ae;a.GridHelper=je;a.PolarGridHelper=De;a.FaceNormalsHelper=ke;a.DirectionalLightHelper=be;a.CameraHelper=le;a.BoxHelper=Md;a.ArrowHelper=Nd;a.AxisHelper=Fe;a.CatmullRomCurve3=hd;a.CubicBezierCurve3=me;a.QuadraticBezierCurve3=ne;a.LineCurve3=oe;a.ArcCurve=Ge;a.EllipseCurve=pd;a.SplineCurve=Ed;a.CubicBezierCurve=
Qd;a.QuadraticBezierCurve=Rd;a.LineCurve=fd;a.Shape=Hd;a.Path=fe;a.ShapePath=Je;a.Font=ve;a.CurvePath=ee;a.Curve=fc;a.ShapeUtils=gd;a.SceneUtils={createMultiMaterialObject:function(a,b){for(var c=new rb,e=0,d=b.length;e<d;e++)c.add(new Ga(a,b[e]));return c},detach:function(a,b,c){a.applyMatrix(b.matrixWorld);b.remove(a);c.add(a)},attach:function(a,b,c){a.applyMatrix((new t).getInverse(c.matrixWorld));b.remove(a);c.add(a)}};a.WireframeGeometry=Fb;a.ParametricGeometry=Qb;a.ParametricBufferGeometry=
Ia;a.TetrahedronGeometry=Oc;a.TetrahedronBufferGeometry=mc;a.OctahedronGeometry=wa;a.OctahedronBufferGeometry=sb;a.IcosahedronGeometry=Db;a.IcosahedronBufferGeometry=Wb;a.DodecahedronGeometry=dc;a.DodecahedronBufferGeometry=nc;a.PolyhedronGeometry=Jc;a.PolyhedronBufferGeometry=Ja;a.TubeGeometry=Cb;a.TubeBufferGeometry=Mb;a.TorusKnotGeometry=oc;a.TorusKnotBufferGeometry=d;a.TorusGeometry=g;a.TorusBufferGeometry=u;a.TextGeometry=Ua;a.TextBufferGeometry=Pc;a.SphereGeometry=od;a.SphereBufferGeometry=
Qc;a.RingGeometry=Rc;a.RingBufferGeometry=Sc;a.PlaneGeometry=bc;a.PlaneBufferGeometry=Ib;a.LatheGeometry=cd;a.LatheBufferGeometry=Gc;a.ShapeGeometry=Ab;a.ShapeBufferGeometry=Tc;a.ExtrudeGeometry=R;a.ExtrudeBufferGeometry=Y;a.EdgesGeometry=L;a.ConeGeometry=Uc;a.ConeBufferGeometry=dd;a.CylinderGeometry=Ba;a.CylinderBufferGeometry=fb;a.CircleGeometry=vd;a.CircleBufferGeometry=ld;a.BoxGeometry=Rb;a.BoxBufferGeometry=Sb;a.ShadowMaterial=pc;a.SpriteMaterial=vb;a.RawShaderMaterial=ed;a.ShaderMaterial=Ra;
a.PointsMaterial=Ka;a.MeshPhysicalMaterial=jd;a.MeshStandardMaterial=ec;a.MeshPhongMaterial=rc;a.MeshToonMaterial=rd;a.MeshNormalMaterial=sd;a.MeshLambertMaterial=Wc;a.MeshDepthMaterial=lb;a.MeshBasicMaterial=mb;a.LineDashedMaterial=gc;a.LineBasicMaterial=Ea;a.Material=qa;a.Float64BufferAttribute=Kb;a.Float32BufferAttribute=W;a.Uint32BufferAttribute=zb;a.Int32BufferAttribute=Lc;a.Uint16BufferAttribute=Jb;a.Int16BufferAttribute=jc;a.Uint8ClampedBufferAttribute=qb;a.Uint8BufferAttribute=yc;a.Int8BufferAttribute=
ib;a.BufferAttribute=sa;a.REVISION="86";a.MOUSE={LEFT:0,MIDDLE:1,RIGHT:2};a.CullFaceNone=0;a.CullFaceBack=1;a.CullFaceFront=2;a.CullFaceFrontBack=3;a.FrontFaceDirectionCW=0;a.FrontFaceDirectionCCW=1;a.BasicShadowMap=0;a.PCFShadowMap=1;a.PCFSoftShadowMap=2;a.FrontSide=0;a.BackSide=1;a.DoubleSide=2;a.FlatShading=1;a.SmoothShading=2;a.NoColors=0;a.FaceColors=1;a.VertexColors=2;a.NoBlending=0;a.NormalBlending=1;a.AdditiveBlending=2;a.SubtractiveBlending=3;a.MultiplyBlending=4;a.CustomBlending=5;a.AddEquation=
100;a.SubtractEquation=101;a.ReverseSubtractEquation=102;a.MinEquation=103;a.MaxEquation=104;a.ZeroFactor=200;a.OneFactor=201;a.SrcColorFactor=202;a.OneMinusSrcColorFactor=203;a.SrcAlphaFactor=204;a.OneMinusSrcAlphaFactor=205;a.DstAlphaFactor=206;a.OneMinusDstAlphaFactor=207;a.DstColorFactor=208;a.OneMinusDstColorFactor=209;a.SrcAlphaSaturateFactor=210;a.NeverDepth=0;a.AlwaysDepth=1;a.LessDepth=2;a.LessEqualDepth=3;a.EqualDepth=4;a.GreaterEqualDepth=5;a.GreaterDepth=6;a.NotEqualDepth=7;a.MultiplyOperation=
0;a.MixOperation=1;a.AddOperation=2;a.NoToneMapping=0;a.LinearToneMapping=1;a.ReinhardToneMapping=2;a.Uncharted2ToneMapping=3;a.CineonToneMapping=4;a.UVMapping=300;a.CubeReflectionMapping=301;a.CubeRefractionMapping=302;a.EquirectangularReflectionMapping=303;a.EquirectangularRefractionMapping=304;a.SphericalReflectionMapping=305;a.CubeUVReflectionMapping=306;a.CubeUVRefractionMapping=307;a.RepeatWrapping=1E3;a.ClampToEdgeWrapping=1001;a.MirroredRepeatWrapping=1002;a.NearestFilter=1003;a.NearestMipMapNearestFilter=
1004;a.NearestMipMapLinearFilter=1005;a.LinearFilter=1006;a.LinearMipMapNearestFilter=1007;a.LinearMipMapLinearFilter=1008;a.UnsignedByteType=1009;a.ByteType=1010;a.ShortType=1011;a.UnsignedShortType=1012;a.IntType=1013;a.UnsignedIntType=1014;a.FloatType=1015;a.HalfFloatType=1016;a.UnsignedShort4444Type=1017;a.UnsignedShort5551Type=1018;a.UnsignedShort565Type=1019;a.UnsignedInt248Type=1020;a.AlphaFormat=1021;a.RGBFormat=1022;a.RGBAFormat=1023;a.LuminanceFormat=1024;a.LuminanceAlphaFormat=1025;a.RGBEFormat=
1023;a.DepthFormat=1026;a.DepthStencilFormat=1027;a.RGB_S3TC_DXT1_Format=2001;a.RGBA_S3TC_DXT1_Format=2002;a.RGBA_S3TC_DXT3_Format=2003;a.RGBA_S3TC_DXT5_Format=2004;a.RGB_PVRTC_4BPPV1_Format=2100;a.RGB_PVRTC_2BPPV1_Format=2101;a.RGBA_PVRTC_4BPPV1_Format=2102;a.RGBA_PVRTC_2BPPV1_Format=2103;a.RGB_ETC1_Format=2151;a.LoopOnce=2200;a.LoopRepeat=2201;a.LoopPingPong=2202;a.InterpolateDiscrete=2300;a.InterpolateLinear=2301;a.InterpolateSmooth=2302;a.ZeroCurvatureEnding=2400;a.ZeroSlopeEnding=2401;a.WrapAroundEnding=
2402;a.TrianglesDrawMode=0;a.TriangleStripDrawMode=1;a.TriangleFanDrawMode=2;a.LinearEncoding=3E3;a.sRGBEncoding=3001;a.GammaEncoding=3007;a.RGBEEncoding=3002;a.LogLuvEncoding=3003;a.RGBM7Encoding=3004;a.RGBM16Encoding=3005;a.RGBDEncoding=3006;a.BasicDepthPacking=3200;a.RGBADepthPacking=3201;a.CubeGeometry=Rb;a.Face4=function(a,b,c,d,f,g,h){console.warn("THREE.Face4 has been removed. A THREE.Face3 will be created instead.");return new Za(a,b,c,f,g,h)};a.LineStrip=0;a.LinePieces=1;a.MeshFaceMaterial=
function(a){console.warn("THREE.MeshFaceMaterial has been removed. Use an Array instead.");return a};a.MultiMaterial=function(a){void 0===a&&(a=[]);console.warn("THREE.MultiMaterial has been removed. Use an Array instead.");a.isMultiMaterial=!0;a.materials=a;a.clone=function(){return a.slice()};return a};a.PointCloud=function(a,b){console.warn("THREE.PointCloud has been renamed to THREE.Points.");return new wb(a,b)};a.Particle=function(a){console.warn("THREE.Particle has been renamed to THREE.Sprite.");
return new Dc(a)};a.ParticleSystem=function(a,b){console.warn("THREE.ParticleSystem has been renamed to THREE.Points.");return new wb(a,b)};a.PointCloudMaterial=function(a){console.warn("THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial.");return new Ka(a)};a.ParticleBasicMaterial=function(a){console.warn("THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial.");return new Ka(a)};a.ParticleSystemMaterial=function(a){console.warn("THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial.");
return new Ka(a)};a.Vertex=function(a,c,d){console.warn("THREE.Vertex has been removed. Use THREE.Vector3 instead.");return new b(a,c,d)};a.DynamicBufferAttribute=function(a,b){console.warn("THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setDynamic( true ) instead.");return(new sa(a,b)).setDynamic(!0)};a.Int8Attribute=function(a,b){console.warn("THREE.Int8Attribute has been removed. Use new THREE.Int8BufferAttribute() instead.");return new ib(a,b)};a.Uint8Attribute=
function(a,b){console.warn("THREE.Uint8Attribute has been removed. Use new THREE.Uint8BufferAttribute() instead.");return new yc(a,b)};a.Uint8ClampedAttribute=function(a,b){console.warn("THREE.Uint8ClampedAttribute has been removed. Use new THREE.Uint8ClampedBufferAttribute() instead.");return new qb(a,b)};a.Int16Attribute=function(a,b){console.warn("THREE.Int16Attribute has been removed. Use new THREE.Int16BufferAttribute() instead.");return new jc(a,b)};a.Uint16Attribute=function(a,b){console.warn("THREE.Uint16Attribute has been removed. Use new THREE.Uint16BufferAttribute() instead.");
return new Jb(a,b)};a.Int32Attribute=function(a,b){console.warn("THREE.Int32Attribute has been removed. Use new THREE.Int32BufferAttribute() instead.");return new Lc(a,b)};a.Uint32Attribute=function(a,b){console.warn("THREE.Uint32Attribute has been removed. Use new THREE.Uint32BufferAttribute() instead.");return new zb(a,b)};a.Float32Attribute=function(a,b){console.warn("THREE.Float32Attribute has been removed. Use new THREE.Float32BufferAttribute() instead.");return new W(a,b)};a.Float64Attribute=
function(a,b){console.warn("THREE.Float64Attribute has been removed. Use new THREE.Float64BufferAttribute() instead.");return new Kb(a,b)};a.ClosedSplineCurve3=Bf;a.SplineCurve3=Cf;a.Spline=bf;a.BoundingBoxHelper=function(a,b){console.warn("THREE.BoundingBoxHelper has been deprecated. Creating a THREE.BoxHelper instead.");return new Md(a,b)};a.EdgesHelper=function(a,b){console.warn("THREE.EdgesHelper has been removed. Use THREE.EdgesGeometry instead.");return new va(new L(a.geometry),new Ea({color:void 0!==
b?b:16777215}))};a.WireframeHelper=function(a,b){console.warn("THREE.WireframeHelper has been removed. Use THREE.WireframeGeometry instead.");return new va(new Fb(a.geometry),new Ea({color:void 0!==b?b:16777215}))};a.XHRLoader=function(a){console.warn("THREE.XHRLoader has been renamed to THREE.FileLoader.");return new sc(a)};a.BinaryTextureLoader=function(a){console.warn("THREE.BinaryTextureLoader has been renamed to THREE.DataTextureLoader.");return new ic(a)};a.GeometryUtils={merge:function(a,b,
c){console.warn("THREE.GeometryUtils: .merge() has been moved to Geometry. Use geometry.merge( geometry2, matrix, materialIndexOffset ) instead.");if(b.isMesh){b.matrixAutoUpdate&&b.updateMatrix();var e=b.matrix;b=b.geometry}a.merge(b,e,c)},center:function(a){console.warn("THREE.GeometryUtils: .center() has been moved to Geometry. Use geometry.center() instead.");return a.center()}};a.ImageUtils={crossOrigin:void 0,loadTexture:function(a,b,c,d){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");
var e=new Od;e.setCrossOrigin(this.crossOrigin);a=e.load(a,c,void 0,d);b&&(a.mapping=b);return a},loadTextureCube:function(a,b,c,d){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");var e=new Da;e.setCrossOrigin(this.crossOrigin);a=e.load(a,c,void 0,d);b&&(a.mapping=b);return a},loadCompressedTexture:function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")},loadCompressedTextureCube:function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")}};
a.Projector=function(){console.error("THREE.Projector has been moved to /examples/js/renderers/Projector.js.");this.projectVector=function(a,b){console.warn("THREE.Projector: .projectVector() is now vector.project().");a.project(b)};this.unprojectVector=function(a,b){console.warn("THREE.Projector: .unprojectVector() is now vector.unproject().");a.unproject(b)};this.pickingRay=function(){console.error("THREE.Projector: .pickingRay() is now raycaster.setFromCamera().")}};a.CanvasRenderer=function(){console.error("THREE.CanvasRenderer has been moved to /examples/js/renderers/CanvasRenderer.js");
this.domElement=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");this.clear=function(){};this.render=function(){};this.setClearColor=function(){};this.setSize=function(){}};Object.defineProperty(a,"__esModule",{value:!0})});
function drawThreeGeo(a,m,f,k,n){function p(a){for(var b=[],c,f=0;f<a.length;f++){c=a[f];var k=a[f-1];if(0<f)if(z(k,c))for(c=[k,c],c=w(c),k=0;k<c.length;k++)b.push(c[k]);else b.push(c);else b.push(c)}return b}function z(a,b){var c=Math.abs(b[1]-a[1]);return 5<Math.abs(b[0]-a[0])||5<c?!0:!1}function w(a){for(var b=[],c,f,k=0;k<a.length-1;k++)c=a[k],f=a[k+1],z(f,c)?(b.push(c),b.push([(c[0]+f[0])/2,(c[1]+f[1])/2])):b.push(c);b.push(a[a.length-1]);b.length>a.length&&(b=w(b));return b}function b(a,b){var f=
a[0];a=a[1];c.push(Math.cos(a*Math.PI/180)*Math.cos(f*Math.PI/180)*b);F.push(Math.cos(a*Math.PI/180)*Math.sin(f*Math.PI/180)*b);V.push(Math.sin(a*Math.PI/180)*b)}function t(a,b){var c=a[0];V.push(a[1]/180*b);F.push(c/180*b)}function x(a,b,f,k){var m=new THREE.Geometry;m.vertices.push(new THREE.Vector3(a,b,f));a=new THREE.ParticleSystemMaterial(k);m=new THREE.ParticleSystem(m,a);n.add(m);c.length=0;F.length=0;V.length=0}function H(a,b,f,k){for(var m=new THREE.Geometry,p=0;p<a.length;p++)m.vertices.push(new THREE.Vector3(a[p],
b[p],f[p]));a=new THREE.MeshLambertMaterial(k);m=new THREE.Line(m,a);n.add(m);c.length=0;F.length=0;V.length=0}n=n||window.scene;var c=[],F=[],V=[];a=function(a){var b=[];if("Feature"==a.type)b.push(a.geometry);else if("FeatureCollection"==a.type)for(var c=0;c<a.features.length;c++)b.push(a.features[c].geometry);else if("GeometryCollection"==a.type)for(c=0;c<a.geometries.length;c++)b.push(a.geometries[c]);else throw Error("The geoJSON is not valid.");return b}(a);f=function(a){if("sphere"==a)a=b;
else if("plane"==a)a=t;else throw Error("The shape that you specified is not valid.");return a}(f);for(var q=[],U=0;U<a.length;U++)if("Point"==a[U].type)f(a[U].coordinates,m),x(F[0],V[0],c[0],k);else if("MultiPoint"==a[U].type)for(var A=0;A<a[U].coordinates.length;A++)f(a[U].coordinates[A],m),x(F[0],V[0],c[0],k);else if("LineString"==a[U].type){q=p(a[U].coordinates);for(A=0;A<q.length;A++)f(q[A],m);H(F,V,c,k)}else if("Polygon"==a[U].type)for(var ta=0;ta<a[U].coordinates.length;ta++){q=p(a[U].coordinates[ta]);
for(A=0;A<q.length;A++)f(q[A],m);H(F,V,c,k)}else if("MultiLineString"==a[U].type)for(ta=0;ta<a[U].coordinates.length;ta++){q=p(a[U].coordinates[ta]);for(A=0;A<q.length;A++)f(q[A],m);H(F,V,c,k)}else if("MultiPolygon"==a[U].type)for(var bb=0;bb<a[U].coordinates.length;bb++)for(ta=0;ta<a[U].coordinates[bb].length;ta++){q=p(a[U].coordinates[bb][ta]);for(A=0;A<q.length;A++)f(q[A],m);H(F,V,c,k)}else throw Error("The geoJSON is not valid.");}
(function(a,m){"object"===typeof exports&&"object"===typeof module?module.exports=m():"function"===typeof define&&define.amd?define([],m):"object"===typeof exports?exports.dat=m():a.dat=m()})(this,function(){return function(a){function m(k){if(f[k])return f[k].exports;var n=f[k]={exports:{},id:k,loaded:!1};a[k].call(n.exports,n,n.exports,m);n.loaded=!0;return n.exports}var f={};m.m=a;m.c=f;m.p="";return m(0)}([function(a,m,f){m.__esModule=!0;f=f(1);m.default=(f&&f.__esModule?f:{default:f}).default;
a.exports=m["default"]},function(a,m,f){function k(a){return a&&a.__esModule?a:{default:a}}m.__esModule=!0;var n=f(2);n=k(n);var p=f(6);p=k(p);var z=f(3);z=k(z);var w=f(7);w=k(w);var b=f(8);b=k(b);var t=f(10);t=k(t);var x=f(11);x=k(x);var H=f(12);H=k(H);var c=f(13);c=k(c);var F=f(14);F=k(F);var V=f(15);V=k(V);var q=f(16);q=k(q);var U=f(9);U=k(U);f=f(17);f=k(f);m.default={color:{Color:n.default,math:p.default,interpret:z.default},controllers:{Controller:w.default,BooleanController:b.default,OptionController:t.default,
StringController:x.default,NumberController:H.default,NumberControllerBox:c.default,NumberControllerSlider:F.default,FunctionController:V.default,ColorController:q.default},dom:{dom:U.default},gui:{GUI:f.default},GUI:f.default};a.exports=m["default"]},function(a,m,f){function k(a){return a&&a.__esModule?a:{default:a}}function n(a,b,f){Object.defineProperty(a,b,{get:function(){if("RGB"===this.__state.space)return this.__state[b];H.recalculateRGB(this,b,f);return this.__state[b]},set:function(a){"RGB"!==
this.__state.space&&(H.recalculateRGB(this,b,f),this.__state.space="RGB");this.__state[b]=a}})}function p(a,b){Object.defineProperty(a,b,{get:function(){if("HSV"===this.__state.space)return this.__state[b];H.recalculateHSV(this);return this.__state[b]},set:function(a){"HSV"!==this.__state.space&&(H.recalculateHSV(this),this.__state.space="HSV");this.__state[b]=a}})}m.__esModule=!0;var z=f(3),w=k(z);z=f(6);var b=k(z);z=f(4);var t=k(z);f=f(5);var x=k(f),H=function(){function a(){if(!(this instanceof
a))throw new TypeError("Cannot call a class as a function");this.__state=w.default.apply(this,arguments);if(!1===this.__state)throw Error("Failed to interpret color arguments");this.__state.a=this.__state.a||1}a.prototype.toString=function(){return(0,t.default)(this)};a.prototype.toHexString=function(){return(0,t.default)(this,!0)};a.prototype.toOriginal=function(){return this.__state.conversion.write(this)};return a}();H.recalculateRGB=function(a,f,k){if("HEX"===a.__state.space)a.__state[f]=b.default.component_from_hex(a.__state.hex,
k);else if("HSV"===a.__state.space)x.default.extend(a.__state,b.default.hsv_to_rgb(a.__state.h,a.__state.s,a.__state.v));else throw Error("Corrupted color state");};H.recalculateHSV=function(a){var c=b.default.rgb_to_hsv(a.r,a.g,a.b);x.default.extend(a.__state,{s:c.s,v:c.v});x.default.isNaN(c.h)?x.default.isUndefined(a.__state.h)&&(a.__state.h=0):a.__state.h=c.h};H.COMPONENTS="r g b h s v hex a".split(" ");n(H.prototype,"r",2);n(H.prototype,"g",1);n(H.prototype,"b",0);p(H.prototype,"h");p(H.prototype,
"s");p(H.prototype,"v");Object.defineProperty(H.prototype,"a",{get:function(){return this.__state.a},set:function(a){this.__state.a=a}});Object.defineProperty(H.prototype,"hex",{get:function(){this.__state.hex=b.default.rgb_to_hex(this.r,this.g,this.b);return this.__state.hex},set:function(a){this.__state.space="HEX";this.__state.hex=a}});m.default=H;a.exports=m["default"]},function(a,m,f){m.__esModule=!0;var k=f(4);k=k&&k.__esModule?k:{default:k};var n=(f=f(5))&&f.__esModule?f:{default:f},p=[{litmus:n.default.isString,
conversions:{THREE_CHAR_HEX:{read:function(a){a=a.match(/^#([A-F0-9])([A-F0-9])([A-F0-9])$/i);return null===a?!1:{space:"HEX",hex:parseInt("0x"+a[1].toString()+a[1].toString()+a[2].toString()+a[2].toString()+a[3].toString()+a[3].toString(),0)}},write:k.default},SIX_CHAR_HEX:{read:function(a){a=a.match(/^#([A-F0-9]{6})$/i);return null===a?!1:{space:"HEX",hex:parseInt("0x"+a[1].toString(),0)}},write:k.default},CSS_RGB:{read:function(a){a=a.match(/^rgb\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\)/);return null===
a?!1:{space:"RGB",r:parseFloat(a[1]),g:parseFloat(a[2]),b:parseFloat(a[3])}},write:k.default},CSS_RGBA:{read:function(a){a=a.match(/^rgba\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\)/);return null===a?!1:{space:"RGB",r:parseFloat(a[1]),g:parseFloat(a[2]),b:parseFloat(a[3]),a:parseFloat(a[4])}},write:k.default}}},{litmus:n.default.isNumber,conversions:{HEX:{read:function(a){return{space:"HEX",hex:a,conversionName:"HEX"}},write:function(a){return a.hex}}}},{litmus:n.default.isArray,conversions:{RGB_ARRAY:{read:function(a){return 3!==
a.length?!1:{space:"RGB",r:a[0],g:a[1],b:a[2]}},write:function(a){return[a.r,a.g,a.b]}},RGBA_ARRAY:{read:function(a){return 4!==a.length?!1:{space:"RGB",r:a[0],g:a[1],b:a[2],a:a[3]}},write:function(a){return[a.r,a.g,a.b,a.a]}}}},{litmus:n.default.isObject,conversions:{RGBA_OBJ:{read:function(a){return n.default.isNumber(a.r)&&n.default.isNumber(a.g)&&n.default.isNumber(a.b)&&n.default.isNumber(a.a)?{space:"RGB",r:a.r,g:a.g,b:a.b,a:a.a}:!1},write:function(a){return{r:a.r,g:a.g,b:a.b,a:a.a}}},RGB_OBJ:{read:function(a){return n.default.isNumber(a.r)&&
n.default.isNumber(a.g)&&n.default.isNumber(a.b)?{space:"RGB",r:a.r,g:a.g,b:a.b}:!1},write:function(a){return{r:a.r,g:a.g,b:a.b}}},HSVA_OBJ:{read:function(a){return n.default.isNumber(a.h)&&n.default.isNumber(a.s)&&n.default.isNumber(a.v)&&n.default.isNumber(a.a)?{space:"HSV",h:a.h,s:a.s,v:a.v,a:a.a}:!1},write:function(a){return{h:a.h,s:a.s,v:a.v,a:a.a}}},HSV_OBJ:{read:function(a){return n.default.isNumber(a.h)&&n.default.isNumber(a.s)&&n.default.isNumber(a.v)?{space:"HSV",h:a.h,s:a.s,v:a.v}:!1},
write:function(a){return{h:a.h,s:a.s,v:a.v}}}}}],z=void 0,w=void 0;m.default=function(){w=!1;var a=1<arguments.length?n.default.toArray(arguments):arguments[0];n.default.each(p,function(b){if(b.litmus(a))return n.default.each(b.conversions,function(b,f){z=b.read(a);if(!1===w&&!1!==z)return w=z,z.conversionName=f,z.conversion=b,n.default.BREAK}),n.default.BREAK});return w};a.exports=m["default"]},function(a,m){m.__esModule=!0;m.default=function(a,k){var f=a.__state.conversionName.toString(),m=Math.round(a.r),
z=Math.round(a.g),w=Math.round(a.b),b=a.a,t=Math.round(a.h),x=a.s.toFixed(1),H=a.v.toFixed(1);if(k||"THREE_CHAR_HEX"===f||"SIX_CHAR_HEX"===f){for(a=a.hex.toString(16);6>a.length;)a="0"+a;return"#"+a}return"CSS_RGB"===f?"rgb("+m+","+z+","+w+")":"CSS_RGBA"===f?"rgba("+m+","+z+","+w+","+b+")":"HEX"===f?"0x"+a.hex.toString(16):"RGB_ARRAY"===f?"["+m+","+z+","+w+"]":"RGBA_ARRAY"===f?"["+m+","+z+","+w+","+b+"]":"RGB_OBJ"===f?"{r:"+m+",g:"+z+",b:"+w+"}":"RGBA_OBJ"===f?"{r:"+m+",g:"+z+",b:"+w+",a:"+b+"}":
"HSV_OBJ"===f?"{h:"+t+",s:"+x+",v:"+H+"}":"HSVA_OBJ"===f?"{h:"+t+",s:"+x+",v:"+H+",a:"+b+"}":"unknown format"};a.exports=m["default"]},function(a,m){m.__esModule=!0;var f=Array.prototype.forEach,k=Array.prototype.slice,n={BREAK:{},extend:function(a){this.each(k.call(arguments,1),function(f){(this.isObject(f)?Object.keys(f):[]).forEach(function(k){this.isUndefined(f[k])||(a[k]=f[k])}.bind(this))},this);return a},defaults:function(a){this.each(k.call(arguments,1),function(f){(this.isObject(f)?Object.keys(f):
[]).forEach(function(k){this.isUndefined(a[k])&&(a[k]=f[k])}.bind(this))},this);return a},compose:function(){var a=k.call(arguments);return function(){for(var f=k.call(arguments),n=a.length-1;0<=n;n--)f=[a[n].apply(this,f)];return f[0]}},each:function(a,k,n){if(a)if(f&&a.forEach&&a.forEach===f)a.forEach(k,n);else if(a.length===a.length+0){var b;var m=0;for(b=a.length;m<b&&!(m in a&&k.call(n,a[m],m)===this.BREAK);m++);}else for(m in a)if(k.call(n,a[m],m)===this.BREAK)break},defer:function(a){setTimeout(a,
0)},debounce:function(a,f,k){var b=void 0;return function(){var n=this,m=arguments,p=k||!b;clearTimeout(b);b=setTimeout(function(){b=null;k||a.apply(n,m)},f);p&&a.apply(n,m)}},toArray:function(a){return a.toArray?a.toArray():k.call(a)},isUndefined:function(a){return void 0===a},isNull:function(a){return null===a},isNaN:function(a){function f(f){return a.apply(this,arguments)}f.toString=function(){return a.toString()};return f}(function(a){return isNaN(a)}),isArray:Array.isArray||function(a){return a.constructor===
Array},isObject:function(a){return a===Object(a)},isNumber:function(a){return a===a+0},isString:function(a){return a===a+""},isBoolean:function(a){return!1===a||!0===a},isFunction:function(a){return"[object Function]"===Object.prototype.toString.call(a)}};m.default=n;a.exports=m["default"]},function(a,m){m.__esModule=!0;var f=void 0;m.default={hsv_to_rgb:function(a,f,m){var k=a/60-Math.floor(a/60),n=m*(1-f),b=m*(1-k*f);f=m*(1-(1-k)*f);a=[[m,f,n],[b,m,n],[n,m,f],[n,b,m],[f,n,m],[m,n,b]][Math.floor(a/
60)%6];return{r:255*a[0],g:255*a[1],b:255*a[2]}},rgb_to_hsv:function(a,f,m){var k=Math.max(a,f,m),n=k-Math.min(a,f,m);if(0===k)return{h:NaN,s:0,v:0};a=(a===k?(f-m)/n:f===k?2+(m-a)/n:4+(a-f)/n)/6;0>a&&(a+=1);return{h:360*a,s:n/k,v:k/255}},rgb_to_hex:function(a,f,m){a=this.hex_with_component(0,2,a);a=this.hex_with_component(a,1,f);return a=this.hex_with_component(a,0,m)},component_from_hex:function(a,f){return a>>8*f&255},hex_with_component:function(a,n,m){return m<<(f=8*n)|a&~(255<<f)}};a.exports=
m["default"]},function(a,m){m.__esModule=!0;var f=function(){function a(f,k){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this.initialValue=f[k];this.domElement=document.createElement("div");this.object=f;this.property=k;this.__onFinishChange=this.__onChange=void 0}a.prototype.onChange=function(a){this.__onChange=a;return this};a.prototype.onFinishChange=function(a){this.__onFinishChange=a;return this};a.prototype.setValue=function(a){this.object[this.property]=
a;this.__onChange&&this.__onChange.call(this,a);this.updateDisplay();return this};a.prototype.getValue=function(){return this.object[this.property]};a.prototype.updateDisplay=function(){return this};a.prototype.isModified=function(){return this.initialValue!==this.getValue()};return a}();m.default=f;a.exports=m["default"]},function(a,m,f){function k(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!==typeof b&&"function"!==typeof b?
a:b}function n(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}m.__esModule=!0;var p=f(7);p=p&&p.__esModule?p:{default:p};var z=(f=f(9))&&f.__esModule?f:{default:f};f=function(a){function b(f,n){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");
var m=k(this,a.call(this,f,n));m.__prev=m.getValue();m.__checkbox=document.createElement("input");m.__checkbox.setAttribute("type","checkbox");z.default.bind(m.__checkbox,"change",function(){m.setValue(!m.__prev)},!1);m.domElement.appendChild(m.__checkbox);m.updateDisplay();return m}n(b,a);b.prototype.setValue=function(b){b=a.prototype.setValue.call(this,b);this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue());this.__prev=this.getValue();return b};b.prototype.updateDisplay=function(){!0===
this.getValue()?(this.__checkbox.setAttribute("checked","checked"),this.__prev=this.__checkbox.checked=!0):this.__prev=this.__checkbox.checked=!1;return a.prototype.updateDisplay.call(this)};return b}(p.default);m.default=f;a.exports=m["default"]},function(a,m,f){function k(a){if("0"===a||n.default.isUndefined(a))return 0;a=a.match(z);return n.default.isNull(a)?0:parseFloat(a[1])}m.__esModule=!0;var n=(f=f(5))&&f.__esModule?f:{default:f},p={};n.default.each({HTMLEvents:["change"],MouseEvents:["click",
"mousemove","mousedown","mouseup","mouseover"],KeyboardEvents:["keydown"]},function(a,f){n.default.each(a,function(a){p[a]=f})});var z=/(\d+(\.\d+)?)px/,w={makeSelectable:function(a,f){void 0!==a&&void 0!==a.style&&(a.onselectstart=f?function(){return!1}:function(){},a.style.MozUserSelect=f?"auto":"none",a.style.KhtmlUserSelect=f?"auto":"none",a.unselectable=f?"on":"off")},makeFullscreen:function(a,f,k){n.default.isUndefined(f)&&(f=!0);n.default.isUndefined(k)&&(k=!0);a.style.position="absolute";
f&&(a.style.left=0,a.style.right=0);k&&(a.style.top=0,a.style.bottom=0)},fakeEvent:function(a,f,k,m){k=k||{};var b=p[f];if(!b)throw Error("Event type "+f+" not supported.");var t=document.createEvent(b);switch(b){case "MouseEvents":t.initMouseEvent(f,k.bubbles||!1,k.cancelable||!0,window,k.clickCount||1,0,0,k.x||k.clientX||0,k.y||k.clientY||0,!1,!1,!1,!1,0,null);break;case "KeyboardEvents":b=t.initKeyboardEvent||t.initKeyEvent;n.default.defaults(k,{cancelable:!0,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,
keyCode:void 0,charCode:void 0});b(f,k.bubbles||!1,k.cancelable,window,k.ctrlKey,k.altKey,k.shiftKey,k.metaKey,k.keyCode,k.charCode);break;default:t.initEvent(f,k.bubbles||!1,k.cancelable||!0)}n.default.defaults(t,m);a.dispatchEvent(t)},bind:function(a,f,k,m){a.addEventListener?a.addEventListener(f,k,m||!1):a.attachEvent&&a.attachEvent("on"+f,k);return w},unbind:function(a,f,k,m){a.removeEventListener?a.removeEventListener(f,k,m||!1):a.detachEvent&&a.detachEvent("on"+f,k);return w},addClass:function(a,
f){if(void 0===a.className)a.className=f;else if(a.className!==f){var b=a.className.split(/ +/);-1===b.indexOf(f)&&(b.push(f),a.className=b.join(" ").replace(/^\s+/,"").replace(/\s+$/,""))}return w},removeClass:function(a,f){if(f)if(a.className===f)a.removeAttribute("class");else{var b=a.className.split(/ +/);f=b.indexOf(f);-1!==f&&(b.splice(f,1),a.className=b.join(" "))}else a.className=void 0;return w},hasClass:function(a,f){return(new RegExp("(?:^|\\s+)"+f+"(?:\\s+|$)")).test(a.className)||!1},
getWidth:function(a){a=getComputedStyle(a);return k(a["border-left-width"])+k(a["border-right-width"])+k(a["padding-left"])+k(a["padding-right"])+k(a.width)},getHeight:function(a){a=getComputedStyle(a);return k(a["border-top-width"])+k(a["border-bottom-width"])+k(a["padding-top"])+k(a["padding-bottom"])+k(a.height)},getOffset:function(a){var b={left:0,top:0};if(a.offsetParent){do b.left+=a.offsetLeft,b.top+=a.offsetTop,a=a.offsetParent;while(a)}return b},isActive:function(a){return a===document.activeElement&&
(a.type||a.href)}};m.default=w;a.exports=m["default"]},function(a,m,f){function k(a){return a&&a.__esModule?a:{default:a}}function n(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!==typeof b&&"function"!==typeof b?a:b}function p(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,
writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}m.__esModule=!0;var z=f(7);z=k(z);var w=f(9),b=k(w);f=f(5);var t=k(f);f=function(a){function f(c,k,m){if(!(this instanceof f))throw new TypeError("Cannot call a class as a function");var p=n(this,a.call(this,c,k));c=m;p.__select=document.createElement("select");if(t.default.isArray(c)){var w={};t.default.each(c,function(a){w[a]=a});c=w}t.default.each(c,function(a,b){var c=document.createElement("option");
c.innerHTML=b;c.setAttribute("value",a);p.__select.appendChild(c)});p.updateDisplay();b.default.bind(p.__select,"change",function(){p.setValue(this.options[this.selectedIndex].value)});p.domElement.appendChild(p.__select);return p}p(f,a);f.prototype.setValue=function(b){b=a.prototype.setValue.call(this,b);this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue());return b};f.prototype.updateDisplay=function(){if(b.default.isActive(this.__select))return this;this.__select.value=this.getValue();
return a.prototype.updateDisplay.call(this)};return f}(z.default);m.default=f;a.exports=m["default"]},function(a,m,f){function k(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!==typeof b&&"function"!==typeof b?a:b}function n(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,
configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}m.__esModule=!0;var p=f(7);p=p&&p.__esModule?p:{default:p};var z=(f=f(9))&&f.__esModule?f:{default:f};f=function(a){function b(f,m){function n(){c.setValue(c.__input.value)}if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");var c=f=k(this,a.call(this,f,m));f.__input=document.createElement("input");f.__input.setAttribute("type","text");z.default.bind(f.__input,"keyup",n);z.default.bind(f.__input,
"change",n);z.default.bind(f.__input,"blur",function(){c.__onFinishChange&&c.__onFinishChange.call(c,c.getValue())});z.default.bind(f.__input,"keydown",function(a){13===a.keyCode&&this.blur()});f.updateDisplay();f.domElement.appendChild(f.__input);return f}n(b,a);b.prototype.updateDisplay=function(){z.default.isActive(this.__input)||(this.__input.value=this.getValue());return a.prototype.updateDisplay.call(this)};return b}(p.default);m.default=f;a.exports=m["default"]},function(a,m,f){function k(a,
b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function n(a){a=a.toString();return-1<a.indexOf(".")?a.length-a.indexOf(".")-1:0}m.__esModule=!0;var p=f(7);p=p&&p.__esModule?p:{default:p};var z=(f=f(5))&&f.__esModule?f:{default:f};f=function(a){function b(f,
k,m){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");f=a.call(this,f,k);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");f=!f||"object"!==typeof f&&"function"!==typeof f?this:f;m=m||{};f.__min=m.min;f.__max=m.max;f.__step=m.step;z.default.isUndefined(f.__step)?f.__impliedStep=0===f.initialValue?1:Math.pow(10,Math.floor(Math.log(Math.abs(f.initialValue))/Math.LN10))/10:f.__impliedStep=f.__step;f.__precision=n(f.__impliedStep);
return f}k(b,a);b.prototype.setValue=function(b){void 0!==this.__min&&b<this.__min?b=this.__min:void 0!==this.__max&&b>this.__max&&(b=this.__max);void 0!==this.__step&&0!==b%this.__step&&(b=Math.round(b/this.__step)*this.__step);return a.prototype.setValue.call(this,b)};b.prototype.min=function(a){this.__min=a;return this};b.prototype.max=function(a){this.__max=a;return this};b.prototype.step=function(a){this.__impliedStep=this.__step=a;this.__precision=n(a);return this};return b}(p.default);m.default=
f;a.exports=m["default"]},function(a,m,f){function k(a){return a&&a.__esModule?a:{default:a}}function n(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!==typeof b&&"function"!==typeof b?a:b}function p(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});
b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}m.__esModule=!0;var z=f(12);z=k(z);var w=f(9),b=k(w);f=f(5);var t=k(f);f=function(a){function f(c,k,m){function p(){x.__onFinishChange&&x.__onFinishChange.call(x,x.getValue())}function w(a){var b=z-a.clientY;x.setValue(x.getValue()+b*x.__impliedStep);z=a.clientY}function A(){b.default.unbind(window,"mousemove",w);b.default.unbind(window,"mouseup",A);p()}if(!(this instanceof f))throw new TypeError("Cannot call a class as a function");
c=n(this,a.call(this,c,k,m));c.__truncationSuspended=!1;var x=c,z=void 0;c.__input=document.createElement("input");c.__input.setAttribute("type","text");b.default.bind(c.__input,"change",function(){var a=parseFloat(x.__input.value);t.default.isNaN(a)||x.setValue(a)});b.default.bind(c.__input,"blur",function(){p()});b.default.bind(c.__input,"mousedown",function(a){b.default.bind(window,"mousemove",w);b.default.bind(window,"mouseup",A);z=a.clientY});b.default.bind(c.__input,"keydown",function(a){13===
a.keyCode&&(x.__truncationSuspended=!0,this.blur(),x.__truncationSuspended=!1,p())});c.updateDisplay();c.domElement.appendChild(c.__input);return c}p(f,a);f.prototype.updateDisplay=function(){var b=this.__input;if(this.__truncationSuspended)var f=this.getValue();else{f=this.getValue();var k=Math.pow(10,this.__precision);f=Math.round(f*k)/k}b.value=f;return a.prototype.updateDisplay.call(this)};return f}(z.default);m.default=f;a.exports=m["default"]},function(a,m,f){function k(a,f){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
return!f||"object"!==typeof f&&"function"!==typeof f?a:f}function n(a,f){if("function"!==typeof f&&null!==f)throw new TypeError("Super expression must either be null or a function, not "+typeof f);a.prototype=Object.create(f&&f.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});f&&(Object.setPrototypeOf?Object.setPrototypeOf(a,f):a.__proto__=f)}function p(a,f,k,m,c){return m+(a-f)/(k-f)*(c-m)}m.__esModule=!0;var z=f(12);z=z&&z.__esModule?z:{default:z};var w=(f=f(9))&&f.__esModule?
f:{default:f};f=function(a){function b(f,m,c,n,t){function q(a){a.preventDefault();var b=A.__background.getBoundingClientRect();A.setValue(p(a.clientX,b.left,b.right,A.__min,A.__max));return!1}function x(){w.default.unbind(window,"mousemove",q);w.default.unbind(window,"mouseup",x);A.__onFinishChange&&A.__onFinishChange.call(A,A.getValue())}if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");var A=f=k(this,a.call(this,f,m,{min:c,max:n,step:t}));f.__background=document.createElement("div");
f.__foreground=document.createElement("div");w.default.bind(f.__background,"mousedown",function(a){document.activeElement.blur();w.default.bind(window,"mousemove",q);w.default.bind(window,"mouseup",x);q(a)});w.default.addClass(f.__background,"slider");w.default.addClass(f.__foreground,"slider-fg");f.updateDisplay();f.__background.appendChild(f.__foreground);f.domElement.appendChild(f.__background);return f}n(b,a);b.prototype.updateDisplay=function(){var b=(this.getValue()-this.__min)/(this.__max-
this.__min);this.__foreground.style.width=100*b+"%";return a.prototype.updateDisplay.call(this)};return b}(z.default);m.default=f;a.exports=m["default"]},function(a,m,f){function k(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!==typeof b&&"function"!==typeof b?a:b}function n(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&
b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}m.__esModule=!0;var p=f(7);p=p&&p.__esModule?p:{default:p};var z=(f=f(9))&&f.__esModule?f:{default:f};f=function(a){function b(f,m,n){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");var c=k(this,a.call(this,f,m));c.__button=document.createElement("div");c.__button.innerHTML=void 0===n?"Fire":n;z.default.bind(c.__button,
"click",function(a){a.preventDefault();c.fire();return!1});z.default.addClass(c.__button,"button");c.domElement.appendChild(c.__button);return c}n(b,a);b.prototype.fire=function(){this.__onChange&&this.__onChange.call(this);this.getValue().call(this.object);this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue())};return b}(p.default);m.default=f;a.exports=m["default"]},function(a,m,f){function k(a){return a&&a.__esModule?a:{default:a}}function n(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
return!b||"object"!==typeof b&&"function"!==typeof b?a:b}function p(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function z(a,b,c,f){a.style.background="";F.default.each(V,function(k){a.style.cssText+="background: "+k+"linear-gradient("+b+", "+
c+" 0%, "+f+" 100%); "})}function w(a){a.style.background="";a.style.cssText+="background: -moz-linear-gradient(top,  #ff0000 0%, #ff00ff 17%, #0000ff 34%, #00ffff 50%, #00ff00 67%, #ffff00 84%, #ff0000 100%);";a.style.cssText+="background: -webkit-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);";a.style.cssText+="background: -o-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);";a.style.cssText+=
"background: -ms-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);";a.style.cssText+="background: linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);"}m.__esModule=!0;var b=f(7);b=k(b);var t=f(9),x=k(t);t=f(2);var H=k(t);t=f(3);var c=k(t);f=f(5);var F=k(f);f=function(a){function b(f,k){function m(a){V(a);x.default.bind(window,"mousemove",V);x.default.bind(window,"mouseup",p)}function p(){x.default.unbind(window,
"mousemove",V);x.default.unbind(window,"mouseup",p);A()}function q(){var a=(0,c.default)(this.value);!1!==a?(J.__color.__state=a,J.setValue(J.__color.toOriginal())):this.value=J.__color.toString()}function t(){x.default.unbind(window,"mousemove",U);x.default.unbind(window,"mouseup",t);A()}function A(){J.__onFinishChange&&J.__onFinishChange.call(J,J.__color.toOriginal())}function V(a){a.preventDefault();var b=J.__saturation_field.getBoundingClientRect(),c=(a.clientX-b.left)/(b.right-b.left);a=1-(a.clientY-
b.top)/(b.bottom-b.top);1<a?a=1:0>a&&(a=0);1<c?c=1:0>c&&(c=0);J.__color.v=a;J.__color.s=c;J.setValue(J.__color.toOriginal());return!1}function U(a){a.preventDefault();var b=J.__hue_field.getBoundingClientRect();a=1-(a.clientY-b.top)/(b.bottom-b.top);1<a?a=1:0>a&&(a=0);J.__color.h=360*a;J.setValue(J.__color.toOriginal());return!1}if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");f=n(this,a.call(this,f,k));f.__color=new H.default(f.getValue());f.__temp=new H.default(0);
var J=f;f.domElement=document.createElement("div");x.default.makeSelectable(f.domElement,!1);f.__selector=document.createElement("div");f.__selector.className="selector";f.__saturation_field=document.createElement("div");f.__saturation_field.className="saturation-field";f.__field_knob=document.createElement("div");f.__field_knob.className="field-knob";f.__field_knob_border="2px solid ";f.__hue_knob=document.createElement("div");f.__hue_knob.className="hue-knob";f.__hue_field=document.createElement("div");
f.__hue_field.className="hue-field";f.__input=document.createElement("input");f.__input.type="text";f.__input_textShadow="0 1px 1px ";x.default.bind(f.__input,"keydown",function(a){13===a.keyCode&&q.call(this)});x.default.bind(f.__input,"blur",q);x.default.bind(f.__selector,"mousedown",function(){x.default.addClass(this,"drag").bind(window,"mouseup",function(){x.default.removeClass(J.__selector,"drag")})});k=document.createElement("div");F.default.extend(f.__selector.style,{width:"122px",height:"102px",
padding:"3px",backgroundColor:"#222",boxShadow:"0px 1px 3px rgba(0,0,0,0.3)"});F.default.extend(f.__field_knob.style,{position:"absolute",width:"12px",height:"12px",border:f.__field_knob_border+(.5>f.__color.v?"#fff":"#000"),boxShadow:"0px 1px 3px rgba(0,0,0,0.5)",borderRadius:"12px",zIndex:1});F.default.extend(f.__hue_knob.style,{position:"absolute",width:"15px",height:"2px",borderRight:"4px solid #fff",zIndex:1});F.default.extend(f.__saturation_field.style,{width:"100px",height:"100px",border:"1px solid #555",
marginRight:"3px",display:"inline-block",cursor:"pointer"});F.default.extend(k.style,{width:"100%",height:"100%",background:"none"});z(k,"top","rgba(0,0,0,0)","#000");F.default.extend(f.__hue_field.style,{width:"15px",height:"100px",border:"1px solid #555",cursor:"ns-resize",position:"absolute",top:"3px",right:"3px"});w(f.__hue_field);F.default.extend(f.__input.style,{outline:"none",textAlign:"center",color:"#fff",border:0,fontWeight:"bold",textShadow:f.__input_textShadow+"rgba(0,0,0,0.7)"});x.default.bind(f.__saturation_field,
"mousedown",m);x.default.bind(f.__field_knob,"mousedown",m);x.default.bind(f.__hue_field,"mousedown",function(a){U(a);x.default.bind(window,"mousemove",U);x.default.bind(window,"mouseup",t)});f.__saturation_field.appendChild(k);f.__selector.appendChild(f.__field_knob);f.__selector.appendChild(f.__saturation_field);f.__selector.appendChild(f.__hue_field);f.__hue_field.appendChild(f.__hue_knob);f.domElement.appendChild(f.__input);f.domElement.appendChild(f.__selector);f.updateDisplay();return f}p(b,
a);b.prototype.updateDisplay=function(){var a=(0,c.default)(this.getValue());if(!1!==a){var b=!1;F.default.each(H.default.COMPONENTS,function(c){if(!F.default.isUndefined(a[c])&&!F.default.isUndefined(this.__color.__state[c])&&a[c]!==this.__color.__state[c])return b=!0,{}},this);b&&F.default.extend(this.__color.__state,a)}F.default.extend(this.__temp.__state,this.__color.__state);this.__temp.a=1;var f=.5>this.__color.v||.5<this.__color.s?255:0,k=255-f;F.default.extend(this.__field_knob.style,{marginLeft:100*
this.__color.s-7+"px",marginTop:100*(1-this.__color.v)-7+"px",backgroundColor:this.__temp.toHexString(),border:this.__field_knob_border+"rgb("+f+","+f+","+f+")"});this.__hue_knob.style.marginTop=100*(1-this.__color.h/360)+"px";this.__temp.s=1;this.__temp.v=1;z(this.__saturation_field,"left","#fff",this.__temp.toHexString());this.__input.value=this.__color.toString();F.default.extend(this.__input.style,{backgroundColor:this.__color.toHexString(),color:"rgb("+f+","+f+","+f+")",textShadow:this.__input_textShadow+
"rgba("+k+","+k+","+k+",.7)"})};return b}(b.default);var V=["-moz-","-o-","-webkit-","-ms-",""];m.default=f;a.exports=m["default"]},function(a,m,f){function k(a){return a&&a.__esModule?a:{default:a}}function n(a,b,c){var f=document.createElement("li");b&&f.appendChild(b);c?a.__ul.insertBefore(f,c):a.__ul.appendChild(f);a.onResize();return f}function p(a,b){a=a.__preset_select[a.__preset_select.selectedIndex];a.innerHTML=b?a.value+"*":a.value}function z(a,c,f){f.__li=c;f.__gui=a;la.default.extend(f,
{options:function(c){if(1<arguments.length){var k=f.__li.nextElementSibling;f.remove();return b(a,f.object,f.property,{before:k,factoryArgs:[la.default.toArray(arguments)]})}if(la.default.isArray(c)||la.default.isObject(c))return k=f.__li.nextElementSibling,f.remove(),b(a,f.object,f.property,{before:k,factoryArgs:[c]})},name:function(a){f.__li.firstElementChild.firstElementChild.innerHTML=a;return f},listen:function(){f.__gui.listen(f);return f},remove:function(){f.__gui.remove(f);return f}});if(f instanceof
Na.default){var k=new Ma.default(f.object,f.property,{min:f.__min,max:f.__max,step:f.__step});la.default.each(["updateDisplay","onChange","onFinishChange","step"],function(a){var b=f[a],c=k[a];f[a]=k[a]=function(){var a=Array.prototype.slice.call(arguments);c.apply(k,a);return b.apply(f,a)}});G.default.addClass(c,"has-slider");f.domElement.insertBefore(k.domElement,f.domElement.firstElementChild)}else if(f instanceof Ma.default){var m=function(c){if(la.default.isNumber(f.__min)&&la.default.isNumber(f.__max)){c=
f.__li.firstElementChild.firstElementChild.innerHTML;var k=-1<f.__gui.__listening.indexOf(f);f.remove();var m=b(a,f.object,f.property,{before:f.__li.nextElementSibling,factoryArgs:[f.__min,f.__max,f.__step]});m.name(c);k&&m.listen();return m}return c};f.min=la.default.compose(m,f.min);f.max=la.default.compose(m,f.max)}else f instanceof xa.default?(G.default.bind(c,"click",function(){G.default.fakeEvent(f.__checkbox,"click")}),G.default.bind(f.__checkbox,"click",function(a){a.stopPropagation()})):
f instanceof Ca.default?(G.default.bind(c,"click",function(){G.default.fakeEvent(f.__button,"click")}),G.default.bind(c,"mouseover",function(){G.default.addClass(f.__button,"hover")}),G.default.bind(c,"mouseout",function(){G.default.removeClass(f.__button,"hover")})):f instanceof oa.default&&(G.default.addClass(c,"color"),f.updateDisplay=la.default.compose(function(a){c.style.borderLeftColor=f.__color.toString();return a},f.updateDisplay),f.updateDisplay());f.setValue=la.default.compose(function(b){a.getRoot().__preset_select&&
f.isModified()&&p(a.getRoot(),!0);return b},f.setValue)}function w(a,b){var c=a.getRoot(),f=c.__rememberedObjects.indexOf(b.object);if(-1!==f){var k=c.__rememberedObjectIndecesToControllers[f];void 0===k&&(k={},c.__rememberedObjectIndecesToControllers[f]=k);k[b.property]=b;if(c.load&&c.load.remembered){c=c.load.remembered;if(c[a.preset])a=c[a.preset];else if(c.Default)a=c.Default;else return;a[f]&&void 0!==a[f][b.property]&&(f=a[f][b.property],b.initialValue=f,b.setValue(f))}}}function b(a,b,c,f){if(void 0===
b[c])throw Error('Object "'+b+'" has no property "'+c+'"');f.color?b=new oa.default(b,c):(b=[b,c].concat(f.factoryArgs),b=bb.default.apply(a,b));f.before instanceof fa.default&&(f.before=f.before.__li);w(a,b);G.default.addClass(b.domElement,"c");c=document.createElement("span");G.default.addClass(c,"property-name");c.innerHTML=b.property;var k=document.createElement("div");k.appendChild(c);k.appendChild(b.domElement);f=n(a,k,f.before);G.default.addClass(f,T.CLASS_CONTROLLER_ROW);b instanceof oa.default?
G.default.addClass(f,"color"):G.default.addClass(f,q(b.getValue()));z(a,f,b);a.__controllers.push(b);return b}function t(a,b,c){var f=document.createElement("option");f.innerHTML=b;f.value=b;a.__preset_select.appendChild(f);c&&(a.__preset_select.selectedIndex=a.__preset_select.length-1)}function x(a){var b=a.__save_row=document.createElement("li");G.default.addClass(a.domElement,"has-save");a.__ul.insertBefore(b,a.__ul.firstChild);G.default.addClass(b,"save-row");var c=document.createElement("span");
c.innerHTML="&nbsp;";G.default.addClass(c,"button gears");var f=document.createElement("span");f.innerHTML="Save";G.default.addClass(f,"button");G.default.addClass(f,"save");var k=document.createElement("span");k.innerHTML="New";G.default.addClass(k,"button");G.default.addClass(k,"save-as");var m=document.createElement("span");m.innerHTML="Revert";G.default.addClass(m,"button");G.default.addClass(m,"revert");var n=a.__preset_select=document.createElement("select");a.load&&a.load.remembered?la.default.each(a.load.remembered,
function(b,c){t(a,c,c===a.preset)}):t(a,"Default",!1);G.default.bind(n,"change",function(){for(var b=0;b<a.__preset_select.length;b++)a.__preset_select[b].innerHTML=a.__preset_select[b].value;a.preset=this.value});b.appendChild(n);b.appendChild(c);b.appendChild(f);b.appendChild(k);b.appendChild(m);if(cb){var p=document.getElementById("dg-local-explain");b=document.getElementById("dg-local-storage");document.getElementById("dg-save-locally").style.display="block";"true"===localStorage.getItem(document.location.href+
".isLocal")&&b.setAttribute("checked","checked");p.style.display=a.useLocalStorage?"block":"none";G.default.bind(b,"change",function(){a.useLocalStorage=!a.useLocalStorage;p.style.display=a.useLocalStorage?"block":"none"})}var q=document.getElementById("dg-new-constructor");G.default.bind(q,"keydown",function(a){!a.metaKey||67!==a.which&&67!==a.keyCode||ha.hide()});G.default.bind(c,"click",function(){q.innerHTML=JSON.stringify(a.getSaveObject(),void 0,2);ha.show();q.focus();q.select()});G.default.bind(f,
"click",function(){a.save()});G.default.bind(k,"click",function(){var b=prompt("Enter a new preset name.");b&&a.saveAs(b)});G.default.bind(m,"click",function(){a.revert()})}function H(a){function b(b){b.preventDefault();a.width+=k-b.clientX;a.onResize();k=b.clientX;return!1}function c(){G.default.removeClass(a.__closeButton,T.CLASS_DRAG);G.default.unbind(window,"mousemove",b);G.default.unbind(window,"mouseup",c)}function f(f){f.preventDefault();k=f.clientX;G.default.addClass(a.__closeButton,T.CLASS_DRAG);
G.default.bind(window,"mousemove",b);G.default.bind(window,"mouseup",c);return!1}var k=void 0;a.__resize_handle=document.createElement("div");la.default.extend(a.__resize_handle.style,{width:"6px",marginLeft:"-3px",height:"200px",cursor:"ew-resize",position:"absolute"});G.default.bind(a.__resize_handle,"mousedown",f);G.default.bind(a.__closeButton,"mousedown",f);a.domElement.insertBefore(a.__resize_handle,a.domElement.firstElementChild)}function c(a,b){a.domElement.style.width=b+"px";a.__save_row&&
a.autoPlace&&(a.__save_row.style.width=b+"px");a.__closeButton&&(a.__closeButton.style.width=b+"px")}function F(a,b){var c={};la.default.each(a.__rememberedObjects,function(f,k){var m={};la.default.each(a.__rememberedObjectIndecesToControllers[k],function(a,c){m[c]=b?a.initialValue:a.getValue()});c[k]=m});return c}function V(a){0!==a.length&&J.default.call(window,function(){V(a)});la.default.each(a,function(a){a.updateDisplay()})}m.__esModule=!0;var q="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?
function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},U=f(18);U=k(U);var A=f(19),ta=k(A);A=f(20);var bb=k(A);A=f(7);var fa=k(A);A=f(8);var xa=k(A);A=f(15);var Ca=k(A);A=f(13);var Ma=k(A);A=f(14);var Na=k(A);A=f(16);var oa=k(A);A=f(21);var J=k(A);A=f(22);var Oa=k(A);A=f(9);var G=k(A);A=f(5);var la=k(A);f=f(23);f=k(f);U.default.inject(f.default);try{var cb="localStorage"in window&&null!==window.localStorage}catch(E){cb=
!1}var ha=void 0,aa=!0,tb=void 0,Ob=!1,Zb=[],T=function ea(a){function b(){var a=f.getRoot();a.width+=1;la.default.defer(function(){--a.width})}var f=this,k=a||{};this.domElement=document.createElement("div");this.__ul=document.createElement("ul");this.domElement.appendChild(this.__ul);G.default.addClass(this.domElement,"dg");this.__folders={};this.__controllers=[];this.__rememberedObjects=[];this.__rememberedObjectIndecesToControllers=[];this.__listening=[];k=la.default.defaults(k,{closeOnTop:!1,
autoPlace:!0,width:ea.DEFAULT_WIDTH});k=la.default.defaults(k,{resizable:k.autoPlace,hideable:k.autoPlace});la.default.isUndefined(k.load)?k.load={preset:"Default"}:k.preset&&(k.load.preset=k.preset);la.default.isUndefined(k.parent)&&k.hideable&&Zb.push(this);k.resizable=la.default.isUndefined(k.parent)&&k.resizable;k.autoPlace&&la.default.isUndefined(k.scrollable)&&(k.scrollable=!0);var m=cb&&"true"===localStorage.getItem(document.location.href+".isLocal"),p=void 0;Object.defineProperties(this,{parent:{get:function(){return k.parent}},
scrollable:{get:function(){return k.scrollable}},autoPlace:{get:function(){return k.autoPlace}},closeOnTop:{get:function(){return k.closeOnTop}},preset:{get:function(){return f.parent?f.getRoot().preset:k.load.preset},set:function(a){f.parent?f.getRoot().preset=a:k.load.preset=a;for(a=0;a<this.__preset_select.length;a++)this.__preset_select[a].value===this.preset&&(this.__preset_select.selectedIndex=a);f.revert()}},width:{get:function(){return k.width},set:function(a){k.width=a;c(f,a)}},name:{get:function(){return k.name},
set:function(a){k.name=a;titleRowName&&(titleRowName.innerHTML=k.name)}},closed:{get:function(){return k.closed},set:function(a){k.closed=a;k.closed?G.default.addClass(f.__ul,ea.CLASS_CLOSED):G.default.removeClass(f.__ul,ea.CLASS_CLOSED);this.onResize();f.__closeButton&&(f.__closeButton.innerHTML=a?ea.TEXT_OPEN:ea.TEXT_CLOSED)}},load:{get:function(){return k.load}},useLocalStorage:{get:function(){return m},set:function(a){cb&&((m=a)?G.default.bind(window,"unload",p):G.default.unbind(window,"unload",
p),localStorage.setItem(document.location.href+".isLocal",a))}}});la.default.isUndefined(k.parent)?(k.closed=!1,G.default.addClass(this.domElement,ea.CLASS_MAIN),G.default.makeSelectable(this.domElement,!1),cb&&m&&(f.useLocalStorage=!0,a=localStorage.getItem(document.location.href+".gui"))&&(k.load=JSON.parse(a)),this.__closeButton=document.createElement("div"),this.__closeButton.innerHTML=ea.TEXT_CLOSED,G.default.addClass(this.__closeButton,ea.CLASS_CLOSE_BUTTON),k.closeOnTop?(G.default.addClass(this.__closeButton,
ea.CLASS_CLOSE_TOP),this.domElement.insertBefore(this.__closeButton,this.domElement.childNodes[0])):(G.default.addClass(this.__closeButton,ea.CLASS_CLOSE_BOTTOM),this.domElement.appendChild(this.__closeButton)),G.default.bind(this.__closeButton,"click",function(){f.closed=!f.closed})):(void 0===k.closed&&(k.closed=!0),a=document.createTextNode(k.name),G.default.addClass(a,"controller-name"),a=n(f,a),G.default.addClass(this.__ul,ea.CLASS_CLOSED),G.default.addClass(a,"title"),G.default.bind(a,"click",
function(a){a.preventDefault();f.closed=!f.closed;return!1}),k.closed||(this.closed=!1));k.autoPlace&&(la.default.isUndefined(k.parent)&&(aa&&(tb=document.createElement("div"),G.default.addClass(tb,"dg"),G.default.addClass(tb,ea.CLASS_AUTO_PLACE_CONTAINER),document.body.appendChild(tb),aa=!1),tb.appendChild(this.domElement),G.default.addClass(this.domElement,ea.CLASS_AUTO_PLACE)),this.parent||c(f,k.width));this.__resizeHandler=function(){f.onResizeDebounced()};G.default.bind(window,"resize",this.__resizeHandler);
G.default.bind(this.__ul,"webkitTransitionEnd",this.__resizeHandler);G.default.bind(this.__ul,"transitionend",this.__resizeHandler);G.default.bind(this.__ul,"oTransitionEnd",this.__resizeHandler);this.onResize();k.resizable&&H(this);this.saveToLocalStorageIfPossible=p=function(){cb&&"true"===localStorage.getItem(document.location.href+".isLocal")&&localStorage.setItem(document.location.href+".gui",JSON.stringify(f.getSaveObject()))};k.parent||b()};T.toggleHide=function(){Ob=!Ob;la.default.each(Zb,
function(a){a.domElement.style.display=Ob?"none":""})};T.CLASS_AUTO_PLACE="a";T.CLASS_AUTO_PLACE_CONTAINER="ac";T.CLASS_MAIN="main";T.CLASS_CONTROLLER_ROW="cr";T.CLASS_TOO_TALL="taller-than-window";T.CLASS_CLOSED="closed";T.CLASS_CLOSE_BUTTON="close-button";T.CLASS_CLOSE_TOP="close-top";T.CLASS_CLOSE_BOTTOM="close-bottom";T.CLASS_DRAG="drag";T.DEFAULT_WIDTH=245;T.TEXT_CLOSED="Close Controls";T.TEXT_OPEN="Open Controls";T._keydownHandler=function(a){"text"===document.activeElement.type||72!==a.which&&
72!==a.keyCode||T.toggleHide()};G.default.bind(window,"keydown",T._keydownHandler,!1);la.default.extend(T.prototype,{add:function(a,c){return b(this,a,c,{factoryArgs:Array.prototype.slice.call(arguments,2)})},addColor:function(a,c){return b(this,a,c,{color:!0})},remove:function(a){this.__ul.removeChild(a.__li);this.__controllers.splice(this.__controllers.indexOf(a),1);var b=this;la.default.defer(function(){b.onResize()})},destroy:function(){this.autoPlace&&tb.removeChild(this.domElement);G.default.unbind(window,
"keydown",T._keydownHandler,!1);G.default.unbind(window,"resize",this.__resizeHandler);this.saveToLocalStorageIfPossible&&G.default.unbind(window,"unload",this.saveToLocalStorageIfPossible)},addFolder:function(a){if(void 0!==this.__folders[a])throw Error('You already have a folder in this GUI by the name "'+a+'"');var b={name:a,parent:this};b.autoPlace=this.autoPlace;this.load&&this.load.folders&&this.load.folders[a]&&(b.closed=this.load.folders[a].closed,b.load=this.load.folders[a]);b=new T(b);this.__folders[a]=
b;a=n(this,b.domElement);G.default.addClass(a,"folder");return b},open:function(){this.closed=!1},close:function(){this.closed=!0},onResize:function(){var a=this.getRoot();if(a.scrollable){var b=G.default.getOffset(a.__ul).top,c=0;la.default.each(a.__ul.childNodes,function(b){a.autoPlace&&b===a.__save_row||(c+=G.default.getHeight(b))});window.innerHeight-b-20<c?(G.default.addClass(a.domElement,T.CLASS_TOO_TALL),a.__ul.style.height=window.innerHeight-b-20+"px"):(G.default.removeClass(a.domElement,
T.CLASS_TOO_TALL),a.__ul.style.height="auto")}a.__resize_handle&&la.default.defer(function(){a.__resize_handle.style.height=a.__ul.offsetHeight+"px"});a.__closeButton&&(a.__closeButton.style.width=a.width+"px")},onResizeDebounced:la.default.debounce(function(){this.onResize()},50),remember:function(){la.default.isUndefined(ha)&&(ha=new Oa.default,ha.domElement.innerHTML=ta.default);if(this.parent)throw Error("You can only call remember on a top level GUI.");var a=this;la.default.each(Array.prototype.slice.call(arguments),
function(b){0===a.__rememberedObjects.length&&x(a);-1===a.__rememberedObjects.indexOf(b)&&a.__rememberedObjects.push(b)});this.autoPlace&&c(this,this.width)},getRoot:function(){for(var a=this;a.parent;)a=a.parent;return a},getSaveObject:function(){var a=this.load;a.closed=this.closed;0<this.__rememberedObjects.length&&(a.preset=this.preset,a.remembered||(a.remembered={}),a.remembered[this.preset]=F(this));a.folders={};la.default.each(this.__folders,function(b,c){a.folders[c]=b.getSaveObject()});return a},
save:function(){this.load.remembered||(this.load.remembered={});this.load.remembered[this.preset]=F(this);p(this,!1);this.saveToLocalStorageIfPossible()},saveAs:function(a){this.load.remembered||(this.load.remembered={},this.load.remembered.Default=F(this,!0));this.load.remembered[a]=F(this);this.preset=a;t(this,a,!0);this.saveToLocalStorageIfPossible()},revert:function(a){la.default.each(this.__controllers,function(b){this.getRoot().load.remembered?w(a||this.getRoot(),b):b.setValue(b.initialValue);
b.__onFinishChange&&b.__onFinishChange.call(b,b.getValue())},this);la.default.each(this.__folders,function(a){a.revert(a)});a||p(this.getRoot(),!1)},listen:function(a){var b=0===this.__listening.length;this.__listening.push(a);b&&V(this.__listening)},updateDisplay:function(){la.default.each(this.__controllers,function(a){a.updateDisplay()});la.default.each(this.__folders,function(a){a.updateDisplay()})}});m.default=T;a.exports=m["default"]},function(a,m){a.exports={load:function(a,k){k=k||document;
var f=k.createElement("link");f.type="text/css";f.rel="stylesheet";f.href=a;k.getElementsByTagName("head")[0].appendChild(f)},inject:function(a,k){var f=k||document;k=document.createElement("style");k.type="text/css";k.innerHTML=a;a=f.getElementsByTagName("head")[0];try{a.appendChild(k)}catch(p){}}}},function(a,m){a.exports='<div id="dg-save" class="dg dialogue">\n\n  Here\'s the new load parameter for your <code>GUI</code>\'s constructor:\n\n  <textarea id="dg-new-constructor"></textarea>\n\n  <div id="dg-save-locally">\n\n    <input id="dg-local-storage" type="checkbox"/> Automatically save\n    values to <code>localStorage</code> on exit.\n\n    <div id="dg-local-explain">The values saved to <code>localStorage</code> will\n      override those passed to <code>dat.GUI</code>\'s constructor. This makes it\n      easier to work incrementally, but <code>localStorage</code> is fragile,\n      and your friends may not see the same values you do.\n\n    </div>\n\n  </div>\n\n</div>'},
function(a,m,f){function k(a){return a&&a.__esModule?a:{default:a}}m.__esModule=!0;var n=f(10),p=k(n);n=f(13);var z=k(n);n=f(14);var w=k(n);n=f(11);var b=k(n);n=f(15);var t=k(n);n=f(8);var x=k(n);f=f(5);var H=k(f);m.default=function(a,f,k,m,n){var c=a[f];return H.default.isArray(k)||H.default.isObject(k)?new p.default(a,f,k):H.default.isNumber(c)?H.default.isNumber(k)&&H.default.isNumber(m)?H.default.isNumber(n)?new w.default(a,f,k,m,n):new w.default(a,f,k,m):H.default.isNumber(n)?new z.default(a,
f,{min:k,max:m,step:n}):new z.default(a,f,{min:k,max:m}):H.default.isString(c)?new b.default(a,f):H.default.isFunction(c)?new t.default(a,f,""):H.default.isBoolean(c)?new x.default(a,f):null};a.exports=m["default"]},function(a,m){function f(a){setTimeout(a,1E3/60)}m.__esModule=!0;m.default=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||f;a.exports=m["default"]},function(a,m,f){m.__esModule=
!0;var k=f(9),n=k&&k.__esModule?k:{default:k},p=(f=f(5))&&f.__esModule?f:{default:f};f=function(){function a(){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this.backgroundElement=document.createElement("div");p.default.extend(this.backgroundElement.style,{backgroundColor:"rgba(0,0,0,0.8)",top:0,left:0,display:"none",zIndex:"1000",opacity:0,WebkitTransition:"opacity 0.2s linear",transition:"opacity 0.2s linear"});n.default.makeFullscreen(this.backgroundElement);
this.backgroundElement.style.position="fixed";this.domElement=document.createElement("div");p.default.extend(this.domElement.style,{position:"fixed",display:"none",zIndex:"1001",opacity:0,WebkitTransition:"-webkit-transform 0.2s ease-out, opacity 0.2s linear",transition:"transform 0.2s ease-out, opacity 0.2s linear"});document.body.appendChild(this.backgroundElement);document.body.appendChild(this.domElement);var f=this;n.default.bind(this.backgroundElement,"click",function(){f.hide()})}a.prototype.show=
function(){var a=this;this.backgroundElement.style.display="block";this.domElement.style.display="block";this.domElement.style.opacity=0;this.domElement.style.webkitTransform="scale(1.1)";this.layout();p.default.defer(function(){a.backgroundElement.style.opacity=1;a.domElement.style.opacity=1;a.domElement.style.webkitTransform="scale(1)"})};a.prototype.hide=function(){var a=this,b=function x(){a.domElement.style.display="none";a.backgroundElement.style.display="none";n.default.unbind(a.domElement,
"webkitTransitionEnd",x);n.default.unbind(a.domElement,"transitionend",x);n.default.unbind(a.domElement,"oTransitionEnd",x)};n.default.bind(this.domElement,"webkitTransitionEnd",b);n.default.bind(this.domElement,"transitionend",b);n.default.bind(this.domElement,"oTransitionEnd",b);this.backgroundElement.style.opacity=0;this.domElement.style.opacity=0;this.domElement.style.webkitTransform="scale(1.1)"};a.prototype.layout=function(){this.domElement.style.left=window.innerWidth/2-n.default.getWidth(this.domElement)/
2+"px";this.domElement.style.top=window.innerHeight/2-n.default.getHeight(this.domElement)/2+"px"};return a}();m.default=f;a.exports=m["default"]},function(a,m,f){m=a.exports=f(24)();m.push([a.id,".dg {\n  /** Clear list styles */\n  /* Auto-place container */\n  /* Auto-placed GUI's */\n  /* Line items that don't contain folders. */\n  /** Folder names */\n  /** Hides closed items */\n  /** Controller row */\n  /** Name-half (left) */\n  /** Controller-half (right) */\n  /** Controller placement */\n  /** Shorter number boxes when slider is present. */\n  /** Ensure the entire boolean and function row shows a hand */\n  /** allow overflow for color selector */ }\n  .dg ul {\n    list-style: none;\n    margin: 0;\n    padding: 0;\n    width: 100%;\n    clear: both; }\n  .dg.ac {\n    position: fixed;\n    top: 0;\n    left: 0;\n    right: 0;\n    height: 0;\n    z-index: 0; }\n  .dg:not(.ac) .main {\n    /** Exclude mains in ac so that we don't hide close button */\n    overflow: hidden; }\n  .dg.main {\n    -webkit-transition: opacity 0.1s linear;\n    -o-transition: opacity 0.1s linear;\n    -moz-transition: opacity 0.1s linear;\n    transition: opacity 0.1s linear; }\n    .dg.main.taller-than-window {\n      overflow-y: auto; }\n      .dg.main.taller-than-window .close-button {\n        opacity: 1;\n        /* TODO, these are style notes */\n        margin-top: -1px;\n        border-top: 1px solid #2c2c2c; }\n    .dg.main ul.closed .close-button {\n      opacity: 1 !important; }\n    .dg.main:hover .close-button,\n    .dg.main .close-button.drag {\n      opacity: 1; }\n    .dg.main .close-button {\n      /*opacity: 0;*/\n      -webkit-transition: opacity 0.1s linear;\n      -o-transition: opacity 0.1s linear;\n      -moz-transition: opacity 0.1s linear;\n      transition: opacity 0.1s linear;\n      border: 0;\n      line-height: 19px;\n      height: 20px;\n      /* TODO, these are style notes */\n      cursor: pointer;\n      text-align: center;\n      background-color: #000; }\n      .dg.main .close-button.close-top {\n        position: relative; }\n      .dg.main .close-button.close-bottom {\n        position: absolute; }\n      .dg.main .close-button:hover {\n        background-color: #111; }\n  .dg.a {\n    float: right;\n    margin-right: 15px;\n    overflow-y: visible; }\n    .dg.a.has-save > ul.close-top {\n      margin-top: 0; }\n    .dg.a.has-save > ul.close-bottom {\n      margin-top: 27px; }\n    .dg.a.has-save > ul.closed {\n      margin-top: 0; }\n    .dg.a .save-row {\n      top: 0;\n      z-index: 1002; }\n      .dg.a .save-row.close-top {\n        position: relative; }\n      .dg.a .save-row.close-bottom {\n        position: fixed; }\n  .dg li {\n    -webkit-transition: height 0.1s ease-out;\n    -o-transition: height 0.1s ease-out;\n    -moz-transition: height 0.1s ease-out;\n    transition: height 0.1s ease-out;\n    -webkit-transition: overflow 0.1s linear;\n    -o-transition: overflow 0.1s linear;\n    -moz-transition: overflow 0.1s linear;\n    transition: overflow 0.1s linear; }\n  .dg li:not(.folder) {\n    cursor: auto;\n    height: 27px;\n    line-height: 27px;\n    padding: 0 4px 0 5px; }\n  .dg li.folder {\n    padding: 0;\n    border-left: 4px solid transparent; }\n  .dg li.title {\n    cursor: pointer;\n    margin-left: -4px; }\n  .dg .closed li:not(.title),\n  .dg .closed ul li,\n  .dg .closed ul li > * {\n    height: 0;\n    overflow: hidden;\n    border: 0; }\n  .dg .cr {\n    clear: both;\n    padding-left: 3px;\n    height: 27px;\n    overflow: hidden; }\n  .dg .property-name {\n    cursor: default;\n    float: left;\n    clear: left;\n    width: 40%;\n    overflow: hidden;\n    text-overflow: ellipsis; }\n  .dg .c {\n    float: left;\n    width: 60%;\n    position: relative; }\n  .dg .c input[type=text] {\n    border: 0;\n    margin-top: 4px;\n    padding: 3px;\n    width: 100%;\n    float: right; }\n  .dg .has-slider input[type=text] {\n    width: 30%;\n    /*display: none;*/\n    margin-left: 0; }\n  .dg .slider {\n    float: left;\n    width: 66%;\n    margin-left: -5px;\n    margin-right: 0;\n    height: 19px;\n    margin-top: 4px; }\n  .dg .slider-fg {\n    height: 100%; }\n  .dg .c input[type=checkbox] {\n    margin-top: 7px; }\n  .dg .c select {\n    margin-top: 5px; }\n  .dg .cr.function,\n  .dg .cr.function .property-name,\n  .dg .cr.function *,\n  .dg .cr.boolean,\n  .dg .cr.boolean * {\n    cursor: pointer; }\n  .dg .cr.color {\n    overflow: visible; }\n  .dg .selector {\n    display: none;\n    position: absolute;\n    margin-left: -9px;\n    margin-top: 23px;\n    z-index: 10; }\n  .dg .c:hover .selector,\n  .dg .selector.drag {\n    display: block; }\n  .dg li.save-row {\n    padding: 0; }\n    .dg li.save-row .button {\n      display: inline-block;\n      padding: 0px 6px; }\n  .dg.dialogue {\n    background-color: #222;\n    width: 460px;\n    padding: 15px;\n    font-size: 13px;\n    line-height: 15px; }\n\n/* TODO Separate style and structure */\n#dg-new-constructor {\n  padding: 10px;\n  color: #222;\n  font-family: Monaco, monospace;\n  font-size: 10px;\n  border: 0;\n  resize: none;\n  box-shadow: inset 1px 1px 1px #888;\n  word-wrap: break-word;\n  margin: 12px 0;\n  display: block;\n  width: 440px;\n  overflow-y: scroll;\n  height: 100px;\n  position: relative; }\n\n#dg-local-explain {\n  display: none;\n  font-size: 11px;\n  line-height: 17px;\n  border-radius: 3px;\n  background-color: #333;\n  padding: 8px;\n  margin-top: 10px; }\n  #dg-local-explain code {\n    font-size: 10px; }\n\n#dat-gui-save-locally {\n  display: none; }\n\n/** Main type */\n.dg {\n  color: #eee;\n  font: 11px 'Lucida Grande', sans-serif;\n  text-shadow: 0 -1px 0 #111;\n  /** Auto place */\n  /* Controller row, <li> */\n  /** Controllers */ }\n  .dg.main {\n    /** Scrollbar */ }\n    .dg.main::-webkit-scrollbar {\n      width: 5px;\n      background: #1a1a1a; }\n    .dg.main::-webkit-scrollbar-corner {\n      height: 0;\n      display: none; }\n    .dg.main::-webkit-scrollbar-thumb {\n      border-radius: 5px;\n      background: #676767; }\n  .dg li:not(.folder) {\n    background: #1a1a1a;\n    border-bottom: 1px solid #2c2c2c; }\n  .dg li.save-row {\n    line-height: 25px;\n    background: #dad5cb;\n    border: 0; }\n    .dg li.save-row select {\n      margin-left: 5px;\n      width: 108px; }\n    .dg li.save-row .button {\n      margin-left: 5px;\n      margin-top: 1px;\n      border-radius: 2px;\n      font-size: 9px;\n      line-height: 7px;\n      padding: 4px 4px 5px 4px;\n      background: #c5bdad;\n      color: #fff;\n      text-shadow: 0 1px 0 #b0a58f;\n      box-shadow: 0 -1px 0 #b0a58f;\n      cursor: pointer; }\n      .dg li.save-row .button.gears {\n        background: #c5bdad url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAANCAYAAAB/9ZQ7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAQJJREFUeNpiYKAU/P//PwGIC/ApCABiBSAW+I8AClAcgKxQ4T9hoMAEUrxx2QSGN6+egDX+/vWT4e7N82AMYoPAx/evwWoYoSYbACX2s7KxCxzcsezDh3evFoDEBYTEEqycggWAzA9AuUSQQgeYPa9fPv6/YWm/Acx5IPb7ty/fw+QZblw67vDs8R0YHyQhgObx+yAJkBqmG5dPPDh1aPOGR/eugW0G4vlIoTIfyFcA+QekhhHJhPdQxbiAIguMBTQZrPD7108M6roWYDFQiIAAv6Aow/1bFwXgis+f2LUAynwoIaNcz8XNx3Dl7MEJUDGQpx9gtQ8YCueB+D26OECAAQDadt7e46D42QAAAABJRU5ErkJggg==) 2px 1px no-repeat;\n        height: 7px;\n        width: 8px; }\n      .dg li.save-row .button:hover {\n        background-color: #bab19e;\n        box-shadow: 0 -1px 0 #b0a58f; }\n  .dg li.folder {\n    border-bottom: 0; }\n  .dg li.title {\n    padding-left: 16px;\n    background: #000 url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlI+hKgFxoCgAOw==) 6px 10px no-repeat;\n    cursor: pointer;\n    border-bottom: 1px solid rgba(255, 255, 255, 0.2); }\n  .dg .closed li.title {\n    background-image: url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlGIWqMCbWAEAOw==); }\n  .dg .cr.boolean {\n    border-left: 3px solid #806787; }\n  .dg .cr.color {\n    border-left: 3px solid; }\n  .dg .cr.function {\n    border-left: 3px solid #e61d5f; }\n  .dg .cr.number {\n    border-left: 3px solid #2FA1D6; }\n    .dg .cr.number input[type=text] {\n      color: #2FA1D6; }\n  .dg .cr.string {\n    border-left: 3px solid #1ed36f; }\n    .dg .cr.string input[type=text] {\n      color: #1ed36f; }\n  .dg .cr.function:hover, .dg .cr.boolean:hover {\n    background: #111; }\n  .dg .c input[type=text] {\n    background: #303030;\n    outline: none; }\n    .dg .c input[type=text]:hover {\n      background: #3c3c3c; }\n    .dg .c input[type=text]:focus {\n      background: #494949;\n      color: #fff; }\n  .dg .c .slider {\n    background: #303030;\n    cursor: ew-resize; }\n  .dg .c .slider-fg {\n    background: #2FA1D6;\n    max-width: 100%; }\n  .dg .c .slider:hover {\n    background: #3c3c3c; }\n    .dg .c .slider:hover .slider-fg {\n      background: #44abda; }\n",
""])},function(a,m){a.exports=function(){var a=[];a.toString=function(){for(var a=[],f=0;f<this.length;f++){var m=this[f];m[2]?a.push("@media "+m[2]+"{"+m[1]+"}"):a.push(m[1])}return a.join("")};a.i=function(f,m){"string"===typeof f&&(f=[[null,f,""]]);for(var k={},n=0;n<this.length;n++){var w=this[n][0];"number"===typeof w&&(k[w]=!0)}for(n=0;n<f.length;n++)w=f[n],"number"===typeof w[0]&&k[w[0]]||(m&&!w[2]?w[2]=m:m&&(w[2]="("+w[2]+") and ("+m+")"),a.push(w))};return a}}])});
